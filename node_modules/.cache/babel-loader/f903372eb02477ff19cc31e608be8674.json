{"ast":null,"code":"import { withInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, shallowRef, ref, computed, onMounted, openBlock, createBlock, Transition, withCtx, createElementBlock, normalizeStyle, withModifiers, renderSlot, createCommentVNode, createElementVNode } from 'vue';\nimport { useThrottleFn, useEventListener } from '@vueuse/core';\nimport { easeInOutCubic } from 'element-plus/es/utils/animation';\nimport { throwError } from 'element-plus/es/utils/error';\nconst backtopProps = {\n  visibilityHeight: {\n    type: Number,\n    default: 200\n  },\n  target: {\n    type: String,\n    default: \"\"\n  },\n  right: {\n    type: Number,\n    default: 40\n  },\n  bottom: {\n    type: Number,\n    default: 40\n  }\n};\nconst backtopEmits = {\n  click: evt => evt instanceof MouseEvent\n};\nconst COMPONENT_NAME = \"ElBacktop\";\nvar script = defineComponent({\n  name: COMPONENT_NAME,\n  props: backtopProps,\n  emits: backtopEmits,\n\n  setup(props, {\n    emit\n  }) {\n    const el = shallowRef(document.documentElement);\n    const container = shallowRef(document);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n\n    const scrollToTop = () => {\n      if (!el.value) return;\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n\n      const frameFunc = () => {\n        if (!el.value) return;\n        const progress = (Date.now() - beginTime) / 500;\n\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          requestAnimationFrame(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n\n      requestAnimationFrame(frameFunc);\n    };\n\n    const handleScroll = () => {\n      if (el.value) visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n\n    const handleClick = event => {\n      scrollToTop();\n      emit(\"click\", event);\n    };\n\n    const handleScrollThrottled = useThrottleFn(handleScroll, 300);\n    onMounted(() => {\n      var _a;\n\n      if (props.target) {\n        el.value = (_a = document.querySelector(props.target)) != null ? _a : void 0;\n\n        if (!el.value) {\n          throwError(COMPONENT_NAME, `target is not existed: ${props.target}`);\n        }\n\n        container.value = el.value;\n      }\n\n      useEventListener(container, \"scroll\", handleScrollThrottled);\n    });\n    return {\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n\n});\n\nconst _hoisted_1 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-icon-caret-top\"\n}, null, -1);\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"el-fade-in\"\n  }, {\n    default: withCtx(() => [_ctx.visible ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      style: normalizeStyle({\n        right: _ctx.styleRight,\n        bottom: _ctx.styleBottom\n      }),\n      class: \"el-backtop\",\n      onClick: _cache[0] || (_cache[0] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n    }, [renderSlot(_ctx.$slots, \"default\", {}, () => [_hoisted_1])], 4)) : createCommentVNode(\"v-if\", true)]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/components/backtop/src/backtop.vue\";\nconst ElBacktop = withInstall(script);\nexport { ElBacktop, backtopEmits, backtopProps, ElBacktop as default };","map":{"version":3,"names":["withInstall","defineComponent","shallowRef","ref","computed","onMounted","openBlock","createBlock","Transition","withCtx","createElementBlock","normalizeStyle","withModifiers","renderSlot","createCommentVNode","createElementVNode","useThrottleFn","useEventListener","easeInOutCubic","throwError","backtopProps","visibilityHeight","type","Number","default","target","String","right","bottom","backtopEmits","click","evt","MouseEvent","COMPONENT_NAME","script","name","props","emits","setup","emit","el","document","documentElement","container","visible","styleBottom","styleRight","scrollToTop","value","beginTime","Date","now","beginValue","scrollTop","frameFunc","progress","requestAnimationFrame","handleScroll","handleClick","event","handleScrollThrottled","_a","querySelector","_hoisted_1","class","render","_ctx","_cache","$props","$setup","$data","$options","key","style","onClick","args","$slots","_","__file","ElBacktop"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/components/backtop/index.js"],"sourcesContent":["import { withInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, shallowRef, ref, computed, onMounted, openBlock, createBlock, Transition, withCtx, createElementBlock, normalizeStyle, withModifiers, renderSlot, createCommentVNode, createElementVNode } from 'vue';\nimport { useThrottleFn, useEventListener } from '@vueuse/core';\nimport { easeInOutCubic } from 'element-plus/es/utils/animation';\nimport { throwError } from 'element-plus/es/utils/error';\n\nconst backtopProps = {\n  visibilityHeight: {\n    type: Number,\n    default: 200\n  },\n  target: {\n    type: String,\n    default: \"\"\n  },\n  right: {\n    type: Number,\n    default: 40\n  },\n  bottom: {\n    type: Number,\n    default: 40\n  }\n};\nconst backtopEmits = {\n  click: (evt) => evt instanceof MouseEvent\n};\n\nconst COMPONENT_NAME = \"ElBacktop\";\nvar script = defineComponent({\n  name: COMPONENT_NAME,\n  props: backtopProps,\n  emits: backtopEmits,\n  setup(props, { emit }) {\n    const el = shallowRef(document.documentElement);\n    const container = shallowRef(document);\n    const visible = ref(false);\n    const styleBottom = computed(() => `${props.bottom}px`);\n    const styleRight = computed(() => `${props.right}px`);\n    const scrollToTop = () => {\n      if (!el.value)\n        return;\n      const beginTime = Date.now();\n      const beginValue = el.value.scrollTop;\n      const frameFunc = () => {\n        if (!el.value)\n          return;\n        const progress = (Date.now() - beginTime) / 500;\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress));\n          requestAnimationFrame(frameFunc);\n        } else {\n          el.value.scrollTop = 0;\n        }\n      };\n      requestAnimationFrame(frameFunc);\n    };\n    const handleScroll = () => {\n      if (el.value)\n        visible.value = el.value.scrollTop >= props.visibilityHeight;\n    };\n    const handleClick = (event) => {\n      scrollToTop();\n      emit(\"click\", event);\n    };\n    const handleScrollThrottled = useThrottleFn(handleScroll, 300);\n    onMounted(() => {\n      var _a;\n      if (props.target) {\n        el.value = (_a = document.querySelector(props.target)) != null ? _a : void 0;\n        if (!el.value) {\n          throwError(COMPONENT_NAME, `target is not existed: ${props.target}`);\n        }\n        container.value = el.value;\n      }\n      useEventListener(container, \"scroll\", handleScrollThrottled);\n    });\n    return {\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-icon-caret-top\" }, null, -1);\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"el-fade-in\" }, {\n    default: withCtx(() => [\n      _ctx.visible ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        style: normalizeStyle({\n          right: _ctx.styleRight,\n          bottom: _ctx.styleBottom\n        }),\n        class: \"el-backtop\",\n        onClick: _cache[0] || (_cache[0] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n      }, [\n        renderSlot(_ctx.$slots, \"default\", {}, () => [\n          _hoisted_1\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true)\n    ]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/components/backtop/src/backtop.vue\";\n\nconst ElBacktop = withInstall(script);\n\nexport { ElBacktop, backtopEmits, backtopProps, ElBacktop as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}