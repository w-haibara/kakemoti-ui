{"ast":null,"code":"import { inject, computed, watch, ref, nextTick, defineComponent, reactive, toRefs, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, withKeys, withModifiers, createVNode, withCtx, createElementVNode, toDisplayString, h, shallowRef, provide, onMounted, onBeforeUnmount, createBlock, createCommentVNode, Fragment, renderList } from 'vue';\nimport ElInputNumber from 'element-plus/es/components/input-number';\nimport { UPDATE_MODEL_EVENT, INPUT_EVENT, CHANGE_EVENT } from 'element-plus/es/utils/constants';\nimport { on, off } from 'element-plus/es/utils/dom';\nimport { debugWarn, throwError } from 'element-plus/es/utils/error';\nimport ElTooltip from 'element-plus/es/components/tooltip';\nimport debounce from 'lodash/debounce';\nimport { elFormKey, elFormItemKey } from 'element-plus/es/tokens';\n\nvar __async$2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nconst useTooltip = (props, formatTooltip, showTooltip) => {\n  const tooltip = ref(null);\n  const tooltipVisible = ref(false);\n  const enableFormat = computed(() => {\n    return formatTooltip.value instanceof Function;\n  });\n  const formatValue = computed(() => {\n    return enableFormat.value && formatTooltip.value(props.modelValue) || props.modelValue;\n  });\n  const displayTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = true);\n  }, 50);\n  const hideTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = false);\n  }, 50);\n  return {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  };\n};\n\nconst useSliderButton = (props, initData, emit) => {\n  const {\n    disabled,\n    min,\n    max,\n    step,\n    showTooltip,\n    precision,\n    sliderSize,\n    formatTooltip,\n    emitChange,\n    resetSize,\n    updateDragging\n  } = inject(\"SliderProvider\");\n  const {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  } = useTooltip(props, formatTooltip, showTooltip);\n  const currentPosition = computed(() => {\n    return `${(props.modelValue - min.value) / (max.value - min.value) * 100}%`;\n  });\n  const wrapperStyle = computed(() => {\n    return props.vertical ? {\n      bottom: currentPosition.value\n    } : {\n      left: currentPosition.value\n    };\n  });\n\n  const handleMouseEnter = () => {\n    initData.hovering = true;\n    displayTooltip();\n  };\n\n  const handleMouseLeave = () => {\n    initData.hovering = false;\n\n    if (!initData.dragging) {\n      hideTooltip();\n    }\n  };\n\n  const onButtonDown = event => {\n    if (disabled.value) return;\n    event.preventDefault();\n    onDragStart(event);\n    on(window, \"mousemove\", onDragging);\n    on(window, \"touchmove\", onDragging);\n    on(window, \"mouseup\", onDragEnd);\n    on(window, \"touchend\", onDragEnd);\n    on(window, \"contextmenu\", onDragEnd);\n  };\n\n  const onLeftKeyDown = () => {\n    if (disabled.value) return;\n    initData.newPosition = parseFloat(currentPosition.value) - step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n\n  const onRightKeyDown = () => {\n    if (disabled.value) return;\n    initData.newPosition = parseFloat(currentPosition.value) + step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n\n  const getClientXY = event => {\n    let clientX;\n    let clientY;\n\n    if (event.type.startsWith(\"touch\")) {\n      clientY = event.touches[0].clientY;\n      clientX = event.touches[0].clientX;\n    } else {\n      clientY = event.clientY;\n      clientX = event.clientX;\n    }\n\n    return {\n      clientX,\n      clientY\n    };\n  };\n\n  const onDragStart = event => {\n    initData.dragging = true;\n    initData.isClick = true;\n    const {\n      clientX,\n      clientY\n    } = getClientXY(event);\n\n    if (props.vertical) {\n      initData.startY = clientY;\n    } else {\n      initData.startX = clientX;\n    }\n\n    initData.startPosition = parseFloat(currentPosition.value);\n    initData.newPosition = initData.startPosition;\n  };\n\n  const onDragging = event => {\n    if (initData.dragging) {\n      initData.isClick = false;\n      displayTooltip();\n      resetSize();\n      let diff;\n      const {\n        clientX,\n        clientY\n      } = getClientXY(event);\n\n      if (props.vertical) {\n        initData.currentY = clientY;\n        diff = (initData.startY - initData.currentY) / sliderSize.value * 100;\n      } else {\n        initData.currentX = clientX;\n        diff = (initData.currentX - initData.startX) / sliderSize.value * 100;\n      }\n\n      initData.newPosition = initData.startPosition + diff;\n      setPosition(initData.newPosition);\n    }\n  };\n\n  const onDragEnd = () => {\n    if (initData.dragging) {\n      setTimeout(() => {\n        initData.dragging = false;\n\n        if (!initData.hovering) {\n          hideTooltip();\n        }\n\n        if (!initData.isClick) {\n          setPosition(initData.newPosition);\n          emitChange();\n        }\n      }, 0);\n      off(window, \"mousemove\", onDragging);\n      off(window, \"touchmove\", onDragging);\n      off(window, \"mouseup\", onDragEnd);\n      off(window, \"touchend\", onDragEnd);\n      off(window, \"contextmenu\", onDragEnd);\n    }\n  };\n\n  const setPosition = newPosition => __async$2(undefined, null, function* () {\n    if (newPosition === null || isNaN(newPosition)) return;\n\n    if (newPosition < 0) {\n      newPosition = 0;\n    } else if (newPosition > 100) {\n      newPosition = 100;\n    }\n\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value);\n    const steps = Math.round(newPosition / lengthPerStep);\n    let value = steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value;\n    value = parseFloat(value.toFixed(precision.value));\n    emit(UPDATE_MODEL_EVENT, value);\n\n    if (!initData.dragging && props.modelValue !== initData.oldValue) {\n      initData.oldValue = props.modelValue;\n    }\n\n    yield nextTick();\n    initData.dragging && displayTooltip();\n    tooltip.value.updatePopper();\n  });\n\n  watch(() => initData.dragging, val => {\n    updateDragging(val);\n  });\n  return {\n    tooltip,\n    tooltipVisible,\n    showTooltip,\n    wrapperStyle,\n    formatValue,\n    handleMouseEnter,\n    handleMouseLeave,\n    onButtonDown,\n    onLeftKeyDown,\n    onRightKeyDown,\n    setPosition\n  };\n};\n\nvar script$2 = defineComponent({\n  name: \"ElSliderButton\",\n  components: {\n    ElTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const {\n      hovering,\n      dragging\n    } = toRefs(initData);\n    return {\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    };\n  }\n\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"button\",\n    class: normalizeClass([\"el-slider__button-wrapper\", {\n      hover: _ctx.hovering,\n      dragging: _ctx.dragging\n    }]),\n    style: normalizeStyle(_ctx.wrapperStyle),\n    tabindex: \"0\",\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onTouchstart: _cache[4] || (_cache[4] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onFocus: _cache[5] || (_cache[5] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onBlur: _cache[6] || (_cache[6] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onKeydown: [_cache[7] || (_cache[7] = withKeys((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"left\"])), _cache[8] || (_cache[8] = withKeys((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"right\"])), _cache[9] || (_cache[9] = withKeys(withModifiers((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"prevent\"]), [\"down\"])), _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"prevent\"]), [\"up\"]))]\n  }, [createVNode(_component_el_tooltip, {\n    ref: \"tooltip\",\n    modelValue: _ctx.tooltipVisible,\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.tooltipVisible = $event),\n    placement: \"top\",\n    \"stop-popper-mouse-event\": false,\n    \"popper-class\": _ctx.tooltipClass,\n    disabled: !_ctx.showTooltip,\n    manual: \"\"\n  }, {\n    content: withCtx(() => [createElementVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)]),\n    default: withCtx(() => [createElementVNode(\"div\", {\n      class: normalizeClass([\"el-slider__button\", {\n        hover: _ctx.hovering,\n        dragging: _ctx.dragging\n      }])\n    }, null, 2)]),\n    _: 1\n  }, 8, [\"modelValue\", \"popper-class\", \"disabled\"])], 38);\n}\n\nscript$2.render = render$1;\nscript$2.__file = \"packages/components/slider/src/button.vue\";\nvar script$1 = defineComponent({\n  name: \"ElMarker\",\n  props: {\n    mark: {\n      type: [String, Object],\n      default: () => void 0\n    }\n  },\n\n  setup(props) {\n    const label = computed(() => {\n      return typeof props.mark === \"string\" ? props.mark : props.mark.label;\n    });\n    return {\n      label\n    };\n  },\n\n  render() {\n    var _a;\n\n    return h(\"div\", {\n      class: \"el-slider__marks-text\",\n      style: (_a = this.mark) == null ? void 0 : _a.style\n    }, this.label);\n  }\n\n});\nscript$1.__file = \"packages/components/slider/src/marker.vue\";\n\nconst useMarks = props => {\n  return computed(() => {\n    if (!props.marks) {\n      return [];\n    }\n\n    const marksKeys = Object.keys(props.marks);\n    return marksKeys.map(parseFloat).sort((a, b) => a - b).filter(point => point <= props.max && point >= props.min).map(point => ({\n      point,\n      position: (point - props.min) * 100 / (props.max - props.min),\n      mark: props.marks[point]\n    }));\n  });\n};\n\nvar __async$1 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nconst useSlide = (props, initData, emit) => {\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const slider = shallowRef(null);\n  const firstButton = ref(null);\n  const secondButton = ref(null);\n  const buttonRefs = {\n    firstButton,\n    secondButton\n  };\n  const sliderDisabled = computed(() => {\n    return props.disabled || elForm.disabled || false;\n  });\n  const minValue = computed(() => {\n    return Math.min(initData.firstValue, initData.secondValue);\n  });\n  const maxValue = computed(() => {\n    return Math.max(initData.firstValue, initData.secondValue);\n  });\n  const barSize = computed(() => {\n    return props.range ? `${100 * (maxValue.value - minValue.value) / (props.max - props.min)}%` : `${100 * (initData.firstValue - props.min) / (props.max - props.min)}%`;\n  });\n  const barStart = computed(() => {\n    return props.range ? `${100 * (minValue.value - props.min) / (props.max - props.min)}%` : \"0%\";\n  });\n  const runwayStyle = computed(() => {\n    return props.vertical ? {\n      height: props.height\n    } : {};\n  });\n  const barStyle = computed(() => {\n    return props.vertical ? {\n      height: barSize.value,\n      bottom: barStart.value\n    } : {\n      width: barSize.value,\n      left: barStart.value\n    };\n  });\n\n  const resetSize = () => {\n    if (slider.value) {\n      initData.sliderSize = slider.value[`client${props.vertical ? \"Height\" : \"Width\"}`];\n    }\n  };\n\n  const setPosition = percent => {\n    const targetValue = props.min + percent * (props.max - props.min) / 100;\n\n    if (!props.range) {\n      firstButton.value.setPosition(percent);\n      return;\n    }\n\n    let buttonRefName;\n\n    if (Math.abs(minValue.value - targetValue) < Math.abs(maxValue.value - targetValue)) {\n      buttonRefName = initData.firstValue < initData.secondValue ? \"firstButton\" : \"secondButton\";\n    } else {\n      buttonRefName = initData.firstValue > initData.secondValue ? \"firstButton\" : \"secondButton\";\n    }\n\n    buttonRefs[buttonRefName].value.setPosition(percent);\n  };\n\n  const setFirstValue = firstValue => {\n    initData.firstValue = firstValue;\n\n    _emit(props.range ? [minValue.value, maxValue.value] : firstValue);\n  };\n\n  const setSecondValue = secondValue => {\n    initData.secondValue = secondValue;\n\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    }\n  };\n\n  const _emit = val => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n\n  const emitChange = () => __async$1(undefined, null, function* () {\n    yield nextTick();\n    emit(CHANGE_EVENT, props.range ? [minValue.value, maxValue.value] : props.modelValue);\n  });\n\n  const onSliderClick = event => {\n    if (sliderDisabled.value || initData.dragging) return;\n    resetSize();\n\n    if (props.vertical) {\n      const sliderOffsetBottom = slider.value.getBoundingClientRect().bottom;\n      setPosition((sliderOffsetBottom - event.clientY) / initData.sliderSize * 100);\n    } else {\n      const sliderOffsetLeft = slider.value.getBoundingClientRect().left;\n      setPosition((event.clientX - sliderOffsetLeft) / initData.sliderSize * 100);\n    }\n\n    emitChange();\n  };\n\n  return {\n    elFormItem,\n    slider,\n    firstButton,\n    secondButton,\n    sliderDisabled,\n    minValue,\n    maxValue,\n    runwayStyle,\n    barStyle,\n    resetSize,\n    setPosition,\n    emitChange,\n    onSliderClick,\n    setFirstValue,\n    setSecondValue\n  };\n};\n\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max) return [];\n\n    if (props.step === 0) {\n      debugWarn(\"Slider\", \"step should not be 0.\");\n      return [];\n    }\n\n    const stopCount = (props.max - props.min) / props.step;\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({\n      length: stopCount - 1\n    }).map((_, index) => (index + 1) * stepWidth);\n\n    if (props.range) {\n      return result.filter(step => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter(step => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n\n  const getStopStyle = position => {\n    return props.vertical ? {\n      bottom: `${position}%`\n    } : {\n      left: `${position}%`\n    };\n  };\n\n  return {\n    stops,\n    getStopStyle\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nvar script = defineComponent({\n  name: \"ElSlider\",\n  components: {\n    ElInputNumber,\n    SliderButton: script$2,\n    SliderMarker: script$1\n  },\n  props: {\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: \"small\"\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: {\n      type: Function,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String,\n      default: void 0\n    },\n    tooltipClass: {\n      type: String,\n      default: void 0\n    },\n    marks: Object\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n\n  setup(props, {\n    emit\n  }) {\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderClick,\n      setFirstValue,\n      setSecondValue\n    } = useSlide(props, initData, emit);\n    const {\n      stops,\n      getStopStyle\n    } = useStops(props, initData, minValue, maxValue);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      const precisions = [props.min, props.max, props.step].map(item => {\n        const decimal = `${item}`.split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const {\n      sliderWrapper\n    } = useLifecycle(props, initData, resetSize);\n    const {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize\n    } = toRefs(initData);\n\n    const updateDragging = val => {\n      initData.dragging = val;\n    };\n\n    provide(\"SliderProvider\", __spreadProps(__spreadValues({}, toRefs(props)), {\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    }));\n    return {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      getStopStyle,\n      setFirstValue,\n      setSecondValue,\n      stops,\n      markList,\n      sliderWrapper\n    };\n  }\n\n});\n\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = val => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n\n  const setValues = () => {\n    var _a, _b;\n\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n      return;\n    }\n\n    const val = props.modelValue;\n\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n\n        if (valueChanged()) {\n          (_a = elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"change\");\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && typeof val === \"number\" && !isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n\n        if (valueChanged()) {\n          (_b = elFormItem.validate) == null ? void 0 : _b.call(elFormItem, \"change\");\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n\n  setValues();\n  watch(() => initData.dragging, val => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || Array.isArray(val) && Array.isArray(oldVal) && val.every((item, index) => item === oldVal[index])) {\n      return;\n    }\n\n    setValues();\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\n\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref(null);\n  onMounted(() => __async(undefined, null, function* () {\n    let valuetext;\n\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n      valuetext = `${initData.firstValue}-${initData.secondValue}`;\n    } else {\n      if (typeof props.modelValue !== \"number\" || isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n\n      initData.oldValue = initData.firstValue;\n      valuetext = initData.firstValue;\n    }\n\n    sliderWrapper.value.setAttribute(\"aria-valuetext\", valuetext);\n    sliderWrapper.value.setAttribute(\"aria-label\", props.label ? props.label : `slider between ${props.min} and ${props.max}`);\n    on(window, \"resize\", resetSize);\n    yield nextTick();\n    resetSize();\n  }));\n  onBeforeUnmount(() => {\n    off(window, \"resize\", resetSize);\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nconst _hoisted_1 = [\"aria-valuemin\", \"aria-valuemax\", \"aria-orientation\", \"aria-disabled\"];\nconst _hoisted_2 = {\n  key: 1\n};\nconst _hoisted_3 = {\n  class: \"el-slider__marks\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input_number = resolveComponent(\"el-input-number\");\n\n  const _component_slider_button = resolveComponent(\"slider-button\");\n\n  const _component_slider_marker = resolveComponent(\"slider-marker\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"sliderWrapper\",\n    class: normalizeClass([\"el-slider\", {\n      \"is-vertical\": _ctx.vertical,\n      \"el-slider--with-input\": _ctx.showInput\n    }]),\n    role: \"slider\",\n    \"aria-valuemin\": _ctx.min,\n    \"aria-valuemax\": _ctx.max,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled\n  }, [_ctx.showInput && !_ctx.range ? (openBlock(), createBlock(_component_el_input_number, {\n    key: 0,\n    ref: \"input\",\n    \"model-value\": _ctx.firstValue,\n    class: \"el-slider__input\",\n    step: _ctx.step,\n    disabled: _ctx.sliderDisabled,\n    controls: _ctx.showInputControls,\n    min: _ctx.min,\n    max: _ctx.max,\n    debounce: _ctx.debounce,\n    size: _ctx.inputSize,\n    \"onUpdate:modelValue\": _ctx.setFirstValue,\n    onChange: _ctx.emitChange\n  }, null, 8, [\"model-value\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"debounce\", \"size\", \"onUpdate:modelValue\", \"onChange\"])) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    ref: \"slider\",\n    class: normalizeClass([\"el-slider__runway\", {\n      \"show-input\": _ctx.showInput && !_ctx.range,\n      disabled: _ctx.sliderDisabled\n    }]),\n    style: normalizeStyle(_ctx.runwayStyle),\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onSliderClick && _ctx.onSliderClick(...args))\n  }, [createElementVNode(\"div\", {\n    class: \"el-slider__bar\",\n    style: normalizeStyle(_ctx.barStyle)\n  }, null, 4), createVNode(_component_slider_button, {\n    ref: \"firstButton\",\n    \"model-value\": _ctx.firstValue,\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass,\n    \"onUpdate:modelValue\": _ctx.setFirstValue\n  }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"onUpdate:modelValue\"]), _ctx.range ? (openBlock(), createBlock(_component_slider_button, {\n    key: 0,\n    ref: \"secondButton\",\n    \"model-value\": _ctx.secondValue,\n    vertical: _ctx.vertical,\n    \"tooltip-class\": _ctx.tooltipClass,\n    \"onUpdate:modelValue\": _ctx.setSecondValue\n  }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"onUpdate:modelValue\"])) : createCommentVNode(\"v-if\", true), _ctx.showStops ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.stops, (item, key) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key,\n      class: \"el-slider__stop\",\n      style: normalizeStyle(_ctx.getStopStyle(item))\n    }, null, 4);\n  }), 128))])) : createCommentVNode(\"v-if\", true), _ctx.markList.length > 0 ? (openBlock(), createElementBlock(Fragment, {\n    key: 2\n  }, [createElementVNode(\"div\", null, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key,\n      style: normalizeStyle(_ctx.getStopStyle(item.position)),\n      class: \"el-slider__stop el-slider__marks-stop\"\n    }, null, 4);\n  }), 128))]), createElementVNode(\"div\", _hoisted_3, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n    return openBlock(), createBlock(_component_slider_marker, {\n      key,\n      mark: item.mark,\n      style: normalizeStyle(_ctx.getStopStyle(item.position))\n    }, null, 8, [\"mark\", \"style\"]);\n  }), 128))])], 64)) : createCommentVNode(\"v-if\", true)], 6)], 10, _hoisted_1);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/slider/src/index.vue\";\n\nscript.install = app => {\n  app.component(script.name, script);\n};\n\nconst _Slider = script;\nconst ElSlider = _Slider;\nexport { ElSlider, _Slider as default };","map":{"version":3,"names":["inject","computed","watch","ref","nextTick","defineComponent","reactive","toRefs","resolveComponent","openBlock","createElementBlock","normalizeClass","normalizeStyle","withKeys","withModifiers","createVNode","withCtx","createElementVNode","toDisplayString","h","shallowRef","provide","onMounted","onBeforeUnmount","createBlock","createCommentVNode","Fragment","renderList","ElInputNumber","UPDATE_MODEL_EVENT","INPUT_EVENT","CHANGE_EVENT","on","off","debugWarn","throwError","ElTooltip","debounce","elFormKey","elFormItemKey","__async$2","__this","__arguments","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","throw","x","done","then","apply","useTooltip","props","formatTooltip","showTooltip","tooltip","tooltipVisible","enableFormat","Function","formatValue","modelValue","displayTooltip","hideTooltip","useSliderButton","initData","emit","disabled","min","max","precision","sliderSize","emitChange","resetSize","updateDragging","currentPosition","wrapperStyle","vertical","bottom","left","handleMouseEnter","hovering","handleMouseLeave","dragging","onButtonDown","event","preventDefault","onDragStart","window","onDragging","onDragEnd","onLeftKeyDown","newPosition","parseFloat","setPosition","onRightKeyDown","getClientXY","clientX","clientY","type","startsWith","touches","isClick","startY","startX","startPosition","diff","currentY","currentX","setTimeout","undefined","isNaN","lengthPerStep","steps","Math","round","toFixed","oldValue","updatePopper","val","script$2","name","components","Number","default","Boolean","tooltipClass","String","emits","setup","render$1","_ctx","_cache","$props","$setup","$data","$options","_component_el_tooltip","class","hover","style","tabindex","onMouseenter","args","onMouseleave","onMousedown","onTouchstart","onFocus","onBlur","onKeydown","$event","placement","manual","content","_","render","__file","script$1","mark","Object","label","_a","useMarks","marks","marksKeys","keys","map","sort","a","b","filter","point","position","__async$1","useSlide","elForm","elFormItem","slider","firstButton","secondButton","buttonRefs","sliderDisabled","minValue","firstValue","secondValue","maxValue","barSize","range","barStart","runwayStyle","height","barStyle","width","percent","targetValue","buttonRefName","abs","setFirstValue","_emit","setSecondValue","onSliderClick","sliderOffsetBottom","getBoundingClientRect","sliderOffsetLeft","useStops","stops","showStops","stopCount","stepWidth","result","Array","from","length","index","getStopStyle","__defProp","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","enumerable","configurable","writable","__spreadValues","prop","call","__spreadProps","__async","script","SliderButton","SliderMarker","showInput","showInputControls","inputSize","markList","useWatch","precisions","item","decimal","split","sliderWrapper","useLifecycle","valueChanged","every","setValues","_b","isArray","validate","slice","oldVal","valuetext","setAttribute","_hoisted_1","_hoisted_2","_hoisted_3","_component_el_input_number","_component_slider_button","_component_slider_marker","role","controls","size","onChange","onClick","install","app","component","_Slider","ElSlider"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/components/slider/index.js"],"sourcesContent":["import { inject, computed, watch, ref, nextTick, defineComponent, reactive, toRefs, resolveComponent, openBlock, createElementBlock, normalizeClass, normalizeStyle, withKeys, withModifiers, createVNode, withCtx, createElementVNode, toDisplayString, h, shallowRef, provide, onMounted, onBeforeUnmount, createBlock, createCommentVNode, Fragment, renderList } from 'vue';\nimport ElInputNumber from 'element-plus/es/components/input-number';\nimport { UPDATE_MODEL_EVENT, INPUT_EVENT, CHANGE_EVENT } from 'element-plus/es/utils/constants';\nimport { on, off } from 'element-plus/es/utils/dom';\nimport { debugWarn, throwError } from 'element-plus/es/utils/error';\nimport ElTooltip from 'element-plus/es/components/tooltip';\nimport debounce from 'lodash/debounce';\nimport { elFormKey, elFormItemKey } from 'element-plus/es/tokens';\n\nvar __async$2 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst useTooltip = (props, formatTooltip, showTooltip) => {\n  const tooltip = ref(null);\n  const tooltipVisible = ref(false);\n  const enableFormat = computed(() => {\n    return formatTooltip.value instanceof Function;\n  });\n  const formatValue = computed(() => {\n    return enableFormat.value && formatTooltip.value(props.modelValue) || props.modelValue;\n  });\n  const displayTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = true);\n  }, 50);\n  const hideTooltip = debounce(() => {\n    showTooltip.value && (tooltipVisible.value = false);\n  }, 50);\n  return {\n    tooltip,\n    tooltipVisible,\n    formatValue,\n    displayTooltip,\n    hideTooltip\n  };\n};\nconst useSliderButton = (props, initData, emit) => {\n  const {\n    disabled,\n    min,\n    max,\n    step,\n    showTooltip,\n    precision,\n    sliderSize,\n    formatTooltip,\n    emitChange,\n    resetSize,\n    updateDragging\n  } = inject(\"SliderProvider\");\n  const { tooltip, tooltipVisible, formatValue, displayTooltip, hideTooltip } = useTooltip(props, formatTooltip, showTooltip);\n  const currentPosition = computed(() => {\n    return `${(props.modelValue - min.value) / (max.value - min.value) * 100}%`;\n  });\n  const wrapperStyle = computed(() => {\n    return props.vertical ? { bottom: currentPosition.value } : { left: currentPosition.value };\n  });\n  const handleMouseEnter = () => {\n    initData.hovering = true;\n    displayTooltip();\n  };\n  const handleMouseLeave = () => {\n    initData.hovering = false;\n    if (!initData.dragging) {\n      hideTooltip();\n    }\n  };\n  const onButtonDown = (event) => {\n    if (disabled.value)\n      return;\n    event.preventDefault();\n    onDragStart(event);\n    on(window, \"mousemove\", onDragging);\n    on(window, \"touchmove\", onDragging);\n    on(window, \"mouseup\", onDragEnd);\n    on(window, \"touchend\", onDragEnd);\n    on(window, \"contextmenu\", onDragEnd);\n  };\n  const onLeftKeyDown = () => {\n    if (disabled.value)\n      return;\n    initData.newPosition = parseFloat(currentPosition.value) - step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n  const onRightKeyDown = () => {\n    if (disabled.value)\n      return;\n    initData.newPosition = parseFloat(currentPosition.value) + step.value / (max.value - min.value) * 100;\n    setPosition(initData.newPosition);\n    emitChange();\n  };\n  const getClientXY = (event) => {\n    let clientX;\n    let clientY;\n    if (event.type.startsWith(\"touch\")) {\n      clientY = event.touches[0].clientY;\n      clientX = event.touches[0].clientX;\n    } else {\n      clientY = event.clientY;\n      clientX = event.clientX;\n    }\n    return {\n      clientX,\n      clientY\n    };\n  };\n  const onDragStart = (event) => {\n    initData.dragging = true;\n    initData.isClick = true;\n    const { clientX, clientY } = getClientXY(event);\n    if (props.vertical) {\n      initData.startY = clientY;\n    } else {\n      initData.startX = clientX;\n    }\n    initData.startPosition = parseFloat(currentPosition.value);\n    initData.newPosition = initData.startPosition;\n  };\n  const onDragging = (event) => {\n    if (initData.dragging) {\n      initData.isClick = false;\n      displayTooltip();\n      resetSize();\n      let diff;\n      const { clientX, clientY } = getClientXY(event);\n      if (props.vertical) {\n        initData.currentY = clientY;\n        diff = (initData.startY - initData.currentY) / sliderSize.value * 100;\n      } else {\n        initData.currentX = clientX;\n        diff = (initData.currentX - initData.startX) / sliderSize.value * 100;\n      }\n      initData.newPosition = initData.startPosition + diff;\n      setPosition(initData.newPosition);\n    }\n  };\n  const onDragEnd = () => {\n    if (initData.dragging) {\n      setTimeout(() => {\n        initData.dragging = false;\n        if (!initData.hovering) {\n          hideTooltip();\n        }\n        if (!initData.isClick) {\n          setPosition(initData.newPosition);\n          emitChange();\n        }\n      }, 0);\n      off(window, \"mousemove\", onDragging);\n      off(window, \"touchmove\", onDragging);\n      off(window, \"mouseup\", onDragEnd);\n      off(window, \"touchend\", onDragEnd);\n      off(window, \"contextmenu\", onDragEnd);\n    }\n  };\n  const setPosition = (newPosition) => __async$2(undefined, null, function* () {\n    if (newPosition === null || isNaN(newPosition))\n      return;\n    if (newPosition < 0) {\n      newPosition = 0;\n    } else if (newPosition > 100) {\n      newPosition = 100;\n    }\n    const lengthPerStep = 100 / ((max.value - min.value) / step.value);\n    const steps = Math.round(newPosition / lengthPerStep);\n    let value = steps * lengthPerStep * (max.value - min.value) * 0.01 + min.value;\n    value = parseFloat(value.toFixed(precision.value));\n    emit(UPDATE_MODEL_EVENT, value);\n    if (!initData.dragging && props.modelValue !== initData.oldValue) {\n      initData.oldValue = props.modelValue;\n    }\n    yield nextTick();\n    initData.dragging && displayTooltip();\n    tooltip.value.updatePopper();\n  });\n  watch(() => initData.dragging, (val) => {\n    updateDragging(val);\n  });\n  return {\n    tooltip,\n    tooltipVisible,\n    showTooltip,\n    wrapperStyle,\n    formatValue,\n    handleMouseEnter,\n    handleMouseLeave,\n    onButtonDown,\n    onLeftKeyDown,\n    onRightKeyDown,\n    setPosition\n  };\n};\n\nvar script$2 = defineComponent({\n  name: \"ElSliderButton\",\n  components: {\n    ElTooltip\n  },\n  props: {\n    modelValue: {\n      type: Number,\n      default: 0\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    tooltipClass: {\n      type: String,\n      default: \"\"\n    }\n  },\n  emits: [UPDATE_MODEL_EVENT],\n  setup(props, { emit }) {\n    const initData = reactive({\n      hovering: false,\n      dragging: false,\n      isClick: false,\n      startX: 0,\n      currentX: 0,\n      startY: 0,\n      currentY: 0,\n      startPosition: 0,\n      newPosition: 0,\n      oldValue: props.modelValue\n    });\n    const {\n      tooltip,\n      showTooltip,\n      tooltipVisible,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition\n    } = useSliderButton(props, initData, emit);\n    const { hovering, dragging } = toRefs(initData);\n    return {\n      tooltip,\n      tooltipVisible,\n      showTooltip,\n      wrapperStyle,\n      formatValue,\n      handleMouseEnter,\n      handleMouseLeave,\n      onButtonDown,\n      onLeftKeyDown,\n      onRightKeyDown,\n      setPosition,\n      hovering,\n      dragging\n    };\n  }\n});\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"button\",\n    class: normalizeClass([\"el-slider__button-wrapper\", { hover: _ctx.hovering, dragging: _ctx.dragging }]),\n    style: normalizeStyle(_ctx.wrapperStyle),\n    tabindex: \"0\",\n    onMouseenter: _cache[1] || (_cache[1] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onMouseleave: _cache[2] || (_cache[2] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onMousedown: _cache[3] || (_cache[3] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onTouchstart: _cache[4] || (_cache[4] = (...args) => _ctx.onButtonDown && _ctx.onButtonDown(...args)),\n    onFocus: _cache[5] || (_cache[5] = (...args) => _ctx.handleMouseEnter && _ctx.handleMouseEnter(...args)),\n    onBlur: _cache[6] || (_cache[6] = (...args) => _ctx.handleMouseLeave && _ctx.handleMouseLeave(...args)),\n    onKeydown: [\n      _cache[7] || (_cache[7] = withKeys((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"left\"])),\n      _cache[8] || (_cache[8] = withKeys((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"right\"])),\n      _cache[9] || (_cache[9] = withKeys(withModifiers((...args) => _ctx.onLeftKeyDown && _ctx.onLeftKeyDown(...args), [\"prevent\"]), [\"down\"])),\n      _cache[10] || (_cache[10] = withKeys(withModifiers((...args) => _ctx.onRightKeyDown && _ctx.onRightKeyDown(...args), [\"prevent\"]), [\"up\"]))\n    ]\n  }, [\n    createVNode(_component_el_tooltip, {\n      ref: \"tooltip\",\n      modelValue: _ctx.tooltipVisible,\n      \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => _ctx.tooltipVisible = $event),\n      placement: \"top\",\n      \"stop-popper-mouse-event\": false,\n      \"popper-class\": _ctx.tooltipClass,\n      disabled: !_ctx.showTooltip,\n      manual: \"\"\n    }, {\n      content: withCtx(() => [\n        createElementVNode(\"span\", null, toDisplayString(_ctx.formatValue), 1)\n      ]),\n      default: withCtx(() => [\n        createElementVNode(\"div\", {\n          class: normalizeClass([\"el-slider__button\", { hover: _ctx.hovering, dragging: _ctx.dragging }])\n        }, null, 2)\n      ]),\n      _: 1\n    }, 8, [\"modelValue\", \"popper-class\", \"disabled\"])\n  ], 38);\n}\n\nscript$2.render = render$1;\nscript$2.__file = \"packages/components/slider/src/button.vue\";\n\nvar script$1 = defineComponent({\n  name: \"ElMarker\",\n  props: {\n    mark: {\n      type: [String, Object],\n      default: () => void 0\n    }\n  },\n  setup(props) {\n    const label = computed(() => {\n      return typeof props.mark === \"string\" ? props.mark : props.mark.label;\n    });\n    return {\n      label\n    };\n  },\n  render() {\n    var _a;\n    return h(\"div\", {\n      class: \"el-slider__marks-text\",\n      style: (_a = this.mark) == null ? void 0 : _a.style\n    }, this.label);\n  }\n});\n\nscript$1.__file = \"packages/components/slider/src/marker.vue\";\n\nconst useMarks = (props) => {\n  return computed(() => {\n    if (!props.marks) {\n      return [];\n    }\n    const marksKeys = Object.keys(props.marks);\n    return marksKeys.map(parseFloat).sort((a, b) => a - b).filter((point) => point <= props.max && point >= props.min).map((point) => ({\n      point,\n      position: (point - props.min) * 100 / (props.max - props.min),\n      mark: props.marks[point]\n    }));\n  });\n};\n\nvar __async$1 = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nconst useSlide = (props, initData, emit) => {\n  const elForm = inject(elFormKey, {});\n  const elFormItem = inject(elFormItemKey, {});\n  const slider = shallowRef(null);\n  const firstButton = ref(null);\n  const secondButton = ref(null);\n  const buttonRefs = {\n    firstButton,\n    secondButton\n  };\n  const sliderDisabled = computed(() => {\n    return props.disabled || elForm.disabled || false;\n  });\n  const minValue = computed(() => {\n    return Math.min(initData.firstValue, initData.secondValue);\n  });\n  const maxValue = computed(() => {\n    return Math.max(initData.firstValue, initData.secondValue);\n  });\n  const barSize = computed(() => {\n    return props.range ? `${100 * (maxValue.value - minValue.value) / (props.max - props.min)}%` : `${100 * (initData.firstValue - props.min) / (props.max - props.min)}%`;\n  });\n  const barStart = computed(() => {\n    return props.range ? `${100 * (minValue.value - props.min) / (props.max - props.min)}%` : \"0%\";\n  });\n  const runwayStyle = computed(() => {\n    return props.vertical ? { height: props.height } : {};\n  });\n  const barStyle = computed(() => {\n    return props.vertical ? {\n      height: barSize.value,\n      bottom: barStart.value\n    } : {\n      width: barSize.value,\n      left: barStart.value\n    };\n  });\n  const resetSize = () => {\n    if (slider.value) {\n      initData.sliderSize = slider.value[`client${props.vertical ? \"Height\" : \"Width\"}`];\n    }\n  };\n  const setPosition = (percent) => {\n    const targetValue = props.min + percent * (props.max - props.min) / 100;\n    if (!props.range) {\n      firstButton.value.setPosition(percent);\n      return;\n    }\n    let buttonRefName;\n    if (Math.abs(minValue.value - targetValue) < Math.abs(maxValue.value - targetValue)) {\n      buttonRefName = initData.firstValue < initData.secondValue ? \"firstButton\" : \"secondButton\";\n    } else {\n      buttonRefName = initData.firstValue > initData.secondValue ? \"firstButton\" : \"secondButton\";\n    }\n    buttonRefs[buttonRefName].value.setPosition(percent);\n  };\n  const setFirstValue = (firstValue) => {\n    initData.firstValue = firstValue;\n    _emit(props.range ? [minValue.value, maxValue.value] : firstValue);\n  };\n  const setSecondValue = (secondValue) => {\n    initData.secondValue = secondValue;\n    if (props.range) {\n      _emit([minValue.value, maxValue.value]);\n    }\n  };\n  const _emit = (val) => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n  const emitChange = () => __async$1(undefined, null, function* () {\n    yield nextTick();\n    emit(CHANGE_EVENT, props.range ? [minValue.value, maxValue.value] : props.modelValue);\n  });\n  const onSliderClick = (event) => {\n    if (sliderDisabled.value || initData.dragging)\n      return;\n    resetSize();\n    if (props.vertical) {\n      const sliderOffsetBottom = slider.value.getBoundingClientRect().bottom;\n      setPosition((sliderOffsetBottom - event.clientY) / initData.sliderSize * 100);\n    } else {\n      const sliderOffsetLeft = slider.value.getBoundingClientRect().left;\n      setPosition((event.clientX - sliderOffsetLeft) / initData.sliderSize * 100);\n    }\n    emitChange();\n  };\n  return {\n    elFormItem,\n    slider,\n    firstButton,\n    secondButton,\n    sliderDisabled,\n    minValue,\n    maxValue,\n    runwayStyle,\n    barStyle,\n    resetSize,\n    setPosition,\n    emitChange,\n    onSliderClick,\n    setFirstValue,\n    setSecondValue\n  };\n};\n\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max)\n      return [];\n    if (props.step === 0) {\n      debugWarn(\"Slider\", \"step should not be 0.\");\n      return [];\n    }\n    const stopCount = (props.max - props.min) / props.step;\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({ length: stopCount - 1 }).map((_, index) => (index + 1) * stepWidth);\n    if (props.range) {\n      return result.filter((step) => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter((step) => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n  const getStopStyle = (position) => {\n    return props.vertical ? { bottom: `${position}%` } : { left: `${position}%` };\n  };\n  return {\n    stops,\n    getStopStyle\n  };\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nvar script = defineComponent({\n  name: \"ElSlider\",\n  components: {\n    ElInputNumber,\n    SliderButton: script$2,\n    SliderMarker: script$1\n  },\n  props: {\n    modelValue: {\n      type: [Number, Array],\n      default: 0\n    },\n    min: {\n      type: Number,\n      default: 0\n    },\n    max: {\n      type: Number,\n      default: 100\n    },\n    step: {\n      type: Number,\n      default: 1\n    },\n    showInput: {\n      type: Boolean,\n      default: false\n    },\n    showInputControls: {\n      type: Boolean,\n      default: true\n    },\n    inputSize: {\n      type: String,\n      default: \"small\"\n    },\n    showStops: {\n      type: Boolean,\n      default: false\n    },\n    showTooltip: {\n      type: Boolean,\n      default: true\n    },\n    formatTooltip: {\n      type: Function,\n      default: void 0\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    range: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    height: {\n      type: String,\n      default: \"\"\n    },\n    debounce: {\n      type: Number,\n      default: 300\n    },\n    label: {\n      type: String,\n      default: void 0\n    },\n    tooltipClass: {\n      type: String,\n      default: void 0\n    },\n    marks: Object\n  },\n  emits: [UPDATE_MODEL_EVENT, CHANGE_EVENT, INPUT_EVENT],\n  setup(props, { emit }) {\n    const initData = reactive({\n      firstValue: 0,\n      secondValue: 0,\n      oldValue: 0,\n      dragging: false,\n      sliderSize: 1\n    });\n    const {\n      elFormItem,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      minValue,\n      maxValue,\n      runwayStyle,\n      barStyle,\n      resetSize,\n      emitChange,\n      onSliderClick,\n      setFirstValue,\n      setSecondValue\n    } = useSlide(props, initData, emit);\n    const { stops, getStopStyle } = useStops(props, initData, minValue, maxValue);\n    const markList = useMarks(props);\n    useWatch(props, initData, minValue, maxValue, emit, elFormItem);\n    const precision = computed(() => {\n      const precisions = [props.min, props.max, props.step].map((item) => {\n        const decimal = `${item}`.split(\".\")[1];\n        return decimal ? decimal.length : 0;\n      });\n      return Math.max.apply(null, precisions);\n    });\n    const { sliderWrapper } = useLifecycle(props, initData, resetSize);\n    const { firstValue, secondValue, oldValue, dragging, sliderSize } = toRefs(initData);\n    const updateDragging = (val) => {\n      initData.dragging = val;\n    };\n    provide(\"SliderProvider\", __spreadProps(__spreadValues({}, toRefs(props)), {\n      sliderSize,\n      disabled: sliderDisabled,\n      precision,\n      emitChange,\n      resetSize,\n      updateDragging\n    }));\n    return {\n      firstValue,\n      secondValue,\n      oldValue,\n      dragging,\n      sliderSize,\n      slider,\n      firstButton,\n      secondButton,\n      sliderDisabled,\n      runwayStyle,\n      barStyle,\n      emitChange,\n      onSliderClick,\n      getStopStyle,\n      setFirstValue,\n      setSecondValue,\n      stops,\n      markList,\n      sliderWrapper\n    };\n  }\n});\nconst useWatch = (props, initData, minValue, maxValue, emit, elFormItem) => {\n  const _emit = (val) => {\n    emit(UPDATE_MODEL_EVENT, val);\n    emit(INPUT_EVENT, val);\n  };\n  const valueChanged = () => {\n    if (props.range) {\n      return ![minValue.value, maxValue.value].every((item, index) => item === initData.oldValue[index]);\n    } else {\n      return props.modelValue !== initData.oldValue;\n    }\n  };\n  const setValues = () => {\n    var _a, _b;\n    if (props.min > props.max) {\n      throwError(\"Slider\", \"min should not be greater than max.\");\n      return;\n    }\n    const val = props.modelValue;\n    if (props.range && Array.isArray(val)) {\n      if (val[1] < props.min) {\n        _emit([props.min, props.min]);\n      } else if (val[0] > props.max) {\n        _emit([props.max, props.max]);\n      } else if (val[0] < props.min) {\n        _emit([props.min, val[1]]);\n      } else if (val[1] > props.max) {\n        _emit([val[0], props.max]);\n      } else {\n        initData.firstValue = val[0];\n        initData.secondValue = val[1];\n        if (valueChanged()) {\n          (_a = elFormItem.validate) == null ? void 0 : _a.call(elFormItem, \"change\");\n          initData.oldValue = val.slice();\n        }\n      }\n    } else if (!props.range && typeof val === \"number\" && !isNaN(val)) {\n      if (val < props.min) {\n        _emit(props.min);\n      } else if (val > props.max) {\n        _emit(props.max);\n      } else {\n        initData.firstValue = val;\n        if (valueChanged()) {\n          (_b = elFormItem.validate) == null ? void 0 : _b.call(elFormItem, \"change\");\n          initData.oldValue = val;\n        }\n      }\n    }\n  };\n  setValues();\n  watch(() => initData.dragging, (val) => {\n    if (!val) {\n      setValues();\n    }\n  });\n  watch(() => props.modelValue, (val, oldVal) => {\n    if (initData.dragging || Array.isArray(val) && Array.isArray(oldVal) && val.every((item, index) => item === oldVal[index])) {\n      return;\n    }\n    setValues();\n  });\n  watch(() => [props.min, props.max], () => {\n    setValues();\n  });\n};\nconst useLifecycle = (props, initData, resetSize) => {\n  const sliderWrapper = ref(null);\n  onMounted(() => __async(undefined, null, function* () {\n    let valuetext;\n    if (props.range) {\n      if (Array.isArray(props.modelValue)) {\n        initData.firstValue = Math.max(props.min, props.modelValue[0]);\n        initData.secondValue = Math.min(props.max, props.modelValue[1]);\n      } else {\n        initData.firstValue = props.min;\n        initData.secondValue = props.max;\n      }\n      initData.oldValue = [initData.firstValue, initData.secondValue];\n      valuetext = `${initData.firstValue}-${initData.secondValue}`;\n    } else {\n      if (typeof props.modelValue !== \"number\" || isNaN(props.modelValue)) {\n        initData.firstValue = props.min;\n      } else {\n        initData.firstValue = Math.min(props.max, Math.max(props.min, props.modelValue));\n      }\n      initData.oldValue = initData.firstValue;\n      valuetext = initData.firstValue;\n    }\n    sliderWrapper.value.setAttribute(\"aria-valuetext\", valuetext);\n    sliderWrapper.value.setAttribute(\"aria-label\", props.label ? props.label : `slider between ${props.min} and ${props.max}`);\n    on(window, \"resize\", resetSize);\n    yield nextTick();\n    resetSize();\n  }));\n  onBeforeUnmount(() => {\n    off(window, \"resize\", resetSize);\n  });\n  return {\n    sliderWrapper\n  };\n};\n\nconst _hoisted_1 = [\"aria-valuemin\", \"aria-valuemax\", \"aria-orientation\", \"aria-disabled\"];\nconst _hoisted_2 = { key: 1 };\nconst _hoisted_3 = { class: \"el-slider__marks\" };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input_number = resolveComponent(\"el-input-number\");\n  const _component_slider_button = resolveComponent(\"slider-button\");\n  const _component_slider_marker = resolveComponent(\"slider-marker\");\n  return openBlock(), createElementBlock(\"div\", {\n    ref: \"sliderWrapper\",\n    class: normalizeClass([\"el-slider\", { \"is-vertical\": _ctx.vertical, \"el-slider--with-input\": _ctx.showInput }]),\n    role: \"slider\",\n    \"aria-valuemin\": _ctx.min,\n    \"aria-valuemax\": _ctx.max,\n    \"aria-orientation\": _ctx.vertical ? \"vertical\" : \"horizontal\",\n    \"aria-disabled\": _ctx.sliderDisabled\n  }, [\n    _ctx.showInput && !_ctx.range ? (openBlock(), createBlock(_component_el_input_number, {\n      key: 0,\n      ref: \"input\",\n      \"model-value\": _ctx.firstValue,\n      class: \"el-slider__input\",\n      step: _ctx.step,\n      disabled: _ctx.sliderDisabled,\n      controls: _ctx.showInputControls,\n      min: _ctx.min,\n      max: _ctx.max,\n      debounce: _ctx.debounce,\n      size: _ctx.inputSize,\n      \"onUpdate:modelValue\": _ctx.setFirstValue,\n      onChange: _ctx.emitChange\n    }, null, 8, [\"model-value\", \"step\", \"disabled\", \"controls\", \"min\", \"max\", \"debounce\", \"size\", \"onUpdate:modelValue\", \"onChange\"])) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"div\", {\n      ref: \"slider\",\n      class: normalizeClass([\"el-slider__runway\", { \"show-input\": _ctx.showInput && !_ctx.range, disabled: _ctx.sliderDisabled }]),\n      style: normalizeStyle(_ctx.runwayStyle),\n      onClick: _cache[0] || (_cache[0] = (...args) => _ctx.onSliderClick && _ctx.onSliderClick(...args))\n    }, [\n      createElementVNode(\"div\", {\n        class: \"el-slider__bar\",\n        style: normalizeStyle(_ctx.barStyle)\n      }, null, 4),\n      createVNode(_component_slider_button, {\n        ref: \"firstButton\",\n        \"model-value\": _ctx.firstValue,\n        vertical: _ctx.vertical,\n        \"tooltip-class\": _ctx.tooltipClass,\n        \"onUpdate:modelValue\": _ctx.setFirstValue\n      }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"onUpdate:modelValue\"]),\n      _ctx.range ? (openBlock(), createBlock(_component_slider_button, {\n        key: 0,\n        ref: \"secondButton\",\n        \"model-value\": _ctx.secondValue,\n        vertical: _ctx.vertical,\n        \"tooltip-class\": _ctx.tooltipClass,\n        \"onUpdate:modelValue\": _ctx.setSecondValue\n      }, null, 8, [\"model-value\", \"vertical\", \"tooltip-class\", \"onUpdate:modelValue\"])) : createCommentVNode(\"v-if\", true),\n      _ctx.showStops ? (openBlock(), createElementBlock(\"div\", _hoisted_2, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.stops, (item, key) => {\n          return openBlock(), createElementBlock(\"div\", {\n            key,\n            class: \"el-slider__stop\",\n            style: normalizeStyle(_ctx.getStopStyle(item))\n          }, null, 4);\n        }), 128))\n      ])) : createCommentVNode(\"v-if\", true),\n      _ctx.markList.length > 0 ? (openBlock(), createElementBlock(Fragment, { key: 2 }, [\n        createElementVNode(\"div\", null, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n            return openBlock(), createElementBlock(\"div\", {\n              key,\n              style: normalizeStyle(_ctx.getStopStyle(item.position)),\n              class: \"el-slider__stop el-slider__marks-stop\"\n            }, null, 4);\n          }), 128))\n        ]),\n        createElementVNode(\"div\", _hoisted_3, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.markList, (item, key) => {\n            return openBlock(), createBlock(_component_slider_marker, {\n              key,\n              mark: item.mark,\n              style: normalizeStyle(_ctx.getStopStyle(item.position))\n            }, null, 8, [\"mark\", \"style\"]);\n          }), 128))\n        ])\n      ], 64)) : createCommentVNode(\"v-if\", true)\n    ], 6)\n  ], 10, _hoisted_1);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/slider/src/index.vue\";\n\nscript.install = (app) => {\n  app.component(script.name, script);\n};\nconst _Slider = script;\nconst ElSlider = _Slider;\n\nexport { ElSlider, _Slider as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}