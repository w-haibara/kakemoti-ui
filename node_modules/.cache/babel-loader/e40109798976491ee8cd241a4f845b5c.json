{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport { withInstall, withNoopInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, openBlock, createBlock, Transition, mergeProps, withCtx, renderSlot, inject, computed, getCurrentInstance, ref, reactive, watch, provide, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow, nextTick, toRef, resolveComponent, createElementBlock, normalizeClass, normalizeStyle, createElementVNode, createTextVNode, toDisplayString } from 'vue';\nimport { Resize } from 'element-plus/es/directives';\nimport Menubar from 'element-plus/es/utils/menu/menu-bar';\nimport { buildProps, definePropType, mutable } from 'element-plus/es/utils/props';\nimport { isString, isObject } from 'element-plus/es/utils/util';\nimport { addClass, removeClass, hasClass } from 'element-plus/es/utils/dom';\nimport { useTimeoutFn } from '@vueuse/core';\nimport ElCollapseTransition from 'element-plus/es/components/collapse-transition';\nimport ElPopper, { Effect } from 'element-plus/es/components/popper';\nimport { throwError } from 'element-plus/es/utils/error';\nimport { darken } from 'element-plus/es/utils/color';\nimport ElTooltip from 'element-plus/es/components/tooltip';\nvar script$2 = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n\n  setup() {\n    const listeners = {\n      onBeforeEnter: el => el.style.opacity = \"0.2\",\n\n      onEnter(el, done) {\n        addClass(el, \"el-opacity-transition\");\n        el.style.opacity = \"1\";\n        done();\n      },\n\n      onAfterEnter(el) {\n        removeClass(el, \"el-opacity-transition\");\n        el.style.opacity = \"\";\n      },\n\n      onBeforeLeave(el) {\n        if (!el.dataset) {\n          el.dataset = {};\n        }\n\n        if (hasClass(el, \"el-menu--collapse\")) {\n          removeClass(el, \"el-menu--collapse\");\n          el.dataset.oldOverflow = el.style.overflow;\n          el.dataset.scrollWidth = el.clientWidth.toString();\n          addClass(el, \"el-menu--collapse\");\n        } else {\n          addClass(el, \"el-menu--collapse\");\n          el.dataset.oldOverflow = el.style.overflow;\n          el.dataset.scrollWidth = el.clientWidth.toString();\n          removeClass(el, \"el-menu--collapse\");\n        }\n\n        el.style.width = `${el.scrollWidth}px`;\n        el.style.overflow = \"hidden\";\n      },\n\n      onLeave(el) {\n        addClass(el, \"horizontal-collapse-transition\");\n        el.style.width = `${el.dataset.scrollWidth}px`;\n      }\n\n    };\n    return {\n      listeners\n    };\n  }\n\n});\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({\n    mode: \"out-in\"\n  }, _ctx.listeners), {\n    default: withCtx(() => [renderSlot(_ctx.$slots, \"default\")]),\n    _: 3\n  }, 16);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/components/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  if (!rootMenu) throwError(\"useMenu\", \"can not inject root menu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex.value];\n\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n\n      parent = parent.parent;\n    }\n\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n\n    while (parent && ![\"ElMenu\", \"ElSubMenu\"].includes(parent.type.name)) {\n      parent = parent.parent;\n    }\n\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\") return {};\n    let padding = 20;\n\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubMenu\") {\n          padding += 20;\n        }\n\n        parent = parent.parent;\n      }\n    }\n\n    return {\n      paddingLeft: `${padding}px`\n    };\n  });\n  return {\n    parentMenu,\n    paddingStyle,\n    indexPath\n  };\n}\n\nfunction useMenuColor(props) {\n  const menuBarColor = computed(() => {\n    const color = props.backgroundColor;\n\n    if (!color) {\n      return \"\";\n    } else {\n      return darken(color);\n    }\n  });\n  return menuBarColor;\n}\n\nconst useMenuCssVar = props => {\n  return computed(() => {\n    return {\n      \"--el-menu-text-color\": props.textColor || \"\",\n      \"--el-menu-hover-text-color\": props.textColor || \"\",\n      \"--el-menu-background-color\": props.backgroundColor || \"\",\n      \"--el-menu-hover-background-color\": useMenuColor(props).value || \"\",\n      \"--el-menu-active-color\": props.activeTextColor || \"\"\n    };\n  });\n};\n\nconst subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true\n  },\n  showTimeout: {\n    type: Number,\n    default: 300\n  },\n  hideTimeout: {\n    type: Number,\n    default: 300\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    default: void 0\n  }\n});\nconst COMPONENT_NAME$2 = \"ElSubMenu\";\nvar SubMenu = defineComponent({\n  name: COMPONENT_NAME$2,\n  props: subMenuProps,\n\n  setup(props, {\n    slots,\n    expose\n  }) {\n    const instance = getCurrentInstance();\n    const {\n      paddingStyle,\n      indexPath,\n      parentMenu\n    } = useMenu(instance, computed(() => props.index));\n    const rootMenu = inject(\"rootMenu\");\n    if (!rootMenu) throwError(COMPONENT_NAME$2, \"can not inject root menu\");\n    const subMenu = inject(`subMenu:${parentMenu.value.uid}`);\n    if (!subMenu) throwError(COMPONENT_NAME$2, \"can not inject sub menu\");\n    const items = ref({});\n    const subMenus = ref({});\n    let timeout;\n    const currentPlacement = ref(\"\");\n    const mouseInChild = ref(false);\n    const verticalTitleRef = ref();\n    const vPopper = ref();\n    const subMenuTitleIcon = computed(() => {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootMenu.props.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    const isFirstLevel = computed(() => {\n      let isFirstLevel2 = true;\n      let parent = instance.parent;\n\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubMenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n\n      return isFirstLevel2;\n    });\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    const menuTransitionName = computed(() => rootMenu.props.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\");\n    const fallbackPlacements = computed(() => mode.value === \"horizontal\" && isFirstLevel.value ? [\"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\", \"right-start\", \"left-start\"] : [\"right-start\", \"left-start\", \"bottom-start\", \"bottom-end\", \"top-start\", \"top-end\"]);\n    const opened = computed(() => rootMenu.openedMenus.includes(props.index));\n    const active = computed(() => {\n      let isActive = false;\n      Object.values(items.value).forEach(item2 => {\n        if (item2.active) {\n          isActive = true;\n        }\n      });\n      Object.values(subMenus.value).forEach(subItem => {\n        if (subItem.active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    const backgroundColor = computed(() => rootMenu.props.backgroundColor || \"\");\n    const activeTextColor = computed(() => rootMenu.props.activeTextColor || \"\");\n    const textColor = computed(() => rootMenu.props.textColor || \"\");\n    const mode = computed(() => rootMenu.props.mode);\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active\n    });\n    const titleStyle = computed(() => {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n\n      return {\n        borderBottomColor: active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n\n    const doDestroy = () => {\n      var _a;\n\n      return (_a = vPopper.value) == null ? void 0 : _a.doDestroy();\n    };\n\n    const handleCollapseToggle = value => {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n\n    const handleClick = () => {\n      if (rootMenu.props.menuTrigger === \"hover\" && rootMenu.props.mode === \"horizontal\" || rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) return;\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value\n      });\n    };\n\n    const handleMouseenter = (event, showTimeout = props.showTimeout) => {\n      var _a;\n\n      if (event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) {\n        return;\n      }\n\n      mouseInChild.value = true;\n      timeout == null ? void 0 : timeout();\n      ({\n        stop: timeout\n      } = useTimeoutFn(() => rootMenu.openMenu(props.index, indexPath.value), showTimeout));\n\n      if (appendToBody.value) {\n        (_a = parentMenu.value.vnode.el) == null ? void 0 : _a.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n\n    const handleMouseleave = (deepDispatch = false) => {\n      var _a, _b;\n\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\") {\n        return;\n      }\n\n      mouseInChild.value = false;\n      timeout == null ? void 0 : timeout();\n      ({\n        stop: timeout\n      } = useTimeoutFn(() => !mouseInChild.value && rootMenu.closeMenu(props.index), props.hideTimeout));\n\n      if (appendToBody.value && deepDispatch) {\n        if (((_a = instance.parent) == null ? void 0 : _a.type.name) === \"ElSubMenu\") {\n          (_b = subMenu.handleMouseleave) == null ? void 0 : _b.call(subMenu, true);\n        }\n      }\n    };\n\n    const updatePlacement = () => {\n      currentPlacement.value = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n\n    watch(() => rootMenu.props.collapse, value => handleCollapseToggle(Boolean(value)));\n    {\n      const addSubMenu = item2 => {\n        subMenus.value[item2.index] = item2;\n      };\n\n      const removeSubMenu = item2 => {\n        delete subMenus.value[item2.index];\n      };\n\n      provide(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu,\n        handleMouseleave\n      });\n    }\n    expose({\n      opened\n    });\n    onMounted(() => {\n      rootMenu.addSubMenu(item);\n      subMenu.addSubMenu(item);\n      updatePlacement();\n    });\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeSubMenu(item);\n    });\n    return () => {\n      var _a;\n\n      const titleTag = [(_a = slots.title) == null ? void 0 : _a.call(slots), h(\"i\", {\n        class: [\"el-sub-menu__icon-arrow\", subMenuTitleIcon.value]\n      })];\n      const ulStyle = useMenuCssVar(rootMenu.props);\n      const child = rootMenu.isMenuPopup ? h(ElPopper, {\n        ref: vPopper,\n        manualMode: true,\n        visible: opened.value,\n        effect: \"light\",\n        pure: true,\n        offset: 6,\n        showArrow: false,\n        popperClass: props.popperClass,\n        placement: currentPlacement.value,\n        appendToBody: appendToBody.value,\n        fallbackPlacements: fallbackPlacements.value,\n        transition: menuTransitionName.value,\n        gpuAcceleration: false\n      }, {\n        default: () => {\n          var _a2;\n\n          return h(\"div\", {\n            class: [`el-menu--${mode.value}`, props.popperClass],\n            onMouseenter: evt => handleMouseenter(evt, 100),\n            onMouseleave: () => handleMouseleave(true),\n            onFocus: evt => handleMouseenter(evt, 100)\n          }, [h(\"ul\", {\n            class: [\"el-menu el-menu--popup\", `el-menu--popup-${currentPlacement.value}`],\n            style: ulStyle.value\n          }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])]);\n        },\n        trigger: () => h(\"div\", {\n          class: \"el-sub-menu__title\",\n          style: [paddingStyle.value, titleStyle.value, {\n            backgroundColor: backgroundColor.value\n          }],\n          onClick: handleClick\n        }, titleTag)\n      }) : h(Fragment, {}, [h(\"div\", {\n        class: \"el-sub-menu__title\",\n        style: [paddingStyle.value, titleStyle.value, {\n          backgroundColor: backgroundColor.value\n        }],\n        ref: verticalTitleRef,\n        onClick: handleClick\n      }, titleTag), h(ElCollapseTransition, {}, {\n        default: () => {\n          var _a2;\n\n          return withDirectives(h(\"ul\", {\n            role: \"menu\",\n            class: \"el-menu el-menu--inline\",\n            style: ulStyle.value\n          }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)]), [[vShow, opened.value]]);\n        }\n      })]);\n      return h(\"li\", {\n        class: [\"el-sub-menu\", {\n          \"is-active\": active.value,\n          \"is-opened\": opened.value,\n          \"is-disabled\": props.disabled\n        }],\n        role: \"menuitem\",\n        ariaHaspopup: true,\n        ariaExpanded: opened.value,\n        onMouseenter: handleMouseenter,\n        onMouseleave: () => handleMouseleave(true),\n        onFocus: handleMouseenter\n      }, [child]);\n    };\n  }\n\n});\nconst menuProps = buildProps({\n  mode: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"vertical\"\n  },\n  defaultActive: {\n    type: String,\n    default: \"\"\n  },\n  defaultOpeneds: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  uniqueOpened: Boolean,\n  router: Boolean,\n  menuTrigger: {\n    type: String,\n    values: [\"hover\", \"click\"],\n    default: \"hover\"\n  },\n  collapse: Boolean,\n  backgroundColor: String,\n  textColor: String,\n  activeTextColor: String,\n  collapseTransition: {\n    type: Boolean,\n    default: true\n  },\n  ellipsis: {\n    type: Boolean,\n    default: true\n  }\n});\n\nconst checkIndexPath = indexPath => Array.isArray(indexPath) && indexPath.every(path => isString(path));\n\nconst menuEmits = {\n  close: (index, indexPath) => isString(index) && checkIndexPath(indexPath),\n  open: (index, indexPath) => isString(index) && checkIndexPath(indexPath),\n  select: (index, indexPath, item, routerResult) => isString(index) && checkIndexPath(indexPath) && isObject(item) && (routerResult === void 0 || routerResult instanceof Promise)\n};\nvar Menu = defineComponent({\n  name: \"ElMenu\",\n  props: menuProps,\n  emits: menuEmits,\n\n  setup(props, {\n    emit,\n    slots,\n    expose\n  }) {\n    const instance = getCurrentInstance();\n    const router = instance.appContext.config.globalProperties.$router;\n    const menu = ref();\n    const openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    const activeIndex = ref(props.defaultActive);\n    const items = ref({});\n    const subMenus = ref({});\n    const alteredCollapse = ref(false);\n    const isMenuPopup = computed(() => {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n\n    const initMenu = () => {\n      const activeItem = activeIndex.value && items.value[activeIndex.value];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse) return;\n      const indexPath = activeItem.indexPath;\n      indexPath.forEach(index => {\n        const subMenu = subMenus.value[index];\n        subMenu && openMenu(index, subMenu.indexPath);\n      });\n    };\n\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.includes(index)) return;\n\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter(index2 => indexPath.includes(index2));\n      }\n\n      openedMenus.value.push(index);\n    };\n\n    const closeMenu = index => {\n      const i = openedMenus.value.indexOf(index);\n\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n\n    const handleSubMenuClick = ({\n      index,\n      indexPath\n    }) => {\n      const isOpened = openedMenus.value.includes(index);\n\n      if (isOpened) {\n        closeMenu(index);\n        emit(\"close\", index, indexPath);\n      } else {\n        openMenu(index, indexPath);\n        emit(\"open\", index, indexPath);\n      }\n    };\n\n    const handleMenuItemClick = menuItem => {\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n\n      const {\n        index,\n        indexPath\n      } = menuItem;\n      if (index === void 0 || indexPath === void 0) return;\n\n      if (props.router && router) {\n        const route = menuItem.route || index;\n        const routerResult = router.push(route).then(res => {\n          if (!res) activeIndex.value = index;\n          return res;\n        });\n        emit(\"select\", index, indexPath, {\n          index,\n          indexPath,\n          route\n        }, routerResult);\n      } else {\n        activeIndex.value = index;\n        emit(\"select\", index, indexPath, {\n          index,\n          indexPath\n        });\n      }\n    };\n\n    const updateActiveIndex = val => {\n      const itemsInData = items.value;\n      const item = itemsInData[val] || activeIndex.value && itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n\n      if (item) {\n        activeIndex.value = item.index;\n        initMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = void 0;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n\n    const handleResize = () => nextTick(() => {\n      instance.proxy.$forceUpdate();\n    });\n\n    watch(() => props.defaultActive, currentActive => {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, () => initMenu());\n    watch(() => props.collapse, (value, prev) => {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n\n      if (value) openedMenus.value = [];\n    });\n    {\n      const addSubMenu = item => {\n        subMenus.value[item.index] = item;\n      };\n\n      const removeSubMenu = item => {\n        delete subMenus.value[item.index];\n      };\n\n      const addMenuItem = item => {\n        items.value[item.index] = item;\n      };\n\n      const removeMenuItem = item => {\n        delete items.value[item.index];\n      };\n\n      provide(\"rootMenu\", reactive({\n        props,\n        openedMenus,\n        items,\n        subMenus,\n        activeIndex,\n        isMenuPopup,\n        addMenuItem,\n        removeMenuItem,\n        addSubMenu,\n        removeSubMenu,\n        openMenu,\n        closeMenu,\n        handleMenuItemClick,\n        handleSubMenuClick\n      }));\n      provide(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu\n      });\n    }\n    onMounted(() => {\n      initMenu();\n\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    {\n      const open = index => {\n        const {\n          indexPath\n        } = subMenus.value[index];\n        indexPath.forEach(i => openMenu(i, indexPath));\n      };\n\n      expose({\n        open,\n        close: closeMenu,\n        handleResize\n      });\n    }\n\n    const flattedChildren = children => {\n      const vnodes = Array.isArray(children) ? children : [children];\n      const result = [];\n      vnodes.forEach(child => {\n        if (Array.isArray(child.children)) {\n          result.push(...flattedChildren(child.children));\n        } else {\n          result.push(child);\n        }\n      });\n      return result;\n    };\n\n    const useVNodeResize = vnode => props.mode === \"horizontal\" ? withDirectives(vnode, [[Resize, handleResize]]) : vnode;\n\n    return () => {\n      var _a, _b, _c, _d;\n\n      let slot = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      const vShowMore = [];\n\n      if (props.mode === \"horizontal\" && menu.value) {\n        const items2 = Array.from((_d = (_c = menu.value) == null ? void 0 : _c.childNodes) != null ? _d : []).filter(item => item.nodeName !== \"#text\" || item.nodeValue);\n        const originalSlot = flattedChildren(slot);\n        const moreItemWidth = 64;\n        const paddingLeft = parseInt(getComputedStyle(menu.value).paddingLeft, 10);\n        const paddingRight = parseInt(getComputedStyle(menu.value).paddingRight, 10);\n        const menuWidth = menu.value.clientWidth - paddingLeft - paddingRight;\n        let calcWidth = 0;\n        let sliceIndex = 0;\n        items2.forEach((item, index) => {\n          calcWidth += item.offsetWidth || 0;\n\n          if (calcWidth <= menuWidth - moreItemWidth) {\n            sliceIndex = index + 1;\n          }\n        });\n        const slotDefault = originalSlot.slice(0, sliceIndex);\n        const slotMore = originalSlot.slice(sliceIndex);\n\n        if ((slotMore == null ? void 0 : slotMore.length) && props.ellipsis) {\n          slot = slotDefault;\n          vShowMore.push(h(SubMenu, {\n            index: \"sub-menu-more\",\n            class: \"el-sub-menu__hide-arrow\"\n          }, {\n            title: () => h(\"i\", {\n              class: [\"el-icon-more\", \"el-sub-menu__icon-more\"]\n            }),\n            default: () => slotMore\n          }));\n        }\n      }\n\n      const ulStyle = useMenuCssVar(props);\n\n      const resizeMenu = vNode => props.ellipsis ? useVNodeResize(vNode) : vNode;\n\n      const vMenu = resizeMenu(h(\"ul\", {\n        key: String(props.collapse),\n        role: \"menubar\",\n        ref: menu,\n        style: ulStyle.value,\n        class: {\n          \"el-menu\": true,\n          \"el-menu--horizontal\": props.mode === \"horizontal\",\n          \"el-menu--collapse\": props.collapse\n        }\n      }, [...slot.map(vnode => resizeMenu(vnode)), ...vShowMore]));\n\n      if (props.collapseTransition && props.mode === \"vertical\") {\n        return h(script$2, () => vMenu);\n      }\n\n      return vMenu;\n    };\n  }\n\n});\nconst menuItemProps = buildProps({\n  index: {\n    type: definePropType([String, null]),\n    default: null\n  },\n  route: {\n    type: definePropType([String, Object])\n  },\n  disabled: Boolean\n});\nconst menuItemEmits = {\n  click: item => isString(item.index) && Array.isArray(item.indexPath)\n};\nconst COMPONENT_NAME$1 = \"ElMenuItem\";\nvar script$1 = defineComponent({\n  name: COMPONENT_NAME$1,\n  components: {\n    ElTooltip\n  },\n  props: menuItemProps,\n  emits: menuItemEmits,\n\n  setup(props, {\n    emit\n  }) {\n    const instance = getCurrentInstance();\n    const rootMenu = inject(\"rootMenu\");\n    if (!rootMenu) throwError(COMPONENT_NAME$1, \"can not inject root menu\");\n    const {\n      parentMenu,\n      paddingStyle,\n      indexPath\n    } = useMenu(instance, toRef(props, \"index\"));\n    const subMenu = inject(`subMenu:${parentMenu.value.uid}`);\n    if (!subMenu) throwError(COMPONENT_NAME$1, \"can not inject sub menu\");\n    const active = computed(() => props.index === rootMenu.activeIndex);\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active\n    });\n\n    const handleClick = () => {\n      if (!props.disabled) {\n        rootMenu.handleMenuItemClick({\n          index: props.index,\n          indexPath: indexPath.value,\n          route: props.route\n        });\n        emit(\"click\", item);\n      }\n    };\n\n    onMounted(() => {\n      subMenu.addSubMenu(item);\n      rootMenu.addMenuItem(item);\n    });\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeMenuItem(item);\n    });\n    return {\n      Effect,\n      parentMenu,\n      rootMenu,\n      paddingStyle,\n      active,\n      handleClick\n    };\n  }\n\n});\nconst _hoisted_1$1 = {\n  style: {\n    position: \"absolute\",\n    left: 0,\n    top: 0,\n    height: \"100%\",\n    width: \"100%\",\n    display: \"inline-block\",\n    boxSizing: \"border-box\",\n    padding: \"0 20px\"\n  }\n};\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n\n  return openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\"el-menu-item\", {\n      \"is-active\": _ctx.active,\n      \"is-disabled\": _ctx.disabled\n    }]),\n    role: \"menuitem\",\n    tabindex: \"-1\",\n    style: normalizeStyle(_ctx.paddingStyle),\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClick && _ctx.handleClick(...args))\n  }, [_ctx.parentMenu.type.name === \"ElMenu\" && _ctx.rootMenu.props.collapse && _ctx.$slots.title ? (openBlock(), createBlock(_component_el_tooltip, {\n    key: 0,\n    effect: _ctx.Effect.DARK,\n    placement: \"right\"\n  }, {\n    content: withCtx(() => [renderSlot(_ctx.$slots, \"title\")]),\n    default: withCtx(() => [createElementVNode(\"div\", _hoisted_1$1, [renderSlot(_ctx.$slots, \"default\")])]),\n    _: 3\n  }, 8, [\"effect\"])) : (openBlock(), createElementBlock(Fragment, {\n    key: 1\n  }, [renderSlot(_ctx.$slots, \"default\"), renderSlot(_ctx.$slots, \"title\")], 64))], 6);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/components/menu/src/menu-item.vue\";\nconst menuItemGroupProps = {\n  title: String\n};\nconst COMPONENT_NAME = \"ElMenuItemGroup\";\nvar script = defineComponent({\n  name: COMPONENT_NAME,\n  props: menuItemGroupProps,\n\n  setup() {\n    const instance = getCurrentInstance();\n    const menu = inject(\"rootMenu\");\n    if (!menu) throwError(COMPONENT_NAME, \"can not inject root menu\");\n    const levelPadding = computed(() => {\n      if (menu.props.collapse) return 20;\n      let padding = 20;\n      let parent = instance.parent;\n\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubMenu\") {\n          padding += 20;\n        }\n\n        parent = parent.parent;\n      }\n\n      return padding;\n    });\n    return {\n      levelPadding\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  class: \"el-menu-item-group\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"li\", _hoisted_1, [createElementVNode(\"div\", {\n    class: \"el-menu-item-group__title\",\n    style: normalizeStyle({\n      paddingLeft: `${_ctx.levelPadding}px`\n    })\n  }, [!_ctx.$slots.title ? (openBlock(), createElementBlock(Fragment, {\n    key: 0\n  }, [createTextVNode(toDisplayString(_ctx.title), 1)], 2112)) : renderSlot(_ctx.$slots, \"title\", {\n    key: 1\n  })], 4), createElementVNode(\"ul\", null, [renderSlot(_ctx.$slots, \"default\")])]);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/menu/src/menu-item-group.vue\";\nconst ElMenu = withInstall(Menu, {\n  MenuItem: script$1,\n  MenuItemGroup: script,\n  SubMenu\n});\nconst ElMenuItem = withNoopInstall(script$1);\nconst ElMenuItemGroup = withNoopInstall(script);\nconst ElSubMenu = withNoopInstall(SubMenu);\nexport { ElMenu, ElMenuItem, ElMenuItemGroup, ElSubMenu, ElMenu as default, menuEmits, menuItemEmits, menuItemGroupProps, menuItemProps, menuProps, subMenuProps };","map":{"version":3,"names":["withInstall","withNoopInstall","defineComponent","openBlock","createBlock","Transition","mergeProps","withCtx","renderSlot","inject","computed","getCurrentInstance","ref","reactive","watch","provide","onMounted","onBeforeUnmount","h","Fragment","withDirectives","vShow","nextTick","toRef","resolveComponent","createElementBlock","normalizeClass","normalizeStyle","createElementVNode","createTextVNode","toDisplayString","Resize","Menubar","buildProps","definePropType","mutable","isString","isObject","addClass","removeClass","hasClass","useTimeoutFn","ElCollapseTransition","ElPopper","Effect","throwError","darken","ElTooltip","script$2","name","setup","listeners","onBeforeEnter","el","style","opacity","onEnter","done","onAfterEnter","onBeforeLeave","dataset","oldOverflow","overflow","scrollWidth","clientWidth","toString","width","onLeave","render$2","_ctx","_cache","$props","$setup","$data","$options","mode","default","$slots","_","render","__file","useMenu","instance","currentIndex","rootMenu","indexPath","parent","path","value","type","props","index","unshift","parentMenu","includes","paddingStyle","padding","collapse","paddingLeft","useMenuColor","menuBarColor","color","backgroundColor","useMenuCssVar","textColor","activeTextColor","subMenuProps","String","required","showTimeout","Number","hideTimeout","popperClass","disabled","Boolean","popperAppendToBody","COMPONENT_NAME$2","SubMenu","slots","expose","subMenu","uid","items","subMenus","timeout","currentPlacement","mouseInChild","verticalTitleRef","vPopper","subMenuTitleIcon","isFirstLevel","isFirstLevel2","appendToBody","menuTransitionName","fallbackPlacements","opened","openedMenus","active","isActive","Object","values","forEach","item2","subItem","item","titleStyle","borderBottomColor","doDestroy","_a","handleCollapseToggle","updatePlacement","handleClick","menuTrigger","handleSubMenuClick","handleMouseenter","event","relatedTarget","stop","openMenu","vnode","dispatchEvent","MouseEvent","handleMouseleave","deepDispatch","_b","closeMenu","call","addSubMenu","removeSubMenu","titleTag","title","class","ulStyle","child","isMenuPopup","manualMode","visible","effect","pure","offset","showArrow","placement","transition","gpuAcceleration","_a2","onMouseenter","evt","onMouseleave","onFocus","trigger","onClick","role","ariaHaspopup","ariaExpanded","menuProps","defaultActive","defaultOpeneds","Array","uniqueOpened","router","collapseTransition","ellipsis","checkIndexPath","isArray","every","menuEmits","close","open","select","routerResult","Promise","Menu","emits","emit","appContext","config","globalProperties","$router","menu","slice","activeIndex","alteredCollapse","initMenu","activeItem","filter","index2","push","i","indexOf","splice","isOpened","handleMenuItemClick","menuItem","route","then","res","updateActiveIndex","val","itemsInData","handleResize","proxy","$forceUpdate","currentActive","prev","addMenuItem","removeMenuItem","flattedChildren","children","vnodes","result","useVNodeResize","_c","_d","slot","vShowMore","items2","from","childNodes","nodeName","nodeValue","originalSlot","moreItemWidth","parseInt","getComputedStyle","paddingRight","menuWidth","calcWidth","sliceIndex","offsetWidth","slotDefault","slotMore","length","resizeMenu","vNode","vMenu","key","map","menuItemProps","menuItemEmits","click","COMPONENT_NAME$1","script$1","components","_hoisted_1$1","position","left","top","height","display","boxSizing","render$1","_component_el_tooltip","tabindex","args","DARK","content","menuItemGroupProps","COMPONENT_NAME","script","levelPadding","_hoisted_1","ElMenu","MenuItem","MenuItemGroup","ElMenuItem","ElMenuItemGroup","ElSubMenu"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/components/menu/index.js"],"sourcesContent":["import { withInstall, withNoopInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, openBlock, createBlock, Transition, mergeProps, withCtx, renderSlot, inject, computed, getCurrentInstance, ref, reactive, watch, provide, onMounted, onBeforeUnmount, h, Fragment, withDirectives, vShow, nextTick, toRef, resolveComponent, createElementBlock, normalizeClass, normalizeStyle, createElementVNode, createTextVNode, toDisplayString } from 'vue';\nimport { Resize } from 'element-plus/es/directives';\nimport Menubar from 'element-plus/es/utils/menu/menu-bar';\nimport { buildProps, definePropType, mutable } from 'element-plus/es/utils/props';\nimport { isString, isObject } from 'element-plus/es/utils/util';\nimport { addClass, removeClass, hasClass } from 'element-plus/es/utils/dom';\nimport { useTimeoutFn } from '@vueuse/core';\nimport ElCollapseTransition from 'element-plus/es/components/collapse-transition';\nimport ElPopper, { Effect } from 'element-plus/es/components/popper';\nimport { throwError } from 'element-plus/es/utils/error';\nimport { darken } from 'element-plus/es/utils/color';\nimport ElTooltip from 'element-plus/es/components/tooltip';\n\nvar script$2 = defineComponent({\n  name: \"ElMenuCollapseTransition\",\n  setup() {\n    const listeners = {\n      onBeforeEnter: (el) => el.style.opacity = \"0.2\",\n      onEnter(el, done) {\n        addClass(el, \"el-opacity-transition\");\n        el.style.opacity = \"1\";\n        done();\n      },\n      onAfterEnter(el) {\n        removeClass(el, \"el-opacity-transition\");\n        el.style.opacity = \"\";\n      },\n      onBeforeLeave(el) {\n        if (!el.dataset) {\n          el.dataset = {};\n        }\n        if (hasClass(el, \"el-menu--collapse\")) {\n          removeClass(el, \"el-menu--collapse\");\n          el.dataset.oldOverflow = el.style.overflow;\n          el.dataset.scrollWidth = el.clientWidth.toString();\n          addClass(el, \"el-menu--collapse\");\n        } else {\n          addClass(el, \"el-menu--collapse\");\n          el.dataset.oldOverflow = el.style.overflow;\n          el.dataset.scrollWidth = el.clientWidth.toString();\n          removeClass(el, \"el-menu--collapse\");\n        }\n        el.style.width = `${el.scrollWidth}px`;\n        el.style.overflow = \"hidden\";\n      },\n      onLeave(el) {\n        addClass(el, \"horizontal-collapse-transition\");\n        el.style.width = `${el.dataset.scrollWidth}px`;\n      }\n    };\n    return {\n      listeners\n    };\n  }\n});\n\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, mergeProps({ mode: \"out-in\" }, _ctx.listeners), {\n    default: withCtx(() => [\n      renderSlot(_ctx.$slots, \"default\")\n    ]),\n    _: 3\n  }, 16);\n}\n\nscript$2.render = render$2;\nscript$2.__file = \"packages/components/menu/src/menu-collapse-transition.vue\";\n\nfunction useMenu(instance, currentIndex) {\n  const rootMenu = inject(\"rootMenu\");\n  if (!rootMenu)\n    throwError(\"useMenu\", \"can not inject root menu\");\n  const indexPath = computed(() => {\n    let parent = instance.parent;\n    const path = [currentIndex.value];\n    while (parent.type.name !== \"ElMenu\") {\n      if (parent.props.index) {\n        path.unshift(parent.props.index);\n      }\n      parent = parent.parent;\n    }\n    return path;\n  });\n  const parentMenu = computed(() => {\n    let parent = instance.parent;\n    while (parent && ![\"ElMenu\", \"ElSubMenu\"].includes(parent.type.name)) {\n      parent = parent.parent;\n    }\n    return parent;\n  });\n  const paddingStyle = computed(() => {\n    let parent = instance.parent;\n    if (rootMenu.props.mode !== \"vertical\")\n      return {};\n    let padding = 20;\n    if (rootMenu.props.collapse) {\n      padding = 20;\n    } else {\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubMenu\") {\n          padding += 20;\n        }\n        parent = parent.parent;\n      }\n    }\n    return { paddingLeft: `${padding}px` };\n  });\n  return {\n    parentMenu,\n    paddingStyle,\n    indexPath\n  };\n}\n\nfunction useMenuColor(props) {\n  const menuBarColor = computed(() => {\n    const color = props.backgroundColor;\n    if (!color) {\n      return \"\";\n    } else {\n      return darken(color);\n    }\n  });\n  return menuBarColor;\n}\n\nconst useMenuCssVar = (props) => {\n  return computed(() => {\n    return {\n      \"--el-menu-text-color\": props.textColor || \"\",\n      \"--el-menu-hover-text-color\": props.textColor || \"\",\n      \"--el-menu-background-color\": props.backgroundColor || \"\",\n      \"--el-menu-hover-background-color\": useMenuColor(props).value || \"\",\n      \"--el-menu-active-color\": props.activeTextColor || \"\"\n    };\n  });\n};\n\nconst subMenuProps = buildProps({\n  index: {\n    type: String,\n    required: true\n  },\n  showTimeout: {\n    type: Number,\n    default: 300\n  },\n  hideTimeout: {\n    type: Number,\n    default: 300\n  },\n  popperClass: String,\n  disabled: Boolean,\n  popperAppendToBody: {\n    type: Boolean,\n    default: void 0\n  }\n});\nconst COMPONENT_NAME$2 = \"ElSubMenu\";\nvar SubMenu = defineComponent({\n  name: COMPONENT_NAME$2,\n  props: subMenuProps,\n  setup(props, { slots, expose }) {\n    const instance = getCurrentInstance();\n    const { paddingStyle, indexPath, parentMenu } = useMenu(instance, computed(() => props.index));\n    const rootMenu = inject(\"rootMenu\");\n    if (!rootMenu)\n      throwError(COMPONENT_NAME$2, \"can not inject root menu\");\n    const subMenu = inject(`subMenu:${parentMenu.value.uid}`);\n    if (!subMenu)\n      throwError(COMPONENT_NAME$2, \"can not inject sub menu\");\n    const items = ref({});\n    const subMenus = ref({});\n    let timeout;\n    const currentPlacement = ref(\"\");\n    const mouseInChild = ref(false);\n    const verticalTitleRef = ref();\n    const vPopper = ref();\n    const subMenuTitleIcon = computed(() => {\n      return mode.value === \"horizontal\" && isFirstLevel.value || mode.value === \"vertical\" && !rootMenu.props.collapse ? \"el-icon-arrow-down\" : \"el-icon-arrow-right\";\n    });\n    const isFirstLevel = computed(() => {\n      let isFirstLevel2 = true;\n      let parent = instance.parent;\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if ([\"ElSubMenu\", \"ElMenuItemGroup\"].includes(parent.type.name)) {\n          isFirstLevel2 = false;\n          break;\n        } else {\n          parent = parent.parent;\n        }\n      }\n      return isFirstLevel2;\n    });\n    const appendToBody = computed(() => {\n      return props.popperAppendToBody === void 0 ? isFirstLevel.value : Boolean(props.popperAppendToBody);\n    });\n    const menuTransitionName = computed(() => rootMenu.props.collapse ? \"el-zoom-in-left\" : \"el-zoom-in-top\");\n    const fallbackPlacements = computed(() => mode.value === \"horizontal\" && isFirstLevel.value ? [\n      \"bottom-start\",\n      \"bottom-end\",\n      \"top-start\",\n      \"top-end\",\n      \"right-start\",\n      \"left-start\"\n    ] : [\n      \"right-start\",\n      \"left-start\",\n      \"bottom-start\",\n      \"bottom-end\",\n      \"top-start\",\n      \"top-end\"\n    ]);\n    const opened = computed(() => rootMenu.openedMenus.includes(props.index));\n    const active = computed(() => {\n      let isActive = false;\n      Object.values(items.value).forEach((item2) => {\n        if (item2.active) {\n          isActive = true;\n        }\n      });\n      Object.values(subMenus.value).forEach((subItem) => {\n        if (subItem.active) {\n          isActive = true;\n        }\n      });\n      return isActive;\n    });\n    const backgroundColor = computed(() => rootMenu.props.backgroundColor || \"\");\n    const activeTextColor = computed(() => rootMenu.props.activeTextColor || \"\");\n    const textColor = computed(() => rootMenu.props.textColor || \"\");\n    const mode = computed(() => rootMenu.props.mode);\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active\n    });\n    const titleStyle = computed(() => {\n      if (mode.value !== \"horizontal\") {\n        return {\n          color: textColor.value\n        };\n      }\n      return {\n        borderBottomColor: active.value ? rootMenu.props.activeTextColor ? activeTextColor.value : \"\" : \"transparent\",\n        color: active.value ? activeTextColor.value : textColor.value\n      };\n    });\n    const doDestroy = () => {\n      var _a;\n      return (_a = vPopper.value) == null ? void 0 : _a.doDestroy();\n    };\n    const handleCollapseToggle = (value) => {\n      if (value) {\n        updatePlacement();\n      } else {\n        doDestroy();\n      }\n    };\n    const handleClick = () => {\n      if (rootMenu.props.menuTrigger === \"hover\" && rootMenu.props.mode === \"horizontal\" || rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled)\n        return;\n      rootMenu.handleSubMenuClick({\n        index: props.index,\n        indexPath: indexPath.value,\n        active: active.value\n      });\n    };\n    const handleMouseenter = (event, showTimeout = props.showTimeout) => {\n      var _a;\n      if (event.type === \"focus\" && !event.relatedTarget) {\n        return;\n      }\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\" || props.disabled) {\n        return;\n      }\n      mouseInChild.value = true;\n      timeout == null ? void 0 : timeout();\n      ({ stop: timeout } = useTimeoutFn(() => rootMenu.openMenu(props.index, indexPath.value), showTimeout));\n      if (appendToBody.value) {\n        (_a = parentMenu.value.vnode.el) == null ? void 0 : _a.dispatchEvent(new MouseEvent(\"mouseenter\"));\n      }\n    };\n    const handleMouseleave = (deepDispatch = false) => {\n      var _a, _b;\n      if (rootMenu.props.menuTrigger === \"click\" && rootMenu.props.mode === \"horizontal\" || !rootMenu.props.collapse && rootMenu.props.mode === \"vertical\") {\n        return;\n      }\n      mouseInChild.value = false;\n      timeout == null ? void 0 : timeout();\n      ({ stop: timeout } = useTimeoutFn(() => !mouseInChild.value && rootMenu.closeMenu(props.index), props.hideTimeout));\n      if (appendToBody.value && deepDispatch) {\n        if (((_a = instance.parent) == null ? void 0 : _a.type.name) === \"ElSubMenu\") {\n          (_b = subMenu.handleMouseleave) == null ? void 0 : _b.call(subMenu, true);\n        }\n      }\n    };\n    const updatePlacement = () => {\n      currentPlacement.value = mode.value === \"horizontal\" && isFirstLevel.value ? \"bottom-start\" : \"right-start\";\n    };\n    watch(() => rootMenu.props.collapse, (value) => handleCollapseToggle(Boolean(value)));\n    {\n      const addSubMenu = (item2) => {\n        subMenus.value[item2.index] = item2;\n      };\n      const removeSubMenu = (item2) => {\n        delete subMenus.value[item2.index];\n      };\n      provide(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu,\n        handleMouseleave\n      });\n    }\n    expose({\n      opened\n    });\n    onMounted(() => {\n      rootMenu.addSubMenu(item);\n      subMenu.addSubMenu(item);\n      updatePlacement();\n    });\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeSubMenu(item);\n    });\n    return () => {\n      var _a;\n      const titleTag = [\n        (_a = slots.title) == null ? void 0 : _a.call(slots),\n        h(\"i\", {\n          class: [\"el-sub-menu__icon-arrow\", subMenuTitleIcon.value]\n        })\n      ];\n      const ulStyle = useMenuCssVar(rootMenu.props);\n      const child = rootMenu.isMenuPopup ? h(ElPopper, {\n        ref: vPopper,\n        manualMode: true,\n        visible: opened.value,\n        effect: \"light\",\n        pure: true,\n        offset: 6,\n        showArrow: false,\n        popperClass: props.popperClass,\n        placement: currentPlacement.value,\n        appendToBody: appendToBody.value,\n        fallbackPlacements: fallbackPlacements.value,\n        transition: menuTransitionName.value,\n        gpuAcceleration: false\n      }, {\n        default: () => {\n          var _a2;\n          return h(\"div\", {\n            class: [`el-menu--${mode.value}`, props.popperClass],\n            onMouseenter: (evt) => handleMouseenter(evt, 100),\n            onMouseleave: () => handleMouseleave(true),\n            onFocus: (evt) => handleMouseenter(evt, 100)\n          }, [\n            h(\"ul\", {\n              class: [\n                \"el-menu el-menu--popup\",\n                `el-menu--popup-${currentPlacement.value}`\n              ],\n              style: ulStyle.value\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)])\n          ]);\n        },\n        trigger: () => h(\"div\", {\n          class: \"el-sub-menu__title\",\n          style: [\n            paddingStyle.value,\n            titleStyle.value,\n            { backgroundColor: backgroundColor.value }\n          ],\n          onClick: handleClick\n        }, titleTag)\n      }) : h(Fragment, {}, [\n        h(\"div\", {\n          class: \"el-sub-menu__title\",\n          style: [\n            paddingStyle.value,\n            titleStyle.value,\n            { backgroundColor: backgroundColor.value }\n          ],\n          ref: verticalTitleRef,\n          onClick: handleClick\n        }, titleTag),\n        h(ElCollapseTransition, {}, {\n          default: () => {\n            var _a2;\n            return withDirectives(h(\"ul\", {\n              role: \"menu\",\n              class: \"el-menu el-menu--inline\",\n              style: ulStyle.value\n            }, [(_a2 = slots.default) == null ? void 0 : _a2.call(slots)]), [[vShow, opened.value]]);\n          }\n        })\n      ]);\n      return h(\"li\", {\n        class: [\n          \"el-sub-menu\",\n          {\n            \"is-active\": active.value,\n            \"is-opened\": opened.value,\n            \"is-disabled\": props.disabled\n          }\n        ],\n        role: \"menuitem\",\n        ariaHaspopup: true,\n        ariaExpanded: opened.value,\n        onMouseenter: handleMouseenter,\n        onMouseleave: () => handleMouseleave(true),\n        onFocus: handleMouseenter\n      }, [child]);\n    };\n  }\n});\n\nconst menuProps = buildProps({\n  mode: {\n    type: String,\n    values: [\"horizontal\", \"vertical\"],\n    default: \"vertical\"\n  },\n  defaultActive: {\n    type: String,\n    default: \"\"\n  },\n  defaultOpeneds: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  uniqueOpened: Boolean,\n  router: Boolean,\n  menuTrigger: {\n    type: String,\n    values: [\"hover\", \"click\"],\n    default: \"hover\"\n  },\n  collapse: Boolean,\n  backgroundColor: String,\n  textColor: String,\n  activeTextColor: String,\n  collapseTransition: {\n    type: Boolean,\n    default: true\n  },\n  ellipsis: {\n    type: Boolean,\n    default: true\n  }\n});\nconst checkIndexPath = (indexPath) => Array.isArray(indexPath) && indexPath.every((path) => isString(path));\nconst menuEmits = {\n  close: (index, indexPath) => isString(index) && checkIndexPath(indexPath),\n  open: (index, indexPath) => isString(index) && checkIndexPath(indexPath),\n  select: (index, indexPath, item, routerResult) => isString(index) && checkIndexPath(indexPath) && isObject(item) && (routerResult === void 0 || routerResult instanceof Promise)\n};\nvar Menu = defineComponent({\n  name: \"ElMenu\",\n  props: menuProps,\n  emits: menuEmits,\n  setup(props, { emit, slots, expose }) {\n    const instance = getCurrentInstance();\n    const router = instance.appContext.config.globalProperties.$router;\n    const menu = ref();\n    const openedMenus = ref(props.defaultOpeneds && !props.collapse ? props.defaultOpeneds.slice(0) : []);\n    const activeIndex = ref(props.defaultActive);\n    const items = ref({});\n    const subMenus = ref({});\n    const alteredCollapse = ref(false);\n    const isMenuPopup = computed(() => {\n      return props.mode === \"horizontal\" || props.mode === \"vertical\" && props.collapse;\n    });\n    const initMenu = () => {\n      const activeItem = activeIndex.value && items.value[activeIndex.value];\n      if (!activeItem || props.mode === \"horizontal\" || props.collapse)\n        return;\n      const indexPath = activeItem.indexPath;\n      indexPath.forEach((index) => {\n        const subMenu = subMenus.value[index];\n        subMenu && openMenu(index, subMenu.indexPath);\n      });\n    };\n    const openMenu = (index, indexPath) => {\n      if (openedMenus.value.includes(index))\n        return;\n      if (props.uniqueOpened) {\n        openedMenus.value = openedMenus.value.filter((index2) => indexPath.includes(index2));\n      }\n      openedMenus.value.push(index);\n    };\n    const closeMenu = (index) => {\n      const i = openedMenus.value.indexOf(index);\n      if (i !== -1) {\n        openedMenus.value.splice(i, 1);\n      }\n    };\n    const handleSubMenuClick = ({\n      index,\n      indexPath\n    }) => {\n      const isOpened = openedMenus.value.includes(index);\n      if (isOpened) {\n        closeMenu(index);\n        emit(\"close\", index, indexPath);\n      } else {\n        openMenu(index, indexPath);\n        emit(\"open\", index, indexPath);\n      }\n    };\n    const handleMenuItemClick = (menuItem) => {\n      if (props.mode === \"horizontal\" || props.collapse) {\n        openedMenus.value = [];\n      }\n      const { index, indexPath } = menuItem;\n      if (index === void 0 || indexPath === void 0)\n        return;\n      if (props.router && router) {\n        const route = menuItem.route || index;\n        const routerResult = router.push(route).then((res) => {\n          if (!res)\n            activeIndex.value = index;\n          return res;\n        });\n        emit(\"select\", index, indexPath, { index, indexPath, route }, routerResult);\n      } else {\n        activeIndex.value = index;\n        emit(\"select\", index, indexPath, { index, indexPath });\n      }\n    };\n    const updateActiveIndex = (val) => {\n      const itemsInData = items.value;\n      const item = itemsInData[val] || activeIndex.value && itemsInData[activeIndex.value] || itemsInData[props.defaultActive];\n      if (item) {\n        activeIndex.value = item.index;\n        initMenu();\n      } else {\n        if (!alteredCollapse.value) {\n          activeIndex.value = void 0;\n        } else {\n          alteredCollapse.value = false;\n        }\n      }\n    };\n    const handleResize = () => nextTick(() => {\n      instance.proxy.$forceUpdate();\n    });\n    watch(() => props.defaultActive, (currentActive) => {\n      if (!items.value[currentActive]) {\n        activeIndex.value = \"\";\n      }\n      updateActiveIndex(currentActive);\n    });\n    watch(items.value, () => initMenu());\n    watch(() => props.collapse, (value, prev) => {\n      if (value !== prev) {\n        alteredCollapse.value = true;\n      }\n      if (value)\n        openedMenus.value = [];\n    });\n    {\n      const addSubMenu = (item) => {\n        subMenus.value[item.index] = item;\n      };\n      const removeSubMenu = (item) => {\n        delete subMenus.value[item.index];\n      };\n      const addMenuItem = (item) => {\n        items.value[item.index] = item;\n      };\n      const removeMenuItem = (item) => {\n        delete items.value[item.index];\n      };\n      provide(\"rootMenu\", reactive({\n        props,\n        openedMenus,\n        items,\n        subMenus,\n        activeIndex,\n        isMenuPopup,\n        addMenuItem,\n        removeMenuItem,\n        addSubMenu,\n        removeSubMenu,\n        openMenu,\n        closeMenu,\n        handleMenuItemClick,\n        handleSubMenuClick\n      }));\n      provide(`subMenu:${instance.uid}`, {\n        addSubMenu,\n        removeSubMenu\n      });\n    }\n    onMounted(() => {\n      initMenu();\n      if (props.mode === \"horizontal\") {\n        new Menubar(instance.vnode.el);\n      }\n    });\n    {\n      const open = (index) => {\n        const { indexPath } = subMenus.value[index];\n        indexPath.forEach((i) => openMenu(i, indexPath));\n      };\n      expose({\n        open,\n        close: closeMenu,\n        handleResize\n      });\n    }\n    const flattedChildren = (children) => {\n      const vnodes = Array.isArray(children) ? children : [children];\n      const result = [];\n      vnodes.forEach((child) => {\n        if (Array.isArray(child.children)) {\n          result.push(...flattedChildren(child.children));\n        } else {\n          result.push(child);\n        }\n      });\n      return result;\n    };\n    const useVNodeResize = (vnode) => props.mode === \"horizontal\" ? withDirectives(vnode, [[Resize, handleResize]]) : vnode;\n    return () => {\n      var _a, _b, _c, _d;\n      let slot = (_b = (_a = slots.default) == null ? void 0 : _a.call(slots)) != null ? _b : [];\n      const vShowMore = [];\n      if (props.mode === \"horizontal\" && menu.value) {\n        const items2 = Array.from((_d = (_c = menu.value) == null ? void 0 : _c.childNodes) != null ? _d : []).filter((item) => item.nodeName !== \"#text\" || item.nodeValue);\n        const originalSlot = flattedChildren(slot);\n        const moreItemWidth = 64;\n        const paddingLeft = parseInt(getComputedStyle(menu.value).paddingLeft, 10);\n        const paddingRight = parseInt(getComputedStyle(menu.value).paddingRight, 10);\n        const menuWidth = menu.value.clientWidth - paddingLeft - paddingRight;\n        let calcWidth = 0;\n        let sliceIndex = 0;\n        items2.forEach((item, index) => {\n          calcWidth += item.offsetWidth || 0;\n          if (calcWidth <= menuWidth - moreItemWidth) {\n            sliceIndex = index + 1;\n          }\n        });\n        const slotDefault = originalSlot.slice(0, sliceIndex);\n        const slotMore = originalSlot.slice(sliceIndex);\n        if ((slotMore == null ? void 0 : slotMore.length) && props.ellipsis) {\n          slot = slotDefault;\n          vShowMore.push(h(SubMenu, {\n            index: \"sub-menu-more\",\n            class: \"el-sub-menu__hide-arrow\"\n          }, {\n            title: () => h(\"i\", {\n              class: [\"el-icon-more\", \"el-sub-menu__icon-more\"]\n            }),\n            default: () => slotMore\n          }));\n        }\n      }\n      const ulStyle = useMenuCssVar(props);\n      const resizeMenu = (vNode) => props.ellipsis ? useVNodeResize(vNode) : vNode;\n      const vMenu = resizeMenu(h(\"ul\", {\n        key: String(props.collapse),\n        role: \"menubar\",\n        ref: menu,\n        style: ulStyle.value,\n        class: {\n          \"el-menu\": true,\n          \"el-menu--horizontal\": props.mode === \"horizontal\",\n          \"el-menu--collapse\": props.collapse\n        }\n      }, [...slot.map((vnode) => resizeMenu(vnode)), ...vShowMore]));\n      if (props.collapseTransition && props.mode === \"vertical\") {\n        return h(script$2, () => vMenu);\n      }\n      return vMenu;\n    };\n  }\n});\n\nconst menuItemProps = buildProps({\n  index: {\n    type: definePropType([String, null]),\n    default: null\n  },\n  route: {\n    type: definePropType([String, Object])\n  },\n  disabled: Boolean\n});\nconst menuItemEmits = {\n  click: (item) => isString(item.index) && Array.isArray(item.indexPath)\n};\n\nconst COMPONENT_NAME$1 = \"ElMenuItem\";\nvar script$1 = defineComponent({\n  name: COMPONENT_NAME$1,\n  components: {\n    ElTooltip\n  },\n  props: menuItemProps,\n  emits: menuItemEmits,\n  setup(props, { emit }) {\n    const instance = getCurrentInstance();\n    const rootMenu = inject(\"rootMenu\");\n    if (!rootMenu)\n      throwError(COMPONENT_NAME$1, \"can not inject root menu\");\n    const { parentMenu, paddingStyle, indexPath } = useMenu(instance, toRef(props, \"index\"));\n    const subMenu = inject(`subMenu:${parentMenu.value.uid}`);\n    if (!subMenu)\n      throwError(COMPONENT_NAME$1, \"can not inject sub menu\");\n    const active = computed(() => props.index === rootMenu.activeIndex);\n    const item = reactive({\n      index: props.index,\n      indexPath,\n      active\n    });\n    const handleClick = () => {\n      if (!props.disabled) {\n        rootMenu.handleMenuItemClick({\n          index: props.index,\n          indexPath: indexPath.value,\n          route: props.route\n        });\n        emit(\"click\", item);\n      }\n    };\n    onMounted(() => {\n      subMenu.addSubMenu(item);\n      rootMenu.addMenuItem(item);\n    });\n    onBeforeUnmount(() => {\n      subMenu.removeSubMenu(item);\n      rootMenu.removeMenuItem(item);\n    });\n    return {\n      Effect,\n      parentMenu,\n      rootMenu,\n      paddingStyle,\n      active,\n      handleClick\n    };\n  }\n});\n\nconst _hoisted_1$1 = { style: {\n  position: \"absolute\",\n  left: 0,\n  top: 0,\n  height: \"100%\",\n  width: \"100%\",\n  display: \"inline-block\",\n  boxSizing: \"border-box\",\n  padding: \"0 20px\"\n} };\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_tooltip = resolveComponent(\"el-tooltip\");\n  return openBlock(), createElementBlock(\"li\", {\n    class: normalizeClass([\"el-menu-item\", {\n      \"is-active\": _ctx.active,\n      \"is-disabled\": _ctx.disabled\n    }]),\n    role: \"menuitem\",\n    tabindex: \"-1\",\n    style: normalizeStyle(_ctx.paddingStyle),\n    onClick: _cache[0] || (_cache[0] = (...args) => _ctx.handleClick && _ctx.handleClick(...args))\n  }, [\n    _ctx.parentMenu.type.name === \"ElMenu\" && _ctx.rootMenu.props.collapse && _ctx.$slots.title ? (openBlock(), createBlock(_component_el_tooltip, {\n      key: 0,\n      effect: _ctx.Effect.DARK,\n      placement: \"right\"\n    }, {\n      content: withCtx(() => [\n        renderSlot(_ctx.$slots, \"title\")\n      ]),\n      default: withCtx(() => [\n        createElementVNode(\"div\", _hoisted_1$1, [\n          renderSlot(_ctx.$slots, \"default\")\n        ])\n      ]),\n      _: 3\n    }, 8, [\"effect\"])) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n      renderSlot(_ctx.$slots, \"default\"),\n      renderSlot(_ctx.$slots, \"title\")\n    ], 64))\n  ], 6);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/components/menu/src/menu-item.vue\";\n\nconst menuItemGroupProps = {\n  title: String\n};\n\nconst COMPONENT_NAME = \"ElMenuItemGroup\";\nvar script = defineComponent({\n  name: COMPONENT_NAME,\n  props: menuItemGroupProps,\n  setup() {\n    const instance = getCurrentInstance();\n    const menu = inject(\"rootMenu\");\n    if (!menu)\n      throwError(COMPONENT_NAME, \"can not inject root menu\");\n    const levelPadding = computed(() => {\n      if (menu.props.collapse)\n        return 20;\n      let padding = 20;\n      let parent = instance.parent;\n      while (parent && parent.type.name !== \"ElMenu\") {\n        if (parent.type.name === \"ElSubMenu\") {\n          padding += 20;\n        }\n        parent = parent.parent;\n      }\n      return padding;\n    });\n    return {\n      levelPadding\n    };\n  }\n});\n\nconst _hoisted_1 = { class: \"el-menu-item-group\" };\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"li\", _hoisted_1, [\n    createElementVNode(\"div\", {\n      class: \"el-menu-item-group__title\",\n      style: normalizeStyle({ paddingLeft: `${_ctx.levelPadding}px` })\n    }, [\n      !_ctx.$slots.title ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n        createTextVNode(toDisplayString(_ctx.title), 1)\n      ], 2112)) : renderSlot(_ctx.$slots, \"title\", { key: 1 })\n    ], 4),\n    createElementVNode(\"ul\", null, [\n      renderSlot(_ctx.$slots, \"default\")\n    ])\n  ]);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/menu/src/menu-item-group.vue\";\n\nconst ElMenu = withInstall(Menu, {\n  MenuItem: script$1,\n  MenuItemGroup: script,\n  SubMenu\n});\nconst ElMenuItem = withNoopInstall(script$1);\nconst ElMenuItemGroup = withNoopInstall(script);\nconst ElSubMenu = withNoopInstall(SubMenu);\n\nexport { ElMenu, ElMenuItem, ElMenuItemGroup, ElSubMenu, ElMenu as default, menuEmits, menuItemEmits, menuItemGroupProps, menuItemProps, menuProps, subMenuProps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}