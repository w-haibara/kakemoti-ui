{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport { withInstall, withNoopInstall } from 'element-plus/es/utils/with-install';\nimport { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createElementBlock, createElementVNode, createVNode, Fragment, renderList, createTextVNode, toDisplayString, normalizeClass, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, normalizeStyle, renderSlot, createCommentVNode, vShow, onBeforeUnmount } from 'vue';\nimport debounce from 'lodash/debounce';\nimport { ClickOutside, Mousewheel } from 'element-plus/es/directives';\nimport { useLocaleInject } from 'element-plus/es/hooks';\nimport { hasOwn } from '@vue/shared';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from 'element-plus/es/utils/popup-manager';\nimport { getValueByPath, useGlobalConfig, getPropByPath } from 'element-plus/es/utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from 'element-plus/es/utils/dom';\nimport scrollbarWidth from 'element-plus/es/utils/scrollbar-width';\nimport isServer from 'element-plus/es/utils/isServer';\nimport ElCheckbox from 'element-plus/es/components/checkbox';\nimport ElPopper, { Effect } from 'element-plus/es/components/popper';\nimport ElScrollbar from 'element-plus/es/components/scrollbar';\nimport throttle from 'lodash/throttle';\nimport { removeResizeListener, addResizeListener } from 'element-plus/es/utils/resize-event';\nimport { debugWarn } from 'element-plus/es/utils/error';\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$5 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$5 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$5.call(b, prop)) __defNormalProp$5(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$5) for (var prop of __getOwnPropSymbols$5(b)) {\n    if (__propIsEnum$5.call(b, prop)) __defNormalProp$5(a, prop, b[prop]);\n  }\n  return a;\n};\n\nconst getCell = function (event) {\n  let cell = event.target;\n\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n\n    cell = cell.parentNode;\n  }\n\n  return null;\n};\n\nconst isObject = function (obj) {\n  return obj !== null && typeof obj === \"object\";\n};\n\nconst orderBy = function (array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n\n  const getKey = sortMethod ? null : function (value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n\n      return sortBy.map(function (by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value) value = value.$value;\n    }\n\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n\n  const compare = function (a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n\n    return 0;\n  };\n\n  return array.map(function (value, index) {\n    return {\n      value,\n      index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function (a, b) {\n    let order = compare(a, b);\n\n    if (!order) {\n      order = a.index - b.index;\n    }\n\n    return order * +reverse;\n  }).map(item => item.value);\n};\n\nconst getColumnById = function (table, columnId) {\n  let column = null;\n  table.columns.forEach(function (item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\n\nconst getColumnByKey = function (table, columnKey) {\n  let column = null;\n\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i];\n\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n\n  return column;\n};\n\nconst getColumnByCell = function (table, cell) {\n  const matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n\n  return null;\n};\n\nconst getRowIdentity = (row, rowKey) => {\n  if (!row) throw new Error(\"Row is required when get row identity\");\n\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return `${row[rowKey]}`;\n    }\n\n    const key = rowKey.split(\".\");\n    let current = row;\n\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n\n    return `${current}`;\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\n\nconst getKeysMap = function (array, rowKey) {\n  const arrayMap = {};\n  (array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = {\n      row,\n      index\n    };\n  });\n  return arrayMap;\n};\n\nfunction mergeOptions(defaults, config) {\n  const options = {};\n  let key;\n\n  for (key in defaults) {\n    options[key] = defaults[key];\n  }\n\n  for (key in config) {\n    if (hasOwn(config, key)) {\n      const value = config[key];\n\n      if (typeof value !== \"undefined\") {\n        options[key] = value;\n      }\n    }\n  }\n\n  return options;\n}\n\nfunction parseWidth(width) {\n  if (width !== void 0) {\n    width = parseInt(width, 10);\n\n    if (isNaN(width)) {\n      width = null;\n    }\n  }\n\n  return +width;\n}\n\nfunction parseMinWidth(minWidth) {\n  if (typeof minWidth !== \"undefined\") {\n    minWidth = parseWidth(minWidth);\n\n    if (isNaN(minWidth)) {\n      minWidth = 80;\n    }\n  }\n\n  return minWidth;\n}\n\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n\n  return null;\n}\n\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg => arg;\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\n\nfunction toggleRowStatus(statusArr, row, newVal) {\n  let changed = false;\n  const index = statusArr.indexOf(row);\n  const included = index !== -1;\n\n  const addRow = () => {\n    statusArr.push(row);\n    changed = true;\n  };\n\n  const removeRow = () => {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n\n  return changed;\n}\n\nfunction walkTreeNode(root, cb, childrenKey = \"children\", lazyKey = \"hasChildren\") {\n  const isNil = array => !(Array.isArray(array) && array.length);\n\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach(item => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n\n      const children2 = item[childrenKey];\n\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n\n  root.forEach(item => {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n\n    const children = item[childrenKey];\n\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\n\nlet removePopper;\n\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    const isLight = tooltipEffect === \"light\";\n    const content2 = document.createElement(\"div\");\n    content2.className = `el-popper ${isLight ? \"is-light\" : \"is-dark\"}`;\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n\n  function renderArrow() {\n    const arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {}\n  };\n\n  let popperInstance = null;\n  const content = renderContent();\n  const arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues$5({\n    modifiers: [{\n      name: \"offset\",\n      options: {\n        offset: [0, 8]\n      }\n    }, {\n      name: \"arrow\",\n      options: {\n        element: arrow,\n        padding: 10\n      }\n    }]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance();\n  const defaultExpandAll = ref(false);\n  const expandRows = ref([]);\n\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey);\n        const rowInfo = expandRowsMap[rowId];\n\n        if (rowInfo) {\n          prev.push(row);\n        }\n\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded);\n\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n\n  const setExpandRowKeys = rowKeys => {\n    instance.store.assertRowKey();\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    const keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur];\n\n      if (info) {\n        prev.push(info.row);\n      }\n\n      return prev;\n    }, []);\n  };\n\n  const isRowExpanded = row => {\n    const rowKey = watcherData.rowKey.value;\n\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n\n    return expandRows.value.indexOf(row) !== -1;\n  };\n\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance();\n\n  const _currentRowKey = ref(null);\n\n  const currentRow = ref(null);\n\n  const setCurrentRowKey = key => {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null;\n  };\n\n  const setCurrentRowByKey = key => {\n    const {\n      data,\n      rowKey\n    } = watcherData;\n    let _currentRow = null;\n\n    if (rowKey.value) {\n      _currentRow = (unref(data) || []).find(item => getRowIdentity(item, rowKey.value) === key);\n    }\n\n    currentRow.value = _currentRow;\n  };\n\n  const updateCurrentRow = _currentRow => {\n    const oldCurrentRow = currentRow.value;\n\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value;\n    const data = watcherData.data.value || [];\n    const oldCurrentRow = currentRow.value;\n\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$4) for (var prop of __getOwnPropSymbols$4(b)) {\n    if (__propIsEnum$4.call(b, prop)) __defNormalProp$4(a, prop, b[prop]);\n  }\n  return a;\n};\n\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([]);\n  const treeData = ref({});\n  const indent = ref(16);\n  const lazy = ref(false);\n  const lazyTreeNodeMap = ref({});\n  const lazyColumnIdentifier = ref(\"hasChildren\");\n  const childrenColumnName = ref(\"children\");\n  const instance = getCurrentInstance();\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value) return {};\n    const data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value;\n    const keys = Object.keys(lazyTreeNodeMap.value);\n    const res = {};\n    if (!keys.length) return res;\n    keys.forEach(key => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = {\n          children: []\n        };\n        lazyTreeNodeMap.value[key].forEach(row => {\n          const currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = {\n              children: []\n            };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n\n  const normalize = data => {\n    const rowKey = watcherData.rowKey.value;\n    const res = {};\n    walkTreeNode(data, (parent, children, level) => {\n      const parentId = getRowIdentity(parent, rowKey);\n\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map(row => getRowIdentity(row, rowKey)),\n          level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n\n  const updateTreeData = (ifChangeExpandRowKeys = false, ifExpandAll = (_a => (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value)()) => {\n    var _a2;\n\n    const nested = normalizedData.value;\n    const normalizedLazyNode_ = normalizedLazyNode.value;\n    const keys = Object.keys(nested);\n    const newTreeData = {};\n\n    if (keys.length) {\n      const oldTreeData = unref(treeData);\n      const rootLazyRowKeys = [];\n\n      const getExpanded = (oldValue, key) => {\n        if (ifChangeExpandRowKeys) {\n          if (expandRowKeys.value) {\n            return ifExpandAll || expandRowKeys.value.includes(key);\n          } else {\n            return !!(ifExpandAll || (oldValue == null ? void 0 : oldValue.expanded));\n          }\n        } else {\n          const included = ifExpandAll || expandRowKeys.value && expandRowKeys.value.includes(key);\n          return !!((oldValue == null ? void 0 : oldValue.expanded) || included);\n        }\n      };\n\n      keys.forEach(key => {\n        const oldValue = oldTreeData[key];\n\n        const newValue = __spreadValues$4({}, nested[key]);\n\n        newValue.expanded = getExpanded(oldValue, key);\n\n        if (newValue.lazy) {\n          const {\n            loaded = false,\n            loading = false\n          } = oldValue || {};\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n\n        newTreeData[key] = newValue;\n      });\n      const lazyKeys = Object.keys(normalizedLazyNode_);\n\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach(key => {\n          const oldValue = oldTreeData[key];\n          const lazyNodeChildren = normalizedLazyNode_[key].children;\n\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            const {\n              loaded = false,\n              loading = false\n            } = oldValue || {};\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n\n    treeData.value = newTreeData;\n    (_a2 = instance.store) == null ? void 0 : _a2.updateTableScrollY();\n  };\n\n  watch(() => expandRowKeys.value, () => {\n    updateTreeData(true);\n  });\n  watch(() => normalizedData.value, () => {\n    updateTreeData();\n  });\n  watch(() => normalizedLazyNode.value, () => {\n    updateTreeData();\n  });\n\n  const updateTreeExpandKeys = value => {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = id && treeData.value[id];\n\n    if (id && data && \"expanded\" in data) {\n      const oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n\n      instance.store.updateTableScrollY();\n    }\n  };\n\n  const loadOrToggle = row => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = treeData.value[id];\n\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n\n  const loadData = (row, key, treeNode) => {\n    const {\n      load\n    } = instance.props;\n\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, data => {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$3) for (var prop of __getOwnPropSymbols$3(b)) {\n    if (__propIsEnum$3.call(b, prop)) __defNormalProp$3(a, prop, b[prop]);\n  }\n  return a;\n};\n\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn;\n\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\n\nconst doFlattenColumns = columns => {\n  const result = [];\n  columns.forEach(column => {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nfunction useWatcher$1() {\n  const instance = getCurrentInstance();\n  const rowKey = ref(null);\n  const data = ref([]);\n\n  const _data = ref([]);\n\n  const isComplex = ref(false);\n\n  const _columns = ref([]);\n\n  const originColumns = ref([]);\n  const columns = ref([]);\n  const fixedColumns = ref([]);\n  const rightFixedColumns = ref([]);\n  const leafColumns = ref([]);\n  const fixedLeafColumns = ref([]);\n  const rightFixedLeafColumns = ref([]);\n  const leafColumnsLength = ref(0);\n  const fixedLeafColumnsLength = ref(0);\n  const rightFixedLeafColumnsLength = ref(0);\n  const isAllSelected = ref(false);\n  const selection = ref([]);\n  const reserveSelection = ref(false);\n  const selectOnIndeterminate = ref(false);\n  const selectable = ref(null);\n  const filters = ref({});\n  const filteredData = ref(null);\n  const sortingColumn = ref(null);\n  const sortProp = ref(null);\n  const sortOrder = ref(null);\n  const hoverRow = ref(null);\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true\n  });\n\n  const assertRowKey = () => {\n    if (!rowKey.value) throw new Error(\"[ElTable] prop row-key is required\");\n  };\n\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter(column => column.fixed === true || column.fixed === \"left\");\n    rightFixedColumns.value = _columns.value.filter(column => column.fixed === \"right\");\n\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n\n    const notFixedColumns = _columns.value.filter(column => !column.fixed);\n\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    const leafColumns2 = doFlattenColumns(notFixedColumns);\n    const fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    const rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n\n  const isSelected = row => {\n    return selection.value.indexOf(row) > -1;\n  };\n\n  const clearSelection = () => {\n    isAllSelected.value = false;\n    const oldSelection = selection.value;\n\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n\n  const cleanSelection = () => {\n    let deleted;\n\n    if (rowKey.value) {\n      deleted = [];\n      const selectedMap = getKeysMap(selection.value, rowKey.value);\n      const dataMap = getKeysMap(data.value, rowKey.value);\n\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter(item => data.value.indexOf(item) === -1);\n    }\n\n    if (deleted.length) {\n      const newSelection = selection.value.filter(item => deleted.indexOf(item) === -1);\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n\n  const toggleRowSelection = (row, selected = void 0, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected);\n\n    if (changed) {\n      const newSelection = (selection.value || []).slice();\n\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n\n  const _toggleAllSelection = () => {\n    var _a, _b;\n\n    const value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    let selectionChanged = false;\n    let childrenCount = 0;\n    const rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount;\n\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n\n    instance.emit(\"select-all\", selection.value);\n  };\n\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach(row => {\n      const rowId = getRowIdentity(row, rowKey.value);\n      const rowInfo = selectedMap[rowId];\n\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n\n  const updateAllSelected = () => {\n    var _a, _b, _c;\n\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n\n    let selectedMap;\n\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n\n    const isSelected2 = function (row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n\n    let isAllSelected_ = true;\n    let selectedCount = 0;\n    let childrenCount = 0;\n\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      const rowIndex = i + childrenCount;\n      const item = data.value[i];\n      const isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n\n    if (selectedCount === 0) isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n\n  const getChildrenCount = rowKey2 => {\n    var _a;\n\n    if (!instance || !instance.store) return 0;\n    const {\n      treeData\n    } = instance.store.states;\n    let count = 0;\n    const children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n\n    if (children) {\n      count += children.length;\n      children.forEach(childKey => {\n        count += getChildrenCount(childKey);\n      });\n    }\n\n    return count;\n  };\n\n  const updateFilters = (columns2, values) => {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n\n    const filters_ = {};\n    columns2.forEach(col => {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n\n  const execFilter = () => {\n    let sourceData = unref(_data);\n    Object.keys(filters.value).forEach(columnId => {\n      const values = filters.value[columnId];\n      if (!values || values.length === 0) return;\n      const column = getColumnById({\n        columns: columns.value\n      }, columnId);\n\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter(row => {\n          return values.some(value => column.filterMethod.call(null, value, row, column));\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n\n  const execQuery = (ignore = void 0) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n\n    execSort();\n  };\n\n  const clearFilter = columnKeys => {\n    const {\n      tableHeader,\n      fixedTableHeader,\n      rightFixedTableHeader\n    } = instance.refs;\n    let panels = {};\n    if (tableHeader) panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader) panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader) panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    const keys = Object.keys(panels);\n    if (!keys.length) return;\n\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map(key => getColumnByKey({\n        columns: columns.value\n      }, key));\n      keys.forEach(key => {\n        const column = columns_.find(col => col.id === key);\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach(key => {\n        const column = columns.value.find(col => col.id === key);\n\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n\n  const clearSort = () => {\n    if (!sortingColumn.value) return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  });\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    updateTreeData,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  });\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  });\n\n  const setExpandRowKeysAdapter = val => {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({\n      type\n    }) => type === \"expand\");\n\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    updateTreeData,\n    states: __spreadValues$3(__spreadValues$3(__spreadValues$3({\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$2) for (var prop of __getOwnPropSymbols$2(b)) {\n    if (__propIsEnum$2.call(b, prop)) __defNormalProp$2(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\n\nfunction replaceColumn(array, column) {\n  return array.map(item => {\n    var _a;\n\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n\n    return item;\n  });\n}\n\nfunction sortColumn(array) {\n  array.forEach(item => {\n    var _a, _b;\n\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort((cur, pre) => cur.no - pre.no);\n}\n\nfunction useStore() {\n  const instance = getCurrentInstance();\n  const watcher = useWatcher$1();\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n      instance.store.updateTreeData(instance.store.states.defaultExpandAll.value);\n\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n\n      instance.store.updateAllSelected();\n\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n\n    insertColumn(states, column, parent) {\n      const array = unref(states._columns);\n      let newColumns = [];\n\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || [];\n\n      if (parent) {\n        parent.children.splice(parent.children.findIndex(item => item.id === column.id), 1);\n\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        const index = array.indexOf(column);\n\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n\n    sort(states, options) {\n      const {\n        prop,\n        order,\n        init\n      } = options;\n\n      if (prop) {\n        const column = unref(states.columns).find(column2 => column2.property === prop);\n\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", {\n            init\n          });\n        }\n      }\n    },\n\n    changeSortCondition(states, options) {\n      const {\n        sortingColumn: column,\n        sortProp: prop,\n        sortOrder: order\n      } = states;\n\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n\n      const ingore = {\n        filter: true\n      };\n      instance.store.execQuery(ingore);\n\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n\n      instance.store.updateTableScrollY();\n    },\n\n    filterChange(_states, options) {\n      const {\n        column,\n        values,\n        silent\n      } = options;\n      const newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n\n      instance.store.updateTableScrollY();\n    },\n\n    toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n\n    rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n\n    setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n\n    setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n\n  };\n\n  const commit = function (name, ...args) {\n    const mutations2 = instance.store.mutations;\n\n    if (mutations2[name]) {\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(`Action not found: ${name}`);\n    }\n  };\n\n  const updateTableScrollY = function () {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout));\n  };\n\n  return __spreadProps$2(__spreadValues$2({}, watcher), {\n    mutations,\n    commit,\n    updateTableScrollY\n  });\n}\n\nconst InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\",\n  [\"treeProps.hasChildren\"]: {\n    key: \"lazyColumnIdentifier\",\n    default: \"hasChildren\"\n  },\n  [\"treeProps.children\"]: {\n    key: \"childrenColumnName\",\n    default: \"children\"\n  }\n};\n\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n\n  const store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach(key => {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\n\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach(key => {\n    watch(() => getArrKeysValue(props, key), value => {\n      handleValue(value, key, store);\n    });\n  });\n}\n\nfunction handleValue(value, propsKey, store) {\n  let newVal = value;\n  let storeKey = InitialStateMap[propsKey];\n\n  if (typeof InitialStateMap[propsKey] === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n\n  store.states[storeKey].value = newVal;\n}\n\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    const keyList = keys.split(\".\");\n    let value = props;\n    keyList.forEach(key => {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n\n    if (!this.table) {\n      throw new Error(\"Table is required for Table Layout\");\n    }\n\n    if (!this.store) {\n      throw new Error(\"Store is required for Table Layout\");\n    }\n  }\n\n  updateScrollY() {\n    const height = this.height.value;\n    if (height === null) return false;\n    const bodyWrapper = this.table.refs.bodyWrapper;\n\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true;\n      const prevScrollY = this.scrollY.value;\n\n      if (this.bodyHeight.value === null) {\n        scrollY = false;\n      } else {\n        const body = bodyWrapper.querySelector(\".el-table__body\");\n        scrollY = body.offsetHeight > this.bodyHeight.value;\n      }\n\n      this.scrollY.value = scrollY;\n      return prevScrollY !== scrollY;\n    }\n\n    return false;\n  }\n\n  setHeight(value, prop = \"height\") {\n    if (isServer) return;\n    const el = this.table.vnode.el;\n    value = parseHeight(value);\n    this.height.value = Number(value);\n    if (!el && (value || value === 0)) return nextTick(() => this.setHeight(value, prop));\n\n    if (typeof value === \"number\") {\n      el.style[prop] = `${value}px`;\n      this.updateElsHeight();\n    } else if (typeof value === \"string\") {\n      el.style[prop] = value;\n      this.updateElsHeight();\n    }\n  }\n\n  setMaxHeight(value) {\n    this.setHeight(value, \"max-height\");\n  }\n\n  getFlattenColumns() {\n    const flattenColumns = [];\n    const columns = this.table.store.states.columns.value;\n    columns.forEach(column => {\n      if (column.isColumnGroup) {\n        flattenColumns.push.apply(flattenColumns, column.columns);\n      } else {\n        flattenColumns.push(column);\n      }\n    });\n    return flattenColumns;\n  }\n\n  updateElsHeight() {\n    if (!this.table.$ready) return nextTick(() => this.updateElsHeight());\n    const {\n      headerWrapper,\n      appendWrapper,\n      footerWrapper\n    } = this.table.refs;\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n    if (this.showHeader && !headerWrapper) return;\n    const headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n    const noneHeader = this.headerDisplayNone(headerTrElm);\n    const headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n\n    if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n      return nextTick(() => this.updateElsHeight());\n    }\n\n    const tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n    const footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n\n    if (this.height.value !== null) {\n      this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n    }\n\n    this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n    this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n    this.updateScrollY();\n    this.notifyObservers(\"scrollable\");\n  }\n\n  headerDisplayNone(elm) {\n    if (!elm) return true;\n    let headerChild = elm;\n\n    while (headerChild.tagName !== \"DIV\") {\n      if (getComputedStyle(headerChild).display === \"none\") {\n        return true;\n      }\n\n      headerChild = headerChild.parentElement;\n    }\n\n    return false;\n  }\n\n  updateColumnsWidth() {\n    if (isServer) return;\n    const fit = this.fit;\n    const bodyWidth = this.table.vnode.el.clientWidth;\n    let bodyMinWidth = 0;\n    const flattenColumns = this.getFlattenColumns();\n    const flexColumns = flattenColumns.filter(column => typeof column.width !== \"number\");\n    flattenColumns.forEach(column => {\n      if (typeof column.width === \"number\" && column.realWidth) column.realWidth = null;\n    });\n\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach(column => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80);\n      });\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        this.scrollX.value = false;\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n        } else {\n          const allColumnsWidth = flexColumns.reduce((prev, column) => prev + Number(column.minWidth || 80), 0);\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n          let noneFirstWidth = 0;\n          flexColumns.forEach((column, index) => {\n            if (index === 0) return;\n            const flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n            noneFirstWidth += flexWidth;\n            column.realWidth = Number(column.minWidth || 80) + flexWidth;\n          });\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n        }\n      } else {\n        this.scrollX.value = true;\n        flexColumns.forEach(function (column) {\n          column.realWidth = Number(column.minWidth);\n        });\n      }\n\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n      this.table.state.resizeState.value.width = this.bodyWidth.value;\n    } else {\n      flattenColumns.forEach(column => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80;\n        } else {\n          column.realWidth = Number(column.width || column.minWidth);\n        }\n\n        bodyMinWidth += column.realWidth;\n      });\n      this.scrollX.value = bodyMinWidth > bodyWidth;\n      this.bodyWidth.value = bodyMinWidth;\n    }\n\n    const fixedColumns = this.store.states.fixedColumns.value;\n\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0;\n      fixedColumns.forEach(function (column) {\n        fixedWidth += Number(column.realWidth || column.width);\n      });\n      this.fixedWidth.value = fixedWidth;\n    }\n\n    const rightFixedColumns = this.store.states.rightFixedColumns.value;\n\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0;\n      rightFixedColumns.forEach(function (column) {\n        rightFixedWidth += Number(column.realWidth || column.width);\n      });\n      this.rightFixedWidth.value = rightFixedWidth;\n    }\n\n    this.notifyObservers(\"columns\");\n  }\n\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer);\n\n    if (index !== -1) {\n      this.observers.splice(index, 1);\n    }\n  }\n\n  notifyObservers(event) {\n    const observers = this.observers;\n    observers.forEach(observer => {\n      var _a, _b;\n\n      switch (event) {\n        case \"columns\":\n          (_a = observer.state) == null ? void 0 : _a.onColumnsChange(this);\n          break;\n\n        case \"scrollable\":\n          (_b = observer.state) == null ? void 0 : _b.onScrollableChange(this);\n          break;\n\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`);\n      }\n    });\n  }\n\n}\n\nvar TableLayout$1 = TableLayout;\nconst {\n  CheckboxGroup: ElCheckboxGroup\n} = ElCheckbox;\nvar script$1 = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: {\n    ClickOutside\n  },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n\n  setup(props) {\n    const instance = getCurrentInstance();\n    const {\n      t\n    } = useLocaleInject();\n    const parent = instance.parent;\n\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n\n    const tooltipVisible = ref(false);\n    const tooltip = ref(null);\n    const filters = computed(() => {\n      return props.column && props.column.filters;\n    });\n    const filterValue = computed({\n      get: () => (props.column.filteredValue || [])[0],\n      set: value => {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    const filteredValue = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n\n        return [];\n      },\n\n      set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n\n    });\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n\n      return true;\n    });\n\n    const isActive = filter => {\n      return filter.value === filterValue.value;\n    };\n\n    const hidden = () => {\n      tooltipVisible.value = false;\n    };\n\n    const showFilterPanel = e => {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false;\n    };\n\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    const handleReset = () => {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n\n    const handleSelect = _filterValue => {\n      filterValue.value = _filterValue;\n\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n\n      hidden();\n    };\n\n    const confirmFilter = filteredValue2 => {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n\n    watch(tooltipVisible, value => {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip,\n      Effect\n    };\n  }\n\n});\nconst _hoisted_1$1 = {\n  key: 0\n};\nconst _hoisted_2$1 = {\n  class: \"el-table-filter__content\"\n};\nconst _hoisted_3$1 = {\n  class: \"el-table-filter__bottom\"\n};\nconst _hoisted_4$1 = [\"disabled\"];\nconst _hoisted_5$1 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\nconst _hoisted_6$1 = [\"label\", \"onClick\"];\n\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n\n  const _component_el_popper = resolveComponent(\"el-popper\");\n\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[5] || (_cache[5] = $event => _ctx.tooltipVisible = $event),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: _ctx.Effect.LIGHT,\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(() => [_ctx.multiple ? (openBlock(), createElementBlock(\"div\", _hoisted_1$1, [createElementVNode(\"div\", _hoisted_2$1, [createVNode(_component_el_scrollbar, {\n      \"wrap-class\": \"el-table-filter__wrap\"\n    }, {\n      default: withCtx(() => [createVNode(_component_el_checkbox_group, {\n        modelValue: _ctx.filteredValue,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.filteredValue = $event),\n        class: \"el-table-filter__checkbox-group\"\n      }, {\n        default: withCtx(() => [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.filters, filter => {\n          return openBlock(), createBlock(_component_el_checkbox, {\n            key: filter.value,\n            label: filter.value\n          }, {\n            default: withCtx(() => [createTextVNode(toDisplayString(filter.text), 1)]),\n            _: 2\n          }, 1032, [\"label\"]);\n        }), 128))]),\n        _: 1\n      }, 8, [\"modelValue\"])]),\n      _: 1\n    })]), createElementVNode(\"div\", _hoisted_3$1, [createElementVNode(\"button\", {\n      class: normalizeClass({\n        \"is-disabled\": _ctx.filteredValue.length === 0\n      }),\n      disabled: _ctx.filteredValue.length === 0,\n      type: \"button\",\n      onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleConfirm && _ctx.handleConfirm(...args))\n    }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, _hoisted_4$1), createElementVNode(\"button\", {\n      type: \"button\",\n      onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleReset && _ctx.handleReset(...args))\n    }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)])])) : (openBlock(), createElementBlock(\"ul\", _hoisted_5$1, [createElementVNode(\"li\", {\n      class: normalizeClass([{\n        \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n      }, \"el-table-filter__list-item\"]),\n      onClick: _cache[3] || (_cache[3] = $event => _ctx.handleSelect(null))\n    }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.filters, filter => {\n      return openBlock(), createElementBlock(\"li\", {\n        key: filter.value,\n        class: normalizeClass([{\n          \"is-active\": _ctx.isActive(filter)\n        }, \"el-table-filter__list-item\"]),\n        label: filter.value,\n        onClick: $event => _ctx.handleSelect(filter.value)\n      }, toDisplayString(filter.text), 11, _hoisted_6$1);\n    }), 128))]))]),\n    trigger: withCtx(() => [withDirectives(createElementVNode(\"span\", {\n      class: \"el-table__column-filter-trigger el-none-outline\",\n      onClick: _cache[4] || (_cache[4] = (...args) => _ctx.showFilterPanel && _ctx.showFilterPanel(...args))\n    }, [createElementVNode(\"i\", {\n      class: normalizeClass([\"el-icon-arrow-down\", _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"])\n    }, null, 2)], 512), [[_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]])]),\n    _: 1\n  }, 8, [\"visible\", \"placement\", \"effect\"]);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/components/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance();\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance);\n  });\n  const tableLayout = computed(() => {\n    const layout = root.layout;\n\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n\n    return layout;\n  });\n\n  const onColumnsChange = layout => {\n    var _a;\n\n    const cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length) return;\n    const flattenColumns = layout.getFlattenColumns();\n    const columnsMap = {};\n    flattenColumns.forEach(column => {\n      columnsMap[column.id] = column;\n    });\n\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      const name = col.getAttribute(\"name\");\n      const column = columnsMap[name];\n\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n\n  const onScrollableChange = layout => {\n    const cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n\n    const ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i];\n      th.style.width = layout.scrollY.value ? `${layout.gutterWidth}px` : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\n\nfunction hColgroup(columns, hasGutter = false) {\n  return h(\"colgroup\", {}, [...columns.map(column => h(\"col\", {\n    name: column.id,\n    key: column.id\n  })), hasGutter && hGutter()]);\n}\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n\n  const handleFilterClick = event => {\n    event.stopPropagation();\n    return;\n  };\n\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n\n    parent.emit(\"header-click\", column, event);\n  };\n\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref({});\n\n  const handleMouseDown = (event, column) => {\n    if (isServer) return;\n    if (column.children && column.children.length > 0) return;\n\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table.vnode.el;\n      const tableLeft = tableEl.getBoundingClientRect().left;\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = `${dragState.value.startLeft}px`;\n\n      document.onselectstart = function () {\n        return false;\n      };\n\n      document.ondragstart = function () {\n        return false;\n      };\n\n      const handleMouseMove2 = event2 => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`;\n      };\n\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const {\n            startColumnLeft,\n            startLeft\n          } = dragState.value;\n          const finalLeft = parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function () {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0) return;\n    let target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (!column || !column.resizable) return;\n\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect();\n      const bodyStyle = document.body.style;\n\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n\n        draggingColumn.value = null;\n      }\n    }\n  };\n\n  const handleMouseOut = () => {\n    if (isServer) return;\n    document.body.style.cursor = \"\";\n  };\n\n  const toggleOrder = ({\n    order,\n    sortOrders\n  }) => {\n    if (order === \"\") return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    let target = event.target;\n\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n\n    if (!column.sortable) return;\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\n\nfunction useStyle$2(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const storeData = parent.store.states;\n\n  const isCellHidden = (index, columns) => {\n    let start = 0;\n\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n\n    const after = start + columns[index].colSpan - 1;\n\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  const getHeaderRowStyle = rowIndex => {\n    const headerRowStyle = parent.props.headerRowStyle;\n\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, {\n        rowIndex\n      });\n    }\n\n    return headerRowStyle;\n  };\n\n  const getHeaderRowClass = rowIndex => {\n    const classes = [];\n    const headerRowClassName = parent.props.headerRowClassName;\n\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, {\n        rowIndex\n      }));\n    }\n\n    return classes.join(\" \");\n  };\n\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle;\n\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n\n    return headerCellStyle;\n  };\n\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.order, column.headerAlign, column.className, column.labelClassName];\n\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n\n    const headerCellClassName = parent.props.headerCellClassName;\n\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n\n    classes.push(\"el-table__cell\");\n    return classes.join(\" \");\n  };\n\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\n\nconst getAllColumns = columns => {\n  const result = [];\n  columns.forEach(column => {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\n\nconst convertToRows = originColumns => {\n  let maxLevel = 1;\n\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1;\n\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n\n    if (column.children) {\n      let colSpan = 0;\n      column.children.forEach(subColumn => {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n\n  originColumns.forEach(column => {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  const rows = [];\n\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n\n  const allColumns = getAllColumns(originColumns);\n  allColumns.forEach(column => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\n\nfunction useUtils$1(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1;\n    if (result) parent.state.isGroup.value = true;\n    return result;\n  });\n\n  const toggleAllSelection = event => {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  };\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n\n  setup(props, {\n    emit\n  }) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const storeData = parent.store.states;\n    const filterPanels = ref({});\n    const {\n      tableLayout,\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        const {\n          prop,\n          order\n        } = props.defaultSort;\n        const init = true;\n        parent.store.commit(\"sort\", {\n          prop,\n          order,\n          init\n        });\n      });\n    });\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit);\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle$2(props);\n    const {\n      isGroup,\n      toggleAllSelection,\n      columnRows\n    } = useUtils$1(props);\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    };\n  },\n\n  render() {\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"thead\", {\n      class: {\n        \"is-group\": this.isGroup,\n        \"has-gutter\": this.hasGutter\n      }\n    }, this.columnRows.map((subColumns, rowIndex) => h(\"tr\", {\n      class: this.getHeaderRowClass(rowIndex),\n      key: rowIndex,\n      style: this.getHeaderRowStyle(rowIndex)\n    }, subColumns.map((column, cellIndex) => h(\"th\", {\n      class: this.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n      colspan: column.colSpan,\n      key: `${column.id}-thead`,\n      rowSpan: column.rowSpan,\n      style: this.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n      onClick: $event => this.handleHeaderClick($event, column),\n      onContextmenu: $event => this.handleHeaderContextMenu($event, column),\n      onMousedown: $event => this.handleMouseDown($event, column),\n      onMousemove: $event => this.handleMouseMove($event, column),\n      onMouseout: this.handleMouseOut\n    }, [h(\"div\", {\n      class: [\"cell\", column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\", column.labelClassName]\n    }, [column.renderHeader ? column.renderHeader({\n      column,\n      $index: cellIndex,\n      store: this.store,\n      _self: this.$parent\n    }) : column.label, column.sortable && h(\"span\", {\n      onClick: $event => this.handleSortClick($event, column),\n      class: \"caret-wrapper\"\n    }, [h(\"i\", {\n      onClick: $event => this.handleSortClick($event, column, \"ascending\"),\n      class: \"sort-caret ascending\"\n    }), h(\"i\", {\n      onClick: $event => this.handleSortClick($event, column, \"descending\"),\n      class: \"sort-caret descending\"\n    })]), column.filterable && h(script$1, {\n      store: this.$parent.store,\n      placement: column.filterPlacement || \"bottom-start\",\n      column,\n      upDataColumn: (key, value) => {\n        column[key] = value;\n      }\n    })])])))))]);\n  }\n\n});\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const tooltipContent = ref(\"\");\n  const tooltipTrigger = ref(h(\"div\"));\n\n  const handleEvent = (event, row, name) => {\n    const table = parent;\n    const cell = getCell(event);\n    let column;\n\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event);\n      }\n    }\n\n    table.emit(`row-${name}`, row, column, event);\n  };\n\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, \"dblclick\");\n  };\n\n  const handleClick = (event, row) => {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, \"contextmenu\");\n  };\n\n  const handleMouseEnter = debounce(function (index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  const handleMouseLeave = debounce(function () {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent;\n    const cell = getCell(event);\n\n    if (cell) {\n      const column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      const hoverState = table.hoverState = {\n        cell,\n        column,\n        row\n      };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n\n    const cellChild = event.target.querySelector(\".cell\");\n\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n\n    const range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    const rangeWidth = range.getBoundingClientRect().width;\n    const padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n\n  const handleCellMouseLeave = event => {\n    const cell = getCell(event);\n    if (!cell) return;\n    const oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n\n  const isColumnHidden = index => {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle;\n\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n\n    return rowStyle || null;\n  };\n\n  const getRowClass = (row, rowIndex) => {\n    const classes = [\"el-table__row\"];\n\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n\n    const rowClassName = parent.props.rowClassName;\n\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n\n    return classes;\n  };\n\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle;\n\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n\n    return cellStyle;\n  };\n\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className];\n\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n\n    const cellClassName = parent.props.cellClassName;\n\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n\n    classes.push(\"el-table__cell\");\n    return classes.join(\" \");\n  };\n\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent.props.spanMethod;\n\n    if (typeof fn === \"function\") {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (typeof result === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n\n    return {\n      rowspan,\n      colspan\n    };\n  };\n\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n\n    const widthArr = columns.map(({\n      realWidth,\n      width\n    }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols$1) for (var prop of __getOwnPropSymbols$1(b)) {\n    if (__propIsEnum$1.call(b, prop)) __defNormalProp$1(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\n\nfunction useRender$1(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  const firstDefaultColumnIndex = computed(() => {\n    return props.store.states.columns.value.findIndex(({\n      type\n    }) => type === \"default\");\n  });\n\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey;\n\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n\n    return index;\n  };\n\n  const rowRender = (row, $index, treeRowData) => {\n    const {\n      tooltipEffect,\n      store\n    } = props;\n    const {\n      indent,\n      columns\n    } = store.states;\n    const rowClasses = getRowClass(row, $index);\n    let display = true;\n\n    if (treeRowData) {\n      rowClasses.push(`el-table__row--level-${treeRowData.level}`);\n      display = treeRowData.display;\n    }\n\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: $event => handleDoubleClick($event, row),\n      onClick: $event => handleClick($event, row),\n      onContextmenu: $event => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const {\n        rowspan,\n        colspan\n      } = getSpan(row, column, $index, cellIndex);\n\n      if (!rowspan || !colspan) {\n        return null;\n      }\n\n      const columnData = __spreadValues$1({}, column);\n\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index\n      };\n\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n\n      const baseKey = `${$index},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: $event => handleCellMouseEnter($event, __spreadProps$1(__spreadValues$1({}, row), {\n          tooltipEffect\n        })),\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const {\n      isRowExpanded,\n      assertRowKey\n    } = store;\n    const {\n      treeData,\n      lazyTreeNodeMap,\n      childrenColumnName,\n      rowKey\n    } = store.states;\n    const hasExpandColumn = store.states.columns.value.some(({\n      type\n    }) => type === \"expand\");\n\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded;\n      const tr = rowRender(row, $index, void 0);\n\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n\n      return [[tr, h(\"tr\", {\n        key: `expanded-row__${tr.key}`\n      }, [h(\"td\", {\n        colspan: store.states.columns.value.length,\n        class: \"el-table__cell el-table__expanded-cell\"\n      }, [renderExpanded({\n        row,\n        $index,\n        store\n      })])])]];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n\n          treeRowData.loading = cur.loading;\n        }\n      }\n\n      const tmp = [rowRender(row, $index, treeRowData)];\n\n      if (cur) {\n        let i = 0;\n\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2)) return;\n          children.forEach(node => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"For nested data item, row-key is required.\");\n            }\n\n            cur = __spreadValues$1({}, treeData.value[childKey]);\n\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nconst defaultProps$2 = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\nvar defaultProps$3 = defaultProps$2;\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps$3,\n\n  setup(props) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const {\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    } = useRender$1(props);\n    const {\n      onColumnsChange,\n      onScrollableChange\n    } = useLayoutObserver(parent);\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || isServer) return;\n      let raf = window.requestAnimationFrame;\n\n      if (!raf) {\n        raf = fn => window.setTimeout(fn, 16);\n      }\n\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        const oldRow = rows[oldVal];\n        const newRow = rows[newVal];\n\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(() => {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(() => {\n      var _a;\n\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    };\n  },\n\n  render() {\n    const data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.store.states.columns.value), h(\"tbody\", {}, [data.reduce((acc, row) => {\n      return acc.concat(this.wrappedRowRender(row, acc.length));\n    }, [])])]);\n  }\n\n});\n\nfunction useMapState() {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length;\n  });\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length;\n  });\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState();\n  const hasGutter = computed(() => {\n    return !props.fixed && !table.layout.gutterWidth;\n  });\n\n  const isCellHidden = (index, columns2, column) => {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      let before = 0;\n\n      for (let i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName];\n\n    if (column.className) {\n      classes.push(column.className);\n    }\n\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n\n    return classes;\n  };\n\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n\n  setup(props) {\n    const {\n      hasGutter,\n      getRowClasses,\n      columns\n    } = useStyle$1(props);\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    };\n  },\n\n  render() {\n    let sums = [];\n\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText;\n          return;\n        }\n\n        const values = this.store.states.data.value.map(item => Number(item[column.property]));\n        const precisions = [];\n        let notNumber = true;\n        values.forEach(value => {\n          if (!isNaN(value)) {\n            notNumber = false;\n            const decimal = `${value}`.split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        const precision = Math.max.apply(null, precisions);\n\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [hColgroup(this.columns, this.hasGutter), h(\"tbody\", {\n      class: [{\n        \"has-gutter\": this.hasGutter\n      }]\n    }, [h(\"tr\", {}, [...this.columns.map((column, cellIndex) => h(\"td\", {\n      key: cellIndex,\n      colspan: column.colSpan,\n      rowspan: column.rowSpan,\n      class: [...this.getRowClasses(column, cellIndex), \"el-table__cell\"]\n    }, [h(\"div\", {\n      class: [\"cell\", column.labelClassName]\n    }, [sums[cellIndex]])])), this.hasGutter && hGutter()])])]);\n  }\n\n});\n\nfunction useUtils(store) {\n  const setCurrentRow = row => {\n    store.commit(\"setCurrentRow\", row);\n  };\n\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n\n  const clearSelection = () => {\n    store.clearSelection();\n  };\n\n  const clearFilter = columnKeys => {\n    store.clearFilter(columnKeys);\n  };\n\n  const toggleAllSelection = () => {\n    store.commit(\"toggleAllSelection\");\n  };\n\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n\n  const clearSort = () => {\n    store.clearSort();\n  };\n\n  const sort = (prop, order) => {\n    store.commit(\"sort\", {\n      prop,\n      order\n    });\n  };\n\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort\n  };\n}\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = value => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var rejected = value => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n\n    var step = x => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\nfunction useStyle(props, layout, store, table) {\n  const $ELEMENT = useGlobalConfig();\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n\n  const setDragVisible = visible => {\n    resizeProxyVisible.value = visible;\n  };\n\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey)) return;\n    store.setCurrentRowKey(`${currentRowKey}`);\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, data => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState) table.hoverState = null;\n  };\n\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const {\n      pixelX,\n      pixelY\n    } = data;\n\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n\n  onMounted(() => __async(this, null, function* () {\n    setScrollClass(\"is-scrolling-left\");\n    store.updateColumns();\n    yield nextTick();\n    bindEvents();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach(column => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  }));\n\n  const setScrollClassByEl = (el, className) => {\n    if (!el) return;\n    const classList = Array.from(el.classList).filter(item => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n\n  const setScrollClass = className => {\n    const {\n      bodyWrapper\n    } = table.refs;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n\n  const syncPostion = throttle(function () {\n    if (!table.refs.bodyWrapper) return;\n    const {\n      scrollLeft,\n      scrollTop,\n      offsetWidth,\n      scrollWidth\n    } = table.refs.bodyWrapper;\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs;\n    if (headerWrapper) headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper) footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper) fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper) rightFixedBodyWrapper.scrollTop = scrollTop;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n\n  const bindEvents = () => {\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    } else {\n      on(window, \"resize\", doLayout);\n    }\n  };\n\n  onUnmounted(() => {\n    unbindEvents();\n  });\n\n  const unbindEvents = () => {\n    var _a;\n\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    } else {\n      off(window, \"resize\", doLayout);\n    }\n  };\n\n  const resizeListener = () => {\n    if (!table.$ready) return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const {\n      width: oldWidth,\n      height: oldHeight\n    } = resizeState.value;\n    const width = el.offsetWidth;\n\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n\n    const height = el.offsetHeight;\n\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      };\n      doLayout();\n    }\n  };\n\n  const tableSize = computed(() => {\n    return props.size || $ELEMENT.size;\n  });\n  const bodyWidth = computed(() => {\n    const {\n      bodyWidth: bodyWidth_,\n      scrollY,\n      gutterWidth\n    } = layout;\n    return bodyWidth_.value ? `${bodyWidth_.value - (scrollY.value ? gutterWidth : 0)}px` : \"\";\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? `${bodyHeight2}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": `${maxHeight - footerHeight - (props.showHeader ? headerHeight : 0)}px`\n        };\n      }\n    }\n\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length) return null;\n    let height = \"100%\";\n\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n\n    return {\n      width: bodyWidth.value,\n      height\n    };\n  });\n\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n\n      return {\n        bottom: layout.scrollX.value && props.data.length ? `${layout.gutterWidth}px` : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? `${layout.tableHeight.value}px` : \"\"\n        };\n      }\n\n      return {\n        height: layout.viewportHeight.value ? `${layout.viewportHeight.value}px` : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? `${layout.fixedBodyHeight.value}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": `${maxHeight}px`\n        };\n      }\n    }\n\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: () => {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: () => {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: () => ({})\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\nlet tableIdSeed = 1;\nvar script = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\"select\", \"select-all\", \"selection-change\", \"cell-mouse-enter\", \"cell-mouse-leave\", \"cell-contextmenu\", \"cell-click\", \"cell-dblclick\", \"row-click\", \"row-contextmenu\", \"row-dblclick\", \"header-click\", \"header-contextmenu\", \"sort-change\", \"filter-change\", \"current-change\", \"header-dragend\", \"expand-change\"],\n\n  setup(props) {\n    const {\n      t\n    } = useLocaleInject();\n    const table = getCurrentInstance();\n    const store = createStore(table, props);\n    table.store = store;\n    const layout = new TableLayout$1({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0);\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort\n    } = useUtils(store);\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout\n    } = useStyle(props, layout, store, table);\n    const debouncedUpdateLayout = debounce(doLayout, 50);\n    const tableId = `el-table_${tableIdSeed++}`;\n    table.tableId = tableId;\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    };\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table\n    };\n  }\n\n});\nconst _hoisted_1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nconst _hoisted_3 = {\n  class: \"el-table__empty-text\"\n};\nconst _hoisted_4 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_table_header = resolveComponent(\"table-header\");\n\n  const _component_table_body = resolveComponent(\"table-body\");\n\n  const _component_table_footer = resolveComponent(\"table-footer\");\n\n  const _directive_mousewheel = resolveDirective(\"mousewheel\");\n\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([{\n      \"el-table--fit\": _ctx.fit,\n      \"el-table--striped\": _ctx.stripe,\n      \"el-table--border\": _ctx.border || _ctx.isGroup,\n      \"el-table--hidden\": _ctx.isHidden,\n      \"el-table--group\": _ctx.isGroup,\n      \"el-table--fluid-height\": _ctx.maxHeight,\n      \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n      \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n      \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n      \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n    }, _ctx.tableSize ? `el-table--${_ctx.tableSize}` : \"\", _ctx.className, \"el-table\"]),\n    style: normalizeStyle(_ctx.style),\n    onMouseleave: _cache[0] || (_cache[0] = $event => _ctx.handleMouseLeave())\n  }, [createElementVNode(\"div\", _hoisted_1, [renderSlot(_ctx.$slots, \"default\")], 512), _ctx.showHeader ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_2, [createVNode(_component_table_header, {\n    ref: \"tableHeader\",\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    }),\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])], 512)), [[_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    ref: \"bodyWrapper\",\n    style: normalizeStyle([_ctx.bodyHeight]),\n    class: \"el-table__body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    context: _ctx.context,\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    })\n  }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    ref: \"emptyBlock\",\n    style: normalizeStyle(_ctx.emptyBlockStyle),\n    class: \"el-table__empty-block\"\n  }, [createElementVNode(\"span\", _hoisted_3, [renderSlot(_ctx.$slots, \"empty\", {}, () => [createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)])])], 4)) : createCommentVNode(\"v-if\", true), _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [renderSlot(_ctx.$slots, \"append\")], 512)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_5, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    \"default-sort\": _ctx.defaultSort,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n    }),\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod\n  }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty], [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createElementBlock(\"div\", {\n    key: 2,\n    ref: \"fixedWrapper\",\n    style: normalizeStyle([{\n      width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n    }, _ctx.fixedHeight]),\n    class: \"el-table__fixed\"\n  }, [_ctx.showHeader ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [createVNode(_component_table_header, {\n    ref: \"fixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    fixed: \"left\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    ref: \"fixedBodyWrapper\",\n    style: normalizeStyle([{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight]),\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    fixed: \"left\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    style: normalizeStyle({\n      height: _ctx.layout.appendHeight.value + \"px\"\n    }),\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_7, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"left\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createElementBlock(\"div\", {\n    key: 3,\n    ref: \"rightFixedWrapper\",\n    style: normalizeStyle([{\n      width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n      right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n    }, _ctx.fixedHeight]),\n    class: \"el-table__fixed-right\"\n  }, [_ctx.showHeader ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [createVNode(_component_table_header, {\n    ref: \"rightFixedTableHeader\",\n    border: _ctx.border,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    fixed: \"right\",\n    onSetDragVisible: _ctx.setDragVisible\n  }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])], 512)) : createCommentVNode(\"v-if\", true), createElementVNode(\"div\", {\n    ref: \"rightFixedBodyWrapper\",\n    style: normalizeStyle([{\n      top: _ctx.layout.headerHeight.value + \"px\"\n    }, _ctx.fixedBodyHeight]),\n    class: \"el-table__fixed-body-wrapper\"\n  }, [createVNode(_component_table_body, {\n    highlight: _ctx.highlightCurrentRow,\n    \"row-class-name\": _ctx.rowClassName,\n    \"tooltip-effect\": _ctx.tooltipEffect,\n    \"row-style\": _ctx.rowStyle,\n    store: _ctx.store,\n    stripe: _ctx.stripe,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    fixed: \"right\"\n  }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]), _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    style: normalizeStyle({\n      height: _ctx.layout.appendHeight.value + \"px\"\n    }),\n    class: \"el-table__append-gutter\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true)], 4), _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_9, [createVNode(_component_table_footer, {\n    border: _ctx.border,\n    store: _ctx.store,\n    style: normalizeStyle({\n      width: _ctx.bodyWidth\n    }),\n    \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n    \"summary-method\": _ctx.summaryMethod,\n    fixed: \"right\"\n  }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])], 512)), [[vShow, !_ctx.isEmpty]]) : createCommentVNode(\"v-if\", true)], 4)), [[_directive_mousewheel, _ctx.handleFixedMousewheel]]) : createCommentVNode(\"v-if\", true), _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createElementBlock(\"div\", {\n    key: 4,\n    ref: \"rightFixedPatch\",\n    style: normalizeStyle({\n      width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n      height: _ctx.layout.headerHeight.value + \"px\"\n    }),\n    class: \"el-table__fixed-right-patch\"\n  }, null, 4)) : createCommentVNode(\"v-if\", true), withDirectives(createElementVNode(\"div\", _hoisted_10, null, 512), [[vShow, _ctx.resizeProxyVisible]])], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/table/src/table.vue\";\nconst cellStarts = {\n  default: {\n    order: \"\"\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\",\n    className: \"el-table-column--selection\"\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  }\n};\nconst cellForced = {\n  selection: {\n    renderHeader({\n      store\n    }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0;\n      }\n\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        indeterminate: store.states.selection.value.length > 0 && !store.states.isAllSelected.value,\n        \"onUpdate:modelValue\": store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value\n      });\n    },\n\n    renderCell({\n      row,\n      column,\n      store,\n      $index\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable ? !column.selectable.call(null, row, $index) : false,\n        onChange: () => {\n          store.commit(\"rowSelectedChanged\", row);\n        },\n        onClick: event => event.stopPropagation(),\n        modelValue: store.isSelected(row)\n      });\n    },\n\n    sortable: false,\n    resizable: false\n  },\n  index: {\n    renderHeader({\n      column\n    }) {\n      return column.label || \"#\";\n    },\n\n    renderCell({\n      column,\n      $index\n    }) {\n      let i = $index + 1;\n      const index = column.index;\n\n      if (typeof index === \"number\") {\n        i = $index + index;\n      } else if (typeof index === \"function\") {\n        i = index($index);\n      }\n\n      return h(\"div\", {}, [i]);\n    },\n\n    sortable: false\n  },\n  expand: {\n    renderHeader({\n      column\n    }) {\n      return column.label || \"\";\n    },\n\n    renderCell({\n      row,\n      store\n    }) {\n      const classes = [\"el-table__expand-icon\"];\n\n      if (store.states.expandRows.value.indexOf(row) > -1) {\n        classes.push(\"el-table__expand-icon--expanded\");\n      }\n\n      const callback = function (e) {\n        e.stopPropagation();\n        store.toggleRowExpansion(row);\n      };\n\n      return h(\"div\", {\n        class: classes,\n        onClick: callback\n      }, [h(\"i\", {\n        class: \"el-icon el-icon-arrow-right\"\n      })]);\n    },\n\n    sortable: false,\n    resizable: false,\n    className: \"el-table__expand-column\"\n  }\n};\n\nfunction defaultRenderCell({\n  row,\n  column,\n  $index\n}) {\n  var _a;\n\n  const property = column.property;\n  const value = property && getPropByPath(row, property, false).v;\n\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index);\n  }\n\n  return ((_a = value == null ? void 0 : value.toString) == null ? void 0 : _a.call(value)) || \"\";\n}\n\nfunction treeCellPrefix({\n  row,\n  treeNode,\n  store\n}) {\n  if (!treeNode) return null;\n  const ele = [];\n\n  const callback = function (e) {\n    e.stopPropagation();\n    store.loadOrToggle(row);\n  };\n\n  if (treeNode.indent) {\n    ele.push(h(\"span\", {\n      class: \"el-table__indent\",\n      style: {\n        \"padding-left\": `${treeNode.indent}px`\n      }\n    }));\n  }\n\n  if (typeof treeNode.expanded === \"boolean\" && !treeNode.noLazyChildren) {\n    const expandClasses = [\"el-table__expand-icon\", treeNode.expanded ? \"el-table__expand-icon--expanded\" : \"\"];\n    let iconClasses = [\"el-icon-arrow-right\"];\n\n    if (treeNode.loading) {\n      iconClasses = [\"el-icon-loading\"];\n    }\n\n    ele.push(h(\"div\", {\n      class: expandClasses,\n      onClick: callback\n    }, [h(\"i\", {\n      class: iconClasses\n    })]));\n  } else {\n    ele.push(h(\"span\", {\n      class: \"el-table__placeholder\"\n    }));\n  }\n\n  return ele;\n}\n\nfunction useWatcher(owner, props_) {\n  const instance = getCurrentInstance();\n\n  const registerComplexWatchers = () => {\n    const props = [\"fixed\"];\n    const aliases = {\n      realWidth: \"width\",\n      realMinWidth: \"minWidth\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach(key => {\n      const columnKey = aliases[key];\n\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], newVal => {\n          let value = newVal;\n\n          if (columnKey === \"width\" && key === \"realWidth\") {\n            value = parseWidth(newVal);\n          }\n\n          if (columnKey === \"minWidth\" && key === \"realMinWidth\") {\n            value = parseMinWidth(newVal);\n          }\n\n          instance.columnConfig.value[columnKey] = value;\n          instance.columnConfig.value[key] = value;\n          const updateColumns = columnKey === \"fixed\";\n          owner.value.store.scheduleLayout(updateColumns);\n        });\n      }\n    });\n  };\n\n  const registerNormalWatchers = () => {\n    const props = [\"label\", \"filters\", \"filterMultiple\", \"sortable\", \"index\", \"formatter\", \"className\", \"labelClassName\", \"showOverflowTooltip\"];\n    const aliases = {\n      property: \"prop\",\n      align: \"realAlign\",\n      headerAlign: \"realHeaderAlign\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach(key => {\n      const columnKey = aliases[key];\n\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], newVal => {\n          instance.columnConfig.value[key] = newVal;\n        });\n      }\n    });\n  };\n\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers\n  };\n}\n\nfunction useRender(props, slots, owner) {\n  const instance = getCurrentInstance();\n  const columnId = ref(\"\");\n  const isSubColumn = ref(false);\n  const realAlign = ref();\n  const realHeaderAlign = ref();\n  watchEffect(() => {\n    realAlign.value = props.align ? `is-${props.align}` : null;\n    realAlign.value;\n  });\n  watchEffect(() => {\n    realHeaderAlign.value = props.headerAlign ? `is-${props.headerAlign}` : realAlign.value;\n    realHeaderAlign.value;\n  });\n  const columnOrTableParent = computed(() => {\n    let parent = instance.vnode.vParent || instance.parent;\n\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent;\n    }\n\n    return parent;\n  });\n  const realWidth = ref(parseWidth(props.width));\n  const realMinWidth = ref(parseMinWidth(props.minWidth));\n\n  const setColumnWidth = column => {\n    if (realWidth.value) column.width = realWidth.value;\n\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value;\n    }\n\n    if (!column.minWidth) {\n      column.minWidth = 80;\n    }\n\n    column.realWidth = Number(column.width === void 0 ? column.minWidth : column.width);\n    return column;\n  };\n\n  const setColumnForcedProps = column => {\n    const type = column.type;\n    const source = cellForced[type] || {};\n    Object.keys(source).forEach(prop => {\n      const value = source[prop];\n\n      if (value !== void 0) {\n        column[prop] = prop === \"className\" ? `${column[prop]} ${value}` : value;\n      }\n    });\n    return column;\n  };\n\n  const checkSubColumn = children => {\n    if (children instanceof Array) {\n      children.forEach(child => check(child));\n    } else {\n      check(children);\n    }\n\n    function check(item) {\n      var _a;\n\n      if (((_a = item == null ? void 0 : item.type) == null ? void 0 : _a.name) === \"ElTableColumn\") {\n        item.vParent = instance;\n      }\n    }\n  };\n\n  const setColumnRenders = column => {\n    if (props.renderHeader) {\n      debugWarn(\"TableColumn\", \"Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.\");\n    } else if (column.type !== \"selection\") {\n      column.renderHeader = scope => {\n        instance.columnConfig.value[\"label\"];\n        const renderHeader = slots.header;\n        return renderHeader ? renderHeader(scope) : column.label;\n      };\n    }\n\n    let originRenderCell = column.renderCell;\n\n    if (column.type === \"expand\") {\n      column.renderCell = data => h(\"div\", {\n        class: \"cell\"\n      }, [originRenderCell(data)]);\n\n      owner.value.renderExpanded = data => {\n        return slots.default ? slots.default(data) : slots.default;\n      };\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell;\n\n      column.renderCell = data => {\n        let children = null;\n\n        if (slots.default) {\n          children = slots.default(data);\n        } else {\n          children = originRenderCell(data);\n        }\n\n        const prefix = treeCellPrefix(data);\n        const props2 = {\n          class: \"cell\",\n          style: {}\n        };\n\n        if (column.showOverflowTooltip) {\n          props2.class += \" el-tooltip\";\n          props2.style = {\n            width: `${(data.column.realWidth || Number(data.column.width)) - 1}px`\n          };\n        }\n\n        checkSubColumn(children);\n        return h(\"div\", props2, [prefix, children]);\n      };\n    }\n\n    return column;\n  };\n\n  const getPropsData = (...propsKey) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach(key => {\n          prev[key] = props[key];\n        });\n      }\n\n      return prev;\n    }, {});\n  };\n\n  const getColumnElIndex = (children, child) => {\n    return [].indexOf.call(children, child);\n  };\n\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex\n  };\n}\n\nvar defaultProps = {\n  type: {\n    type: String,\n    default: \"default\"\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: \"\"\n  },\n  minWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  renderHeader: Function,\n  sortable: {\n    type: [Boolean, String],\n    default: false\n  },\n  sortMethod: Function,\n  sortBy: [String, Function, Array],\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function,\n  selectable: Function,\n  reserveSelection: Boolean,\n  filterMethod: Function,\n  filteredValue: Array,\n  filters: Array,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true\n  },\n  index: [Number, Function],\n  sortOrders: {\n    type: Array,\n    default: () => {\n      return [\"ascending\", \"descending\", null];\n    },\n    validator: val => {\n      return val.every(order => [\"ascending\", \"descending\", null].indexOf(order) > -1);\n    }\n  }\n};\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nlet columnIdSeed = 1;\nvar ElTableColumn$1 = defineComponent({\n  name: \"ElTableColumn\",\n  components: {\n    ElCheckbox\n  },\n  props: defaultProps,\n\n  setup(props, {\n    slots\n  }) {\n    const instance = getCurrentInstance();\n    const columnConfig = ref({});\n    const owner = computed(() => {\n      let parent2 = instance.parent;\n\n      while (parent2 && !parent2.tableId) {\n        parent2 = parent2.parent;\n      }\n\n      return parent2;\n    });\n    const {\n      registerNormalWatchers,\n      registerComplexWatchers\n    } = useWatcher(owner, props);\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign\n    } = useRender(props, slots, owner);\n    const parent = columnOrTableParent.value;\n    columnId.value = `${parent.tableId || parent.columnId}_column_${columnIdSeed++}`;\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent;\n      const type = props.type || \"default\";\n      const sortable = props.sortable === \"\" ? true : props.sortable;\n\n      const defaults = __spreadProps(__spreadValues({}, cellStarts[type]), {\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip: props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: \"\",\n        isColumnGroup: false,\n        filterOpened: false,\n        sortable,\n        index: props.index,\n        rawColumnKey: instance.vnode.key\n      });\n\n      const basicProps = [\"columnKey\", \"label\", \"className\", \"labelClassName\", \"type\", \"renderHeader\", \"formatter\", \"fixed\", \"resizable\"];\n      const sortProps = [\"sortMethod\", \"sortBy\", \"sortOrders\"];\n      const selectProps = [\"selectable\", \"reserveSelection\"];\n      const filterProps = [\"filterMethod\", \"filters\", \"filterMultiple\", \"filterOpened\", \"filteredValue\", \"filterPlacement\"];\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps);\n      column = mergeOptions(defaults, column);\n      const chains = compose(setColumnRenders, setColumnWidth, setColumnForcedProps);\n      column = chains(column);\n      columnConfig.value = column;\n      registerNormalWatchers();\n      registerComplexWatchers();\n    });\n    onMounted(() => {\n      var _a;\n\n      const parent2 = columnOrTableParent.value;\n      const children = isSubColumn.value ? parent2.vnode.el.children : (_a = parent2.refs.hiddenColumns) == null ? void 0 : _a.children;\n\n      const getColumnIndex = () => getColumnElIndex(children || [], instance.vnode.el);\n\n      columnConfig.value.getColumnIndex = getColumnIndex;\n      const columnIndex = getColumnIndex();\n      columnIndex > -1 && owner.value.store.commit(\"insertColumn\", columnConfig.value, isSubColumn.value ? parent2.columnConfig.value : null);\n    });\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\"removeColumn\", columnConfig.value, isSubColumn.value ? parent.columnConfig.value : null);\n    });\n    instance.columnId = columnId.value;\n    instance.columnConfig = columnConfig;\n    return;\n  },\n\n  render() {\n    var _a, _b, _c;\n\n    let children = [];\n\n    try {\n      const renderDefault = (_b = (_a = this.$slots).default) == null ? void 0 : _b.call(_a, {\n        row: {},\n        column: {},\n        $index: -1\n      });\n\n      if (renderDefault instanceof Array) {\n        for (const childNode of renderDefault) {\n          if (((_c = childNode.type) == null ? void 0 : _c.name) === \"ElTableColumn\" || childNode.shapeFlag & 2) {\n            children.push(childNode);\n          } else if (childNode.type === Fragment && childNode.children instanceof Array) {\n            children.push(...childNode.children);\n          }\n        }\n      }\n    } catch (e) {\n      children = [];\n    }\n\n    return h(\"div\", children);\n  }\n\n});\nconst ElTable = withInstall(script, {\n  TableColumn: ElTableColumn$1\n});\nconst ElTableColumn = withNoopInstall(ElTableColumn$1);\nexport { ElTable, ElTableColumn, ElTable as default };","map":{"version":3,"names":["withInstall","withNoopInstall","getCurrentInstance","ref","unref","computed","watch","nextTick","isRef","defineComponent","resolveComponent","resolveDirective","openBlock","createBlock","withCtx","createElementBlock","createElementVNode","createVNode","Fragment","renderList","createTextVNode","toDisplayString","normalizeClass","withDirectives","onBeforeMount","onMounted","onUpdated","onUnmounted","h","watchEffect","normalizeStyle","renderSlot","createCommentVNode","vShow","onBeforeUnmount","debounce","ClickOutside","Mousewheel","useLocaleInject","hasOwn","createPopper","PopupManager","getValueByPath","useGlobalConfig","getPropByPath","off","on","addClass","hasClass","removeClass","getStyle","scrollbarWidth","isServer","ElCheckbox","ElPopper","Effect","ElScrollbar","throttle","removeResizeListener","addResizeListener","debugWarn","__defProp$5","Object","defineProperty","__getOwnPropSymbols$5","getOwnPropertySymbols","__hasOwnProp$5","prototype","hasOwnProperty","__propIsEnum$5","propertyIsEnumerable","__defNormalProp$5","obj","key","value","enumerable","configurable","writable","__spreadValues$5","a","b","prop","call","getCell","event","cell","target","tagName","toUpperCase","parentNode","isObject","orderBy","array","sortKey","reverse","sortMethod","sortBy","Array","isArray","length","getKey","index","map","by","$value","compare","i","len","sort","order","item","getColumnById","table","columnId","column","columns","forEach","id","getColumnByKey","columnKey","getColumnByCell","matches","className","match","getRowIdentity","row","rowKey","Error","indexOf","split","current","getKeysMap","arrayMap","mergeOptions","defaults","config","options","parseWidth","width","parseInt","isNaN","parseMinWidth","minWidth","parseHeight","height","test","compose","funcs","arg","reduce","args","toggleRowStatus","statusArr","newVal","changed","included","addRow","push","removeRow","splice","walkTreeNode","root","cb","childrenKey","lazyKey","isNil","_walker","parent","children","level","children2","removePopper","createTablePopper","trigger","popperContent","popperOptions","tooltipEffect","renderContent","isLight","content2","document","createElement","innerHTML","style","zIndex","String","nextZIndex","body","appendChild","renderArrow","arrow2","bottom","showPopper","popperInstance","update","removePopper2","destroy","content","removeChild","e","arrow","modifiers","name","offset","element","padding","useExpand","watcherData","instance","defaultExpandAll","expandRows","updateExpandRows","data","slice","expandRowsMap","prev","rowId","rowInfo","toggleRowExpansion","expanded","emit","store","scheduleLayout","setExpandRowKeys","rowKeys","assertRowKey","keysMap","cur","info","isRowExpanded","expandMap","states","useCurrent","_currentRowKey","currentRow","setCurrentRowKey","setCurrentRowByKey","restoreCurrentRowKey","_currentRow","find","updateCurrentRow","oldCurrentRow","updateCurrentRowData","currentRowKey","__defProp$4","__getOwnPropSymbols$4","__hasOwnProp$4","__propIsEnum$4","__defNormalProp$4","__spreadValues$4","useTree","expandRowKeys","treeData","indent","lazy","lazyTreeNodeMap","lazyColumnIdentifier","childrenColumnName","normalizedData","normalize","normalizedLazyNode","keys","res","parentId","updateTreeData","ifChangeExpandRowKeys","ifExpandAll","_a","_a2","nested","normalizedLazyNode_","newTreeData","oldTreeData","rootLazyRowKeys","getExpanded","oldValue","includes","newValue","loaded","loading","lazyKeys","lazyNodeChildren","updateTableScrollY","updateTreeExpandKeys","toggleTreeExpansion","oldExpanded","loadOrToggle","loadData","treeNode","load","props","__defProp$3","__getOwnPropSymbols$3","__hasOwnProp$3","__propIsEnum$3","__defNormalProp$3","__spreadValues$3","sortData","sortingColumn","sortable","sortProp","sortOrder","doFlattenColumns","result","apply","useWatcher$1","_data","isComplex","_columns","originColumns","fixedColumns","rightFixedColumns","leafColumns","fixedLeafColumns","rightFixedLeafColumns","leafColumnsLength","fixedLeafColumnsLength","rightFixedLeafColumnsLength","isAllSelected","selection","reserveSelection","selectOnIndeterminate","selectable","filters","filteredData","hoverRow","state","deep","updateColumns","filter","fixed","type","unshift","notFixedColumns","concat","leafColumns2","fixedLeafColumns2","rightFixedLeafColumns2","needUpdateColumns","immediate","doLayout","debouncedUpdateLayout","isSelected","clearSelection","oldSelection","cleanSelection","deleted","selectedMap","dataMap","newSelection","toggleRowSelection","selected","emitChange","_toggleAllSelection","_b","selectionChanged","childrenCount","rowKey2","rowIndex","getChildrenCount","updateSelectionByRowKey","updateAllSelected","_c","isSelected2","isAllSelected_","selectedCount","j","keyProp","isRowSelectable","count","childKey","updateFilters","columns2","values","filters_","col","updateSort","execFilter","sourceData","filterMethod","some","execSort","execQuery","ignore","clearFilter","columnKeys","tableHeader","fixedTableHeader","rightFixedTableHeader","refs","panels","assign","filterPanels","columns_","filteredValue","commit","silent","multi","clearSort","expandStates","treeStates","currentData","setExpandRowKeysAdapter","val","toggleRowExpansionAdapter","hasExpandColumn","toggleAllSelection","__defProp$2","__defProps$2","defineProperties","__getOwnPropDescs$2","getOwnPropertyDescriptors","__getOwnPropSymbols$2","__hasOwnProp$2","__propIsEnum$2","__defNormalProp$2","__spreadValues$2","__spreadProps$2","replaceColumn","sortColumn","no","getColumnIndex","pre","useStore","watcher","mutations","setData","dataInstanceChanged","$ready","insertColumn","newColumns","removeColumn","findIndex","init","column2","property","changeSortCondition","ingore","filterChange","_states","newFilters","rowSelectedChanged","setHoverRow","setCurrentRow","mutations2","layout","updateScrollY","InitialStateMap","default","createStore","handleValue","getArrKeysValue","proxyTableProps","propsKey","storeKey","keyList","TableLayout","constructor","observers","fit","showHeader","scrollX","scrollY","bodyWidth","fixedWidth","rightFixedWidth","tableHeight","headerHeight","appendHeight","footerHeight","viewportHeight","bodyHeight","fixedBodyHeight","gutterWidth","bodyWrapper","vnode","el","prevScrollY","querySelector","offsetHeight","setHeight","Number","updateElsHeight","setMaxHeight","getFlattenColumns","flattenColumns","isColumnGroup","headerWrapper","appendWrapper","footerWrapper","headerTrElm","noneHeader","headerDisplayNone","offsetWidth","clientHeight","notifyObservers","elm","headerChild","getComputedStyle","display","parentElement","updateColumnsWidth","clientWidth","bodyMinWidth","flexColumns","realWidth","scrollYWidth","totalFlexWidth","allColumnsWidth","flexWidthPerPixel","noneFirstWidth","flexWidth","Math","floor","max","resizeState","addObserver","observer","removeObserver","onColumnsChange","onScrollableChange","TableLayout$1","CheckboxGroup","ElCheckboxGroup","script$1","components","directives","placement","upDataColumn","Function","setup","t","tooltipVisible","tooltip","filterValue","get","set","multiple","filterMultiple","isActive","hidden","showFilterPanel","stopPropagation","hideFilterPanel","handleConfirm","confirmFilter","handleReset","handleSelect","_filterValue","filteredValue2","popperPaneRef","popperRef","_hoisted_1$1","_hoisted_2$1","class","_hoisted_3$1","_hoisted_4$1","_hoisted_5$1","_hoisted_6$1","render$1","_ctx","_cache","$props","$setup","$data","$options","_component_el_checkbox","_component_el_checkbox_group","_component_el_scrollbar","_component_el_popper","_directive_click_outside","visible","$event","effect","LIGHT","pure","modelValue","label","text","_","disabled","onClick","filterOpened","render","__file","useLayoutObserver","tableLayout","cols","querySelectorAll","columnsMap","getAttribute","setAttribute","ths","th","hGutter","hColgroup","hasGutter","useEvent","handleFilterClick","handleHeaderClick","handleSortClick","filterable","handleHeaderContextMenu","draggingColumn","dragging","dragState","handleMouseDown","border","tableEl","tableLeft","getBoundingClientRect","left","columnEl","columnRect","minLeft","startMouseLeft","clientX","startLeft","right","startColumnLeft","resizeProxy","onselectstart","ondragstart","handleMouseMove2","event2","deltaLeft","proxyLeft","handleMouseUp","finalLeft","columnWidth","cursor","removeEventListener","setTimeout","addEventListener","handleMouseMove","resizable","rect","bodyStyle","pageX","handleMouseOut","toggleOrder","sortOrders","givenOrder","useStyle$2","storeData","isCellHidden","start","colSpan","after","getHeaderRowStyle","headerRowStyle","getHeaderRowClass","classes","headerRowClassName","join","getHeaderCellStyle","columnIndex","headerCellStyle","getHeaderCellClass","headerAlign","labelClassName","headerCellClassName","getAllColumns","convertToRows","maxLevel","traverse","subColumn","rows","allColumns","rowSpan","useUtils$1","columnRows","isGroup","TableHeader","required","Boolean","defaultSort","cellpadding","cellspacing","subColumns","cellIndex","colspan","onContextmenu","onMousedown","onMousemove","onMouseout","renderHeader","$index","_self","$parent","filterPlacement","useEvents","tooltipContent","tooltipTrigger","handleEvent","handleDoubleClick","handleClick","handleContextMenu","handleMouseEnter","handleMouseLeave","handleCellMouseEnter","hoverState","cellChild","childNodes","range","createRange","setStart","setEnd","rangeWidth","scrollWidth","innerText","textContent","strategy","handleCellMouseLeave","oldHoverState","useStyles","isColumnHidden","getRowStyle","rowStyle","getRowClass","highlightCurrentRow","stripe","rowClassName","getCellStyle","cellStyle","getCellClass","align","cellClassName","getSpan","rowspan","fn","spanMethod","getColspanRealWidth","widthArr","acc","__defProp$1","__defProps$1","__getOwnPropDescs$1","__getOwnPropSymbols$1","__hasOwnProp$1","__propIsEnum$1","__defNormalProp$1","__spreadValues$1","__spreadProps$1","useRender$1","firstDefaultColumnIndex","getKeyOfRow","rowRender","treeRowData","rowClasses","displayStyle","onDblclick","onMouseenter","onMouseleave","columnData","context","noLazyChildren","baseKey","patchKey","rawColumnKey","renderCell","wrappedRowRender","renderExpanded","tr","console","error","tmp","parent2","node","innerTreeRowData","nodes2","nodes","defaultProps$2","highlight","defaultProps$3","TableBody","oldVal","raf","window","requestAnimationFrame","oldRow","newRow","useMapState","leftFixedLeafCount","rightFixedLeafCount","columnsCount","leftFixedCount","rightFixedCount","useStyle$1","before","getRowClasses","TableFooter","summaryMethod","sumText","sums","precisions","notNumber","decimal","precision","curr","parseFloat","toFixed","min","useUtils","__async","__this","__arguments","generator","Promise","resolve","reject","fulfilled","step","next","rejected","throw","x","done","then","useStyle","$ELEMENT","isHidden","resizeProxyVisible","setDragVisible","maxHeight","handleHeaderFooterMousewheel","pixelX","pixelY","abs","scrollLeft","shouldUpdateHeight","syncPostion","setScrollClass","bindEvents","setScrollClassByEl","classList","from","startsWith","scrollTop","fixedBodyWrapper","rightFixedBodyWrapper","maxScrollLeftPosition","passive","resizeListener","unbindEvents","shouldUpdateLayout","oldWidth","oldHeight","tableSize","size","bodyWidth_","bodyHeight2","emptyBlockStyle","handleFixedMousewheel","spinY","currentScrollTop","preventDefault","scrollHeight","ceil","fixedHeight","showSummary","defaultProps$1","emptyText","treeProps","hasChildren","tableIdSeed","script","emits","isEmpty","tableId","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_component_table_header","_component_table_body","_component_table_footer","_directive_mousewheel","$slots","onSetDragVisible","append","top","cellStarts","expand","cellForced","isDisabled","indeterminate","onChange","callback","defaultRenderCell","v","formatter","toString","treeCellPrefix","ele","expandClasses","iconClasses","useWatcher","owner","props_","registerComplexWatchers","aliases","realMinWidth","allAliases","columnConfig","registerNormalWatchers","useRender","slots","isSubColumn","realAlign","realHeaderAlign","columnOrTableParent","vParent","setColumnWidth","setColumnForcedProps","source","checkSubColumn","child","check","setColumnRenders","scope","header","originRenderCell","prefix","props2","showOverflowTooltip","getPropsData","getColumnElIndex","defaultProps","showTooltipWhenOverflow","validator","every","__defProp","__defProps","__getOwnPropDescs","__getOwnPropSymbols","__hasOwnProp","__propIsEnum","__defNormalProp","__spreadValues","__spreadProps","columnIdSeed","ElTableColumn$1","basicProps","sortProps","selectProps","filterProps","chains","hiddenColumns","renderDefault","childNode","shapeFlag","ElTable","TableColumn","ElTableColumn"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/components/table/index.js"],"sourcesContent":["import { withInstall, withNoopInstall } from 'element-plus/es/utils/with-install';\nimport { getCurrentInstance, ref, unref, computed, watch, nextTick, isRef, defineComponent, resolveComponent, resolveDirective, openBlock, createBlock, withCtx, createElementBlock, createElementVNode, createVNode, Fragment, renderList, createTextVNode, toDisplayString, normalizeClass, withDirectives, onBeforeMount, onMounted, onUpdated, onUnmounted, h, watchEffect, normalizeStyle, renderSlot, createCommentVNode, vShow, onBeforeUnmount } from 'vue';\nimport debounce from 'lodash/debounce';\nimport { ClickOutside, Mousewheel } from 'element-plus/es/directives';\nimport { useLocaleInject } from 'element-plus/es/hooks';\nimport { hasOwn } from '@vue/shared';\nimport { createPopper } from '@popperjs/core';\nimport PopupManager from 'element-plus/es/utils/popup-manager';\nimport { getValueByPath, useGlobalConfig, getPropByPath } from 'element-plus/es/utils/util';\nimport { off, on, addClass, hasClass, removeClass, getStyle } from 'element-plus/es/utils/dom';\nimport scrollbarWidth from 'element-plus/es/utils/scrollbar-width';\nimport isServer from 'element-plus/es/utils/isServer';\nimport ElCheckbox from 'element-plus/es/components/checkbox';\nimport ElPopper, { Effect } from 'element-plus/es/components/popper';\nimport ElScrollbar from 'element-plus/es/components/scrollbar';\nimport throttle from 'lodash/throttle';\nimport { removeResizeListener, addResizeListener } from 'element-plus/es/utils/resize-event';\nimport { debugWarn } from 'element-plus/es/utils/error';\n\nvar __defProp$5 = Object.defineProperty;\nvar __getOwnPropSymbols$5 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$5 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$5 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$5 = (obj, key, value) => key in obj ? __defProp$5(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$5 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$5.call(b, prop))\n      __defNormalProp$5(a, prop, b[prop]);\n  if (__getOwnPropSymbols$5)\n    for (var prop of __getOwnPropSymbols$5(b)) {\n      if (__propIsEnum$5.call(b, prop))\n        __defNormalProp$5(a, prop, b[prop]);\n    }\n  return a;\n};\nconst getCell = function(event) {\n  let cell = event.target;\n  while (cell && cell.tagName.toUpperCase() !== \"HTML\") {\n    if (cell.tagName.toUpperCase() === \"TD\") {\n      return cell;\n    }\n    cell = cell.parentNode;\n  }\n  return null;\n};\nconst isObject = function(obj) {\n  return obj !== null && typeof obj === \"object\";\n};\nconst orderBy = function(array, sortKey, reverse, sortMethod, sortBy) {\n  if (!sortKey && !sortMethod && (!sortBy || Array.isArray(sortBy) && !sortBy.length)) {\n    return array;\n  }\n  if (typeof reverse === \"string\") {\n    reverse = reverse === \"descending\" ? -1 : 1;\n  } else {\n    reverse = reverse && reverse < 0 ? -1 : 1;\n  }\n  const getKey = sortMethod ? null : function(value, index) {\n    if (sortBy) {\n      if (!Array.isArray(sortBy)) {\n        sortBy = [sortBy];\n      }\n      return sortBy.map(function(by) {\n        if (typeof by === \"string\") {\n          return getValueByPath(value, by);\n        } else {\n          return by(value, index, array);\n        }\n      });\n    }\n    if (sortKey !== \"$key\") {\n      if (isObject(value) && \"$value\" in value)\n        value = value.$value;\n    }\n    return [isObject(value) ? getValueByPath(value, sortKey) : value];\n  };\n  const compare = function(a, b) {\n    if (sortMethod) {\n      return sortMethod(a.value, b.value);\n    }\n    for (let i = 0, len = a.key.length; i < len; i++) {\n      if (a.key[i] < b.key[i]) {\n        return -1;\n      }\n      if (a.key[i] > b.key[i]) {\n        return 1;\n      }\n    }\n    return 0;\n  };\n  return array.map(function(value, index) {\n    return {\n      value,\n      index,\n      key: getKey ? getKey(value, index) : null\n    };\n  }).sort(function(a, b) {\n    let order = compare(a, b);\n    if (!order) {\n      order = a.index - b.index;\n    }\n    return order * +reverse;\n  }).map((item) => item.value);\n};\nconst getColumnById = function(table, columnId) {\n  let column = null;\n  table.columns.forEach(function(item) {\n    if (item.id === columnId) {\n      column = item;\n    }\n  });\n  return column;\n};\nconst getColumnByKey = function(table, columnKey) {\n  let column = null;\n  for (let i = 0; i < table.columns.length; i++) {\n    const item = table.columns[i];\n    if (item.columnKey === columnKey) {\n      column = item;\n      break;\n    }\n  }\n  return column;\n};\nconst getColumnByCell = function(table, cell) {\n  const matches = (cell.className || \"\").match(/el-table_[^\\s]+/gm);\n  if (matches) {\n    return getColumnById(table, matches[0]);\n  }\n  return null;\n};\nconst getRowIdentity = (row, rowKey) => {\n  if (!row)\n    throw new Error(\"Row is required when get row identity\");\n  if (typeof rowKey === \"string\") {\n    if (rowKey.indexOf(\".\") < 0) {\n      return `${row[rowKey]}`;\n    }\n    const key = rowKey.split(\".\");\n    let current = row;\n    for (let i = 0; i < key.length; i++) {\n      current = current[key[i]];\n    }\n    return `${current}`;\n  } else if (typeof rowKey === \"function\") {\n    return rowKey.call(null, row);\n  }\n};\nconst getKeysMap = function(array, rowKey) {\n  const arrayMap = {};\n  (array || []).forEach((row, index) => {\n    arrayMap[getRowIdentity(row, rowKey)] = { row, index };\n  });\n  return arrayMap;\n};\nfunction mergeOptions(defaults, config) {\n  const options = {};\n  let key;\n  for (key in defaults) {\n    options[key] = defaults[key];\n  }\n  for (key in config) {\n    if (hasOwn(config, key)) {\n      const value = config[key];\n      if (typeof value !== \"undefined\") {\n        options[key] = value;\n      }\n    }\n  }\n  return options;\n}\nfunction parseWidth(width) {\n  if (width !== void 0) {\n    width = parseInt(width, 10);\n    if (isNaN(width)) {\n      width = null;\n    }\n  }\n  return +width;\n}\nfunction parseMinWidth(minWidth) {\n  if (typeof minWidth !== \"undefined\") {\n    minWidth = parseWidth(minWidth);\n    if (isNaN(minWidth)) {\n      minWidth = 80;\n    }\n  }\n  return minWidth;\n}\nfunction parseHeight(height) {\n  if (typeof height === \"number\") {\n    return height;\n  }\n  if (typeof height === \"string\") {\n    if (/^\\d+(?:px)?$/.test(height)) {\n      return parseInt(height, 10);\n    } else {\n      return height;\n    }\n  }\n  return null;\n}\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) => arg;\n  }\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n  return funcs.reduce((a, b) => (...args) => a(b(...args)));\n}\nfunction toggleRowStatus(statusArr, row, newVal) {\n  let changed = false;\n  const index = statusArr.indexOf(row);\n  const included = index !== -1;\n  const addRow = () => {\n    statusArr.push(row);\n    changed = true;\n  };\n  const removeRow = () => {\n    statusArr.splice(index, 1);\n    changed = true;\n  };\n  if (typeof newVal === \"boolean\") {\n    if (newVal && !included) {\n      addRow();\n    } else if (!newVal && included) {\n      removeRow();\n    }\n  } else {\n    if (included) {\n      removeRow();\n    } else {\n      addRow();\n    }\n  }\n  return changed;\n}\nfunction walkTreeNode(root, cb, childrenKey = \"children\", lazyKey = \"hasChildren\") {\n  const isNil = (array) => !(Array.isArray(array) && array.length);\n  function _walker(parent, children, level) {\n    cb(parent, children, level);\n    children.forEach((item) => {\n      if (item[lazyKey]) {\n        cb(item, null, level + 1);\n        return;\n      }\n      const children2 = item[childrenKey];\n      if (!isNil(children2)) {\n        _walker(item, children2, level + 1);\n      }\n    });\n  }\n  root.forEach((item) => {\n    if (item[lazyKey]) {\n      cb(item, null, 0);\n      return;\n    }\n    const children = item[childrenKey];\n    if (!isNil(children)) {\n      _walker(item, children, 0);\n    }\n  });\n}\nlet removePopper;\nfunction createTablePopper(trigger, popperContent, popperOptions, tooltipEffect) {\n  function renderContent() {\n    const isLight = tooltipEffect === \"light\";\n    const content2 = document.createElement(\"div\");\n    content2.className = `el-popper ${isLight ? \"is-light\" : \"is-dark\"}`;\n    content2.innerHTML = popperContent;\n    content2.style.zIndex = String(PopupManager.nextZIndex());\n    document.body.appendChild(content2);\n    return content2;\n  }\n  function renderArrow() {\n    const arrow2 = document.createElement(\"div\");\n    arrow2.className = \"el-popper__arrow\";\n    arrow2.style.bottom = \"-4px\";\n    return arrow2;\n  }\n  function showPopper() {\n    popperInstance && popperInstance.update();\n  }\n  removePopper = function removePopper2() {\n    try {\n      popperInstance && popperInstance.destroy();\n      content && document.body.removeChild(content);\n      off(trigger, \"mouseenter\", showPopper);\n      off(trigger, \"mouseleave\", removePopper2);\n    } catch (e) {\n    }\n  };\n  let popperInstance = null;\n  const content = renderContent();\n  const arrow = renderArrow();\n  content.appendChild(arrow);\n  popperInstance = createPopper(trigger, content, __spreadValues$5({\n    modifiers: [\n      {\n        name: \"offset\",\n        options: {\n          offset: [0, 8]\n        }\n      },\n      {\n        name: \"arrow\",\n        options: {\n          element: arrow,\n          padding: 10\n        }\n      }\n    ]\n  }, popperOptions));\n  on(trigger, \"mouseenter\", showPopper);\n  on(trigger, \"mouseleave\", removePopper);\n  return popperInstance;\n}\n\nfunction useExpand(watcherData) {\n  const instance = getCurrentInstance();\n  const defaultExpandAll = ref(false);\n  const expandRows = ref([]);\n  const updateExpandRows = () => {\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    if (defaultExpandAll.value) {\n      expandRows.value = data.slice();\n    } else if (rowKey) {\n      const expandRowsMap = getKeysMap(expandRows.value, rowKey);\n      expandRows.value = data.reduce((prev, row) => {\n        const rowId = getRowIdentity(row, rowKey);\n        const rowInfo = expandRowsMap[rowId];\n        if (rowInfo) {\n          prev.push(row);\n        }\n        return prev;\n      }, []);\n    } else {\n      expandRows.value = [];\n    }\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    const changed = toggleRowStatus(expandRows.value, row, expanded);\n    if (changed) {\n      instance.emit(\"expand-change\", row, expandRows.value.slice());\n      instance.store.scheduleLayout();\n    }\n  };\n  const setExpandRowKeys = (rowKeys) => {\n    instance.store.assertRowKey();\n    const data = watcherData.data.value || [];\n    const rowKey = watcherData.rowKey.value;\n    const keysMap = getKeysMap(data, rowKey);\n    expandRows.value = rowKeys.reduce((prev, cur) => {\n      const info = keysMap[cur];\n      if (info) {\n        prev.push(info.row);\n      }\n      return prev;\n    }, []);\n  };\n  const isRowExpanded = (row) => {\n    const rowKey = watcherData.rowKey.value;\n    if (rowKey) {\n      const expandMap = getKeysMap(expandRows.value, rowKey);\n      return !!expandMap[getRowIdentity(row, rowKey)];\n    }\n    return expandRows.value.indexOf(row) !== -1;\n  };\n  return {\n    updateExpandRows,\n    toggleRowExpansion,\n    setExpandRowKeys,\n    isRowExpanded,\n    states: {\n      expandRows,\n      defaultExpandAll\n    }\n  };\n}\n\nfunction useCurrent(watcherData) {\n  const instance = getCurrentInstance();\n  const _currentRowKey = ref(null);\n  const currentRow = ref(null);\n  const setCurrentRowKey = (key) => {\n    instance.store.assertRowKey();\n    _currentRowKey.value = key;\n    setCurrentRowByKey(key);\n  };\n  const restoreCurrentRowKey = () => {\n    _currentRowKey.value = null;\n  };\n  const setCurrentRowByKey = (key) => {\n    const { data, rowKey } = watcherData;\n    let _currentRow = null;\n    if (rowKey.value) {\n      _currentRow = (unref(data) || []).find((item) => getRowIdentity(item, rowKey.value) === key);\n    }\n    currentRow.value = _currentRow;\n  };\n  const updateCurrentRow = (_currentRow) => {\n    const oldCurrentRow = currentRow.value;\n    if (_currentRow && _currentRow !== oldCurrentRow) {\n      currentRow.value = _currentRow;\n      instance.emit(\"current-change\", currentRow.value, oldCurrentRow);\n      return;\n    }\n    if (!_currentRow && oldCurrentRow) {\n      currentRow.value = null;\n      instance.emit(\"current-change\", null, oldCurrentRow);\n    }\n  };\n  const updateCurrentRowData = () => {\n    const rowKey = watcherData.rowKey.value;\n    const data = watcherData.data.value || [];\n    const oldCurrentRow = currentRow.value;\n    if (data.indexOf(oldCurrentRow) === -1 && oldCurrentRow) {\n      if (rowKey) {\n        const currentRowKey = getRowIdentity(oldCurrentRow, rowKey);\n        setCurrentRowByKey(currentRowKey);\n      } else {\n        currentRow.value = null;\n      }\n      if (currentRow.value === null) {\n        instance.emit(\"current-change\", null, oldCurrentRow);\n      }\n    } else if (_currentRowKey.value) {\n      setCurrentRowByKey(_currentRowKey.value);\n      restoreCurrentRowKey();\n    }\n  };\n  return {\n    setCurrentRowKey,\n    restoreCurrentRowKey,\n    setCurrentRowByKey,\n    updateCurrentRow,\n    updateCurrentRowData,\n    states: {\n      _currentRowKey,\n      currentRow\n    }\n  };\n}\n\nvar __defProp$4 = Object.defineProperty;\nvar __getOwnPropSymbols$4 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$4 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$4 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$4 = (obj, key, value) => key in obj ? __defProp$4(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$4 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$4.call(b, prop))\n      __defNormalProp$4(a, prop, b[prop]);\n  if (__getOwnPropSymbols$4)\n    for (var prop of __getOwnPropSymbols$4(b)) {\n      if (__propIsEnum$4.call(b, prop))\n        __defNormalProp$4(a, prop, b[prop]);\n    }\n  return a;\n};\nfunction useTree(watcherData) {\n  const expandRowKeys = ref([]);\n  const treeData = ref({});\n  const indent = ref(16);\n  const lazy = ref(false);\n  const lazyTreeNodeMap = ref({});\n  const lazyColumnIdentifier = ref(\"hasChildren\");\n  const childrenColumnName = ref(\"children\");\n  const instance = getCurrentInstance();\n  const normalizedData = computed(() => {\n    if (!watcherData.rowKey.value)\n      return {};\n    const data = watcherData.data.value || [];\n    return normalize(data);\n  });\n  const normalizedLazyNode = computed(() => {\n    const rowKey = watcherData.rowKey.value;\n    const keys = Object.keys(lazyTreeNodeMap.value);\n    const res = {};\n    if (!keys.length)\n      return res;\n    keys.forEach((key) => {\n      if (lazyTreeNodeMap.value[key].length) {\n        const item = { children: [] };\n        lazyTreeNodeMap.value[key].forEach((row) => {\n          const currentRowKey = getRowIdentity(row, rowKey);\n          item.children.push(currentRowKey);\n          if (row[lazyColumnIdentifier.value] && !res[currentRowKey]) {\n            res[currentRowKey] = { children: [] };\n          }\n        });\n        res[key] = item;\n      }\n    });\n    return res;\n  });\n  const normalize = (data) => {\n    const rowKey = watcherData.rowKey.value;\n    const res = {};\n    walkTreeNode(data, (parent, children, level) => {\n      const parentId = getRowIdentity(parent, rowKey);\n      if (Array.isArray(children)) {\n        res[parentId] = {\n          children: children.map((row) => getRowIdentity(row, rowKey)),\n          level\n        };\n      } else if (lazy.value) {\n        res[parentId] = {\n          children: [],\n          lazy: true,\n          level\n        };\n      }\n    }, childrenColumnName.value, lazyColumnIdentifier.value);\n    return res;\n  };\n  const updateTreeData = (ifChangeExpandRowKeys = false, ifExpandAll = ((_a) => (_a = instance.store) == null ? void 0 : _a.states.defaultExpandAll.value)()) => {\n    var _a2;\n    const nested = normalizedData.value;\n    const normalizedLazyNode_ = normalizedLazyNode.value;\n    const keys = Object.keys(nested);\n    const newTreeData = {};\n    if (keys.length) {\n      const oldTreeData = unref(treeData);\n      const rootLazyRowKeys = [];\n      const getExpanded = (oldValue, key) => {\n        if (ifChangeExpandRowKeys) {\n          if (expandRowKeys.value) {\n            return ifExpandAll || expandRowKeys.value.includes(key);\n          } else {\n            return !!(ifExpandAll || (oldValue == null ? void 0 : oldValue.expanded));\n          }\n        } else {\n          const included = ifExpandAll || expandRowKeys.value && expandRowKeys.value.includes(key);\n          return !!((oldValue == null ? void 0 : oldValue.expanded) || included);\n        }\n      };\n      keys.forEach((key) => {\n        const oldValue = oldTreeData[key];\n        const newValue = __spreadValues$4({}, nested[key]);\n        newValue.expanded = getExpanded(oldValue, key);\n        if (newValue.lazy) {\n          const { loaded = false, loading = false } = oldValue || {};\n          newValue.loaded = !!loaded;\n          newValue.loading = !!loading;\n          rootLazyRowKeys.push(key);\n        }\n        newTreeData[key] = newValue;\n      });\n      const lazyKeys = Object.keys(normalizedLazyNode_);\n      if (lazy.value && lazyKeys.length && rootLazyRowKeys.length) {\n        lazyKeys.forEach((key) => {\n          const oldValue = oldTreeData[key];\n          const lazyNodeChildren = normalizedLazyNode_[key].children;\n          if (rootLazyRowKeys.indexOf(key) !== -1) {\n            if (newTreeData[key].children.length !== 0) {\n              throw new Error(\"[ElTable]children must be an empty array.\");\n            }\n            newTreeData[key].children = lazyNodeChildren;\n          } else {\n            const { loaded = false, loading = false } = oldValue || {};\n            newTreeData[key] = {\n              lazy: true,\n              loaded: !!loaded,\n              loading: !!loading,\n              expanded: getExpanded(oldValue, key),\n              children: lazyNodeChildren,\n              level: \"\"\n            };\n          }\n        });\n      }\n    }\n    treeData.value = newTreeData;\n    (_a2 = instance.store) == null ? void 0 : _a2.updateTableScrollY();\n  };\n  watch(() => expandRowKeys.value, () => {\n    updateTreeData(true);\n  });\n  watch(() => normalizedData.value, () => {\n    updateTreeData();\n  });\n  watch(() => normalizedLazyNode.value, () => {\n    updateTreeData();\n  });\n  const updateTreeExpandKeys = (value) => {\n    expandRowKeys.value = value;\n    updateTreeData();\n  };\n  const toggleTreeExpansion = (row, expanded) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = id && treeData.value[id];\n    if (id && data && \"expanded\" in data) {\n      const oldExpanded = data.expanded;\n      expanded = typeof expanded === \"undefined\" ? !data.expanded : expanded;\n      treeData.value[id].expanded = expanded;\n      if (oldExpanded !== expanded) {\n        instance.emit(\"expand-change\", row, expanded);\n      }\n      instance.store.updateTableScrollY();\n    }\n  };\n  const loadOrToggle = (row) => {\n    instance.store.assertRowKey();\n    const rowKey = watcherData.rowKey.value;\n    const id = getRowIdentity(row, rowKey);\n    const data = treeData.value[id];\n    if (lazy.value && data && \"loaded\" in data && !data.loaded) {\n      loadData(row, id, data);\n    } else {\n      toggleTreeExpansion(row, void 0);\n    }\n  };\n  const loadData = (row, key, treeNode) => {\n    const { load } = instance.props;\n    if (load && !treeData.value[key].loaded) {\n      treeData.value[key].loading = true;\n      load(row, treeNode, (data) => {\n        if (!Array.isArray(data)) {\n          throw new Error(\"[ElTable] data must be an array\");\n        }\n        treeData.value[key].loading = false;\n        treeData.value[key].loaded = true;\n        treeData.value[key].expanded = true;\n        if (data.length) {\n          lazyTreeNodeMap.value[key] = data;\n        }\n        instance.emit(\"expand-change\", row, true);\n      });\n    }\n  };\n  return {\n    loadData,\n    loadOrToggle,\n    toggleTreeExpansion,\n    updateTreeExpandKeys,\n    updateTreeData,\n    normalize,\n    states: {\n      expandRowKeys,\n      treeData,\n      indent,\n      lazy,\n      lazyTreeNodeMap,\n      lazyColumnIdentifier,\n      childrenColumnName\n    }\n  };\n}\n\nvar __defProp$3 = Object.defineProperty;\nvar __getOwnPropSymbols$3 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$3 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$3 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$3 = (obj, key, value) => key in obj ? __defProp$3(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$3 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$3.call(b, prop))\n      __defNormalProp$3(a, prop, b[prop]);\n  if (__getOwnPropSymbols$3)\n    for (var prop of __getOwnPropSymbols$3(b)) {\n      if (__propIsEnum$3.call(b, prop))\n        __defNormalProp$3(a, prop, b[prop]);\n    }\n  return a;\n};\nconst sortData = (data, states) => {\n  const sortingColumn = states.sortingColumn;\n  if (!sortingColumn || typeof sortingColumn.sortable === \"string\") {\n    return data;\n  }\n  return orderBy(data, states.sortProp, states.sortOrder, sortingColumn.sortMethod, sortingColumn.sortBy);\n};\nconst doFlattenColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push.apply(result, doFlattenColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nfunction useWatcher$1() {\n  const instance = getCurrentInstance();\n  const rowKey = ref(null);\n  const data = ref([]);\n  const _data = ref([]);\n  const isComplex = ref(false);\n  const _columns = ref([]);\n  const originColumns = ref([]);\n  const columns = ref([]);\n  const fixedColumns = ref([]);\n  const rightFixedColumns = ref([]);\n  const leafColumns = ref([]);\n  const fixedLeafColumns = ref([]);\n  const rightFixedLeafColumns = ref([]);\n  const leafColumnsLength = ref(0);\n  const fixedLeafColumnsLength = ref(0);\n  const rightFixedLeafColumnsLength = ref(0);\n  const isAllSelected = ref(false);\n  const selection = ref([]);\n  const reserveSelection = ref(false);\n  const selectOnIndeterminate = ref(false);\n  const selectable = ref(null);\n  const filters = ref({});\n  const filteredData = ref(null);\n  const sortingColumn = ref(null);\n  const sortProp = ref(null);\n  const sortOrder = ref(null);\n  const hoverRow = ref(null);\n  watch(data, () => instance.state && scheduleLayout(false), {\n    deep: true\n  });\n  const assertRowKey = () => {\n    if (!rowKey.value)\n      throw new Error(\"[ElTable] prop row-key is required\");\n  };\n  const updateColumns = () => {\n    fixedColumns.value = _columns.value.filter((column) => column.fixed === true || column.fixed === \"left\");\n    rightFixedColumns.value = _columns.value.filter((column) => column.fixed === \"right\");\n    if (fixedColumns.value.length > 0 && _columns.value[0] && _columns.value[0].type === \"selection\" && !_columns.value[0].fixed) {\n      _columns.value[0].fixed = true;\n      fixedColumns.value.unshift(_columns.value[0]);\n    }\n    const notFixedColumns = _columns.value.filter((column) => !column.fixed);\n    originColumns.value = [].concat(fixedColumns.value).concat(notFixedColumns).concat(rightFixedColumns.value);\n    const leafColumns2 = doFlattenColumns(notFixedColumns);\n    const fixedLeafColumns2 = doFlattenColumns(fixedColumns.value);\n    const rightFixedLeafColumns2 = doFlattenColumns(rightFixedColumns.value);\n    leafColumnsLength.value = leafColumns2.length;\n    fixedLeafColumnsLength.value = fixedLeafColumns2.length;\n    rightFixedLeafColumnsLength.value = rightFixedLeafColumns2.length;\n    columns.value = [].concat(fixedLeafColumns2).concat(leafColumns2).concat(rightFixedLeafColumns2);\n    isComplex.value = fixedColumns.value.length > 0 || rightFixedColumns.value.length > 0;\n  };\n  const scheduleLayout = (needUpdateColumns, immediate = false) => {\n    if (needUpdateColumns) {\n      updateColumns();\n    }\n    if (immediate) {\n      instance.state.doLayout();\n    } else {\n      instance.state.debouncedUpdateLayout();\n    }\n  };\n  const isSelected = (row) => {\n    return selection.value.indexOf(row) > -1;\n  };\n  const clearSelection = () => {\n    isAllSelected.value = false;\n    const oldSelection = selection.value;\n    if (oldSelection.length) {\n      selection.value = [];\n      instance.emit(\"selection-change\", []);\n    }\n  };\n  const cleanSelection = () => {\n    let deleted;\n    if (rowKey.value) {\n      deleted = [];\n      const selectedMap = getKeysMap(selection.value, rowKey.value);\n      const dataMap = getKeysMap(data.value, rowKey.value);\n      for (const key in selectedMap) {\n        if (hasOwn(selectedMap, key) && !dataMap[key]) {\n          deleted.push(selectedMap[key].row);\n        }\n      }\n    } else {\n      deleted = selection.value.filter((item) => data.value.indexOf(item) === -1);\n    }\n    if (deleted.length) {\n      const newSelection = selection.value.filter((item) => deleted.indexOf(item) === -1);\n      selection.value = newSelection;\n      instance.emit(\"selection-change\", newSelection.slice());\n    }\n  };\n  const toggleRowSelection = (row, selected = void 0, emitChange = true) => {\n    const changed = toggleRowStatus(selection.value, row, selected);\n    if (changed) {\n      const newSelection = (selection.value || []).slice();\n      if (emitChange) {\n        instance.emit(\"select\", newSelection, row);\n      }\n      instance.emit(\"selection-change\", newSelection);\n    }\n  };\n  const _toggleAllSelection = () => {\n    var _a, _b;\n    const value = selectOnIndeterminate.value ? !isAllSelected.value : !(isAllSelected.value || selection.value.length);\n    isAllSelected.value = value;\n    let selectionChanged = false;\n    let childrenCount = 0;\n    const rowKey2 = (_b = (_a = instance == null ? void 0 : instance.store) == null ? void 0 : _a.states) == null ? void 0 : _b.rowKey.value;\n    data.value.forEach((row, index) => {\n      const rowIndex = index + childrenCount;\n      if (selectable.value) {\n        if (selectable.value.call(null, row, rowIndex) && toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      } else {\n        if (toggleRowStatus(selection.value, row, value)) {\n          selectionChanged = true;\n        }\n      }\n      childrenCount += getChildrenCount(getRowIdentity(row, rowKey2));\n    });\n    if (selectionChanged) {\n      instance.emit(\"selection-change\", selection.value ? selection.value.slice() : []);\n    }\n    instance.emit(\"select-all\", selection.value);\n  };\n  const updateSelectionByRowKey = () => {\n    const selectedMap = getKeysMap(selection.value, rowKey.value);\n    data.value.forEach((row) => {\n      const rowId = getRowIdentity(row, rowKey.value);\n      const rowInfo = selectedMap[rowId];\n      if (rowInfo) {\n        selection.value[rowInfo.index] = row;\n      }\n    });\n  };\n  const updateAllSelected = () => {\n    var _a, _b, _c;\n    if (((_a = data.value) == null ? void 0 : _a.length) === 0) {\n      isAllSelected.value = false;\n      return;\n    }\n    let selectedMap;\n    if (rowKey.value) {\n      selectedMap = getKeysMap(selection.value, rowKey.value);\n    }\n    const isSelected2 = function(row) {\n      if (selectedMap) {\n        return !!selectedMap[getRowIdentity(row, rowKey.value)];\n      } else {\n        return selection.value.indexOf(row) !== -1;\n      }\n    };\n    let isAllSelected_ = true;\n    let selectedCount = 0;\n    let childrenCount = 0;\n    for (let i = 0, j = (data.value || []).length; i < j; i++) {\n      const keyProp = (_c = (_b = instance == null ? void 0 : instance.store) == null ? void 0 : _b.states) == null ? void 0 : _c.rowKey.value;\n      const rowIndex = i + childrenCount;\n      const item = data.value[i];\n      const isRowSelectable = selectable.value && selectable.value.call(null, item, rowIndex);\n      if (!isSelected2(item)) {\n        if (!selectable.value || isRowSelectable) {\n          isAllSelected_ = false;\n          break;\n        }\n      } else {\n        selectedCount++;\n      }\n      childrenCount += getChildrenCount(getRowIdentity(item, keyProp));\n    }\n    if (selectedCount === 0)\n      isAllSelected_ = false;\n    isAllSelected.value = isAllSelected_;\n  };\n  const getChildrenCount = (rowKey2) => {\n    var _a;\n    if (!instance || !instance.store)\n      return 0;\n    const { treeData } = instance.store.states;\n    let count = 0;\n    const children = (_a = treeData.value[rowKey2]) == null ? void 0 : _a.children;\n    if (children) {\n      count += children.length;\n      children.forEach((childKey) => {\n        count += getChildrenCount(childKey);\n      });\n    }\n    return count;\n  };\n  const updateFilters = (columns2, values) => {\n    if (!Array.isArray(columns2)) {\n      columns2 = [columns2];\n    }\n    const filters_ = {};\n    columns2.forEach((col) => {\n      filters.value[col.id] = values;\n      filters_[col.columnKey || col.id] = values;\n    });\n    return filters_;\n  };\n  const updateSort = (column, prop, order) => {\n    if (sortingColumn.value && sortingColumn.value !== column) {\n      sortingColumn.value.order = null;\n    }\n    sortingColumn.value = column;\n    sortProp.value = prop;\n    sortOrder.value = order;\n  };\n  const execFilter = () => {\n    let sourceData = unref(_data);\n    Object.keys(filters.value).forEach((columnId) => {\n      const values = filters.value[columnId];\n      if (!values || values.length === 0)\n        return;\n      const column = getColumnById({\n        columns: columns.value\n      }, columnId);\n      if (column && column.filterMethod) {\n        sourceData = sourceData.filter((row) => {\n          return values.some((value) => column.filterMethod.call(null, value, row, column));\n        });\n      }\n    });\n    filteredData.value = sourceData;\n  };\n  const execSort = () => {\n    data.value = sortData(filteredData.value, {\n      sortingColumn: sortingColumn.value,\n      sortProp: sortProp.value,\n      sortOrder: sortOrder.value\n    });\n  };\n  const execQuery = (ignore = void 0) => {\n    if (!(ignore && ignore.filter)) {\n      execFilter();\n    }\n    execSort();\n  };\n  const clearFilter = (columnKeys) => {\n    const { tableHeader, fixedTableHeader, rightFixedTableHeader } = instance.refs;\n    let panels = {};\n    if (tableHeader)\n      panels = Object.assign(panels, tableHeader.filterPanels);\n    if (fixedTableHeader)\n      panels = Object.assign(panels, fixedTableHeader.filterPanels);\n    if (rightFixedTableHeader)\n      panels = Object.assign(panels, rightFixedTableHeader.filterPanels);\n    const keys = Object.keys(panels);\n    if (!keys.length)\n      return;\n    if (typeof columnKeys === \"string\") {\n      columnKeys = [columnKeys];\n    }\n    if (Array.isArray(columnKeys)) {\n      const columns_ = columnKeys.map((key) => getColumnByKey({\n        columns: columns.value\n      }, key));\n      keys.forEach((key) => {\n        const column = columns_.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      instance.store.commit(\"filterChange\", {\n        column: columns_,\n        values: [],\n        silent: true,\n        multi: true\n      });\n    } else {\n      keys.forEach((key) => {\n        const column = columns.value.find((col) => col.id === key);\n        if (column) {\n          column.filteredValue = [];\n        }\n      });\n      filters.value = {};\n      instance.store.commit(\"filterChange\", {\n        column: {},\n        values: [],\n        silent: true\n      });\n    }\n  };\n  const clearSort = () => {\n    if (!sortingColumn.value)\n      return;\n    updateSort(null, null, null);\n    instance.store.commit(\"changeSortCondition\", {\n      silent: true\n    });\n  };\n  const {\n    setExpandRowKeys,\n    toggleRowExpansion,\n    updateExpandRows,\n    states: expandStates,\n    isRowExpanded\n  } = useExpand({\n    data,\n    rowKey\n  });\n  const {\n    updateTreeExpandKeys,\n    toggleTreeExpansion,\n    updateTreeData,\n    loadOrToggle,\n    states: treeStates\n  } = useTree({\n    data,\n    rowKey\n  });\n  const {\n    updateCurrentRowData,\n    updateCurrentRow,\n    setCurrentRowKey,\n    states: currentData\n  } = useCurrent({\n    data,\n    rowKey\n  });\n  const setExpandRowKeysAdapter = (val) => {\n    setExpandRowKeys(val);\n    updateTreeExpandKeys(val);\n  };\n  const toggleRowExpansionAdapter = (row, expanded) => {\n    const hasExpandColumn = columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn) {\n      toggleRowExpansion(row, expanded);\n    } else {\n      toggleTreeExpansion(row, expanded);\n    }\n  };\n  return {\n    assertRowKey,\n    updateColumns,\n    scheduleLayout,\n    isSelected,\n    clearSelection,\n    cleanSelection,\n    toggleRowSelection,\n    _toggleAllSelection,\n    toggleAllSelection: null,\n    updateSelectionByRowKey,\n    updateAllSelected,\n    updateFilters,\n    updateCurrentRow,\n    updateSort,\n    execFilter,\n    execSort,\n    execQuery,\n    clearFilter,\n    clearSort,\n    toggleRowExpansion,\n    setExpandRowKeysAdapter,\n    setCurrentRowKey,\n    toggleRowExpansionAdapter,\n    isRowExpanded,\n    updateExpandRows,\n    updateCurrentRowData,\n    loadOrToggle,\n    updateTreeData,\n    states: __spreadValues$3(__spreadValues$3(__spreadValues$3({\n      rowKey,\n      data,\n      _data,\n      isComplex,\n      _columns,\n      originColumns,\n      columns,\n      fixedColumns,\n      rightFixedColumns,\n      leafColumns,\n      fixedLeafColumns,\n      rightFixedLeafColumns,\n      leafColumnsLength,\n      fixedLeafColumnsLength,\n      rightFixedLeafColumnsLength,\n      isAllSelected,\n      selection,\n      reserveSelection,\n      selectOnIndeterminate,\n      selectable,\n      filters,\n      filteredData,\n      sortingColumn,\n      sortProp,\n      sortOrder,\n      hoverRow\n    }, expandStates), treeStates), currentData)\n  };\n}\n\nvar __defProp$2 = Object.defineProperty;\nvar __defProps$2 = Object.defineProperties;\nvar __getOwnPropDescs$2 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$2 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$2 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$2 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$2 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$2.call(b, prop))\n      __defNormalProp$2(a, prop, b[prop]);\n  if (__getOwnPropSymbols$2)\n    for (var prop of __getOwnPropSymbols$2(b)) {\n      if (__propIsEnum$2.call(b, prop))\n        __defNormalProp$2(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$2 = (a, b) => __defProps$2(a, __getOwnPropDescs$2(b));\nfunction replaceColumn(array, column) {\n  return array.map((item) => {\n    var _a;\n    if (item.id === column.id) {\n      return column;\n    } else if ((_a = item.children) == null ? void 0 : _a.length) {\n      item.children = replaceColumn(item.children, column);\n    }\n    return item;\n  });\n}\nfunction sortColumn(array) {\n  array.forEach((item) => {\n    var _a, _b;\n    item.no = (_a = item.getColumnIndex) == null ? void 0 : _a.call(item);\n    if ((_b = item.children) == null ? void 0 : _b.length) {\n      sortColumn(item.children);\n    }\n  });\n  array.sort((cur, pre) => cur.no - pre.no);\n}\nfunction useStore() {\n  const instance = getCurrentInstance();\n  const watcher = useWatcher$1();\n  const mutations = {\n    setData(states, data) {\n      const dataInstanceChanged = unref(states.data) !== data;\n      states.data.value = data;\n      states._data.value = data;\n      instance.store.execQuery();\n      instance.store.updateCurrentRowData();\n      instance.store.updateExpandRows();\n      instance.store.updateTreeData(instance.store.states.defaultExpandAll.value);\n      if (unref(states.reserveSelection)) {\n        instance.store.assertRowKey();\n        instance.store.updateSelectionByRowKey();\n      } else {\n        if (dataInstanceChanged) {\n          instance.store.clearSelection();\n        } else {\n          instance.store.cleanSelection();\n        }\n      }\n      instance.store.updateAllSelected();\n      if (instance.$ready) {\n        instance.store.scheduleLayout();\n      }\n    },\n    insertColumn(states, column, parent) {\n      const array = unref(states._columns);\n      let newColumns = [];\n      if (!parent) {\n        array.push(column);\n        newColumns = array;\n      } else {\n        if (parent && !parent.children) {\n          parent.children = [];\n        }\n        parent.children.push(column);\n        newColumns = replaceColumn(array, parent);\n      }\n      sortColumn(newColumns);\n      states._columns.value = newColumns;\n      if (column.type === \"selection\") {\n        states.selectable.value = column.selectable;\n        states.reserveSelection.value = column.reserveSelection;\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    removeColumn(states, column, parent) {\n      const array = unref(states._columns) || [];\n      if (parent) {\n        parent.children.splice(parent.children.findIndex((item) => item.id === column.id), 1);\n        if (parent.children.length === 0) {\n          delete parent.children;\n        }\n        states._columns.value = replaceColumn(array, parent);\n      } else {\n        const index = array.indexOf(column);\n        if (index > -1) {\n          array.splice(index, 1);\n          states._columns.value = array;\n        }\n      }\n      if (instance.$ready) {\n        instance.store.updateColumns();\n        instance.store.scheduleLayout();\n      }\n    },\n    sort(states, options) {\n      const { prop, order, init } = options;\n      if (prop) {\n        const column = unref(states.columns).find((column2) => column2.property === prop);\n        if (column) {\n          column.order = order;\n          instance.store.updateSort(column, prop, order);\n          instance.store.commit(\"changeSortCondition\", { init });\n        }\n      }\n    },\n    changeSortCondition(states, options) {\n      const { sortingColumn: column, sortProp: prop, sortOrder: order } = states;\n      if (unref(order) === null) {\n        states.sortingColumn.value = null;\n        states.sortProp.value = null;\n      }\n      const ingore = { filter: true };\n      instance.store.execQuery(ingore);\n      if (!options || !(options.silent || options.init)) {\n        instance.emit(\"sort-change\", {\n          column: unref(column),\n          prop: unref(prop),\n          order: unref(order)\n        });\n      }\n      instance.store.updateTableScrollY();\n    },\n    filterChange(_states, options) {\n      const { column, values, silent } = options;\n      const newFilters = instance.store.updateFilters(column, values);\n      instance.store.execQuery();\n      if (!silent) {\n        instance.emit(\"filter-change\", newFilters);\n      }\n      instance.store.updateTableScrollY();\n    },\n    toggleAllSelection() {\n      instance.store.toggleAllSelection();\n    },\n    rowSelectedChanged(_states, row) {\n      instance.store.toggleRowSelection(row);\n      instance.store.updateAllSelected();\n    },\n    setHoverRow(states, row) {\n      states.hoverRow.value = row;\n    },\n    setCurrentRow(_states, row) {\n      instance.store.updateCurrentRow(row);\n    }\n  };\n  const commit = function(name, ...args) {\n    const mutations2 = instance.store.mutations;\n    if (mutations2[name]) {\n      mutations2[name].apply(instance, [instance.store.states].concat(args));\n    } else {\n      throw new Error(`Action not found: ${name}`);\n    }\n  };\n  const updateTableScrollY = function() {\n    nextTick(() => instance.layout.updateScrollY.apply(instance.layout));\n  };\n  return __spreadProps$2(__spreadValues$2({}, watcher), {\n    mutations,\n    commit,\n    updateTableScrollY\n  });\n}\n\nconst InitialStateMap = {\n  rowKey: \"rowKey\",\n  defaultExpandAll: \"defaultExpandAll\",\n  selectOnIndeterminate: \"selectOnIndeterminate\",\n  indent: \"indent\",\n  lazy: \"lazy\",\n  data: \"data\",\n  [\"treeProps.hasChildren\"]: {\n    key: \"lazyColumnIdentifier\",\n    default: \"hasChildren\"\n  },\n  [\"treeProps.children\"]: {\n    key: \"childrenColumnName\",\n    default: \"children\"\n  }\n};\nfunction createStore(table, props) {\n  if (!table) {\n    throw new Error(\"Table is required.\");\n  }\n  const store = useStore();\n  store.toggleAllSelection = debounce(store._toggleAllSelection, 10);\n  Object.keys(InitialStateMap).forEach((key) => {\n    handleValue(getArrKeysValue(props, key), key, store);\n  });\n  proxyTableProps(store, props);\n  return store;\n}\nfunction proxyTableProps(store, props) {\n  Object.keys(InitialStateMap).forEach((key) => {\n    watch(() => getArrKeysValue(props, key), (value) => {\n      handleValue(value, key, store);\n    });\n  });\n}\nfunction handleValue(value, propsKey, store) {\n  let newVal = value;\n  let storeKey = InitialStateMap[propsKey];\n  if (typeof InitialStateMap[propsKey] === \"object\") {\n    storeKey = storeKey.key;\n    newVal = newVal || InitialStateMap[propsKey].default;\n  }\n  store.states[storeKey].value = newVal;\n}\nfunction getArrKeysValue(props, keys) {\n  if (keys.includes(\".\")) {\n    const keyList = keys.split(\".\");\n    let value = props;\n    keyList.forEach((key) => {\n      value = value[key];\n    });\n    return value;\n  } else {\n    return props[keys];\n  }\n}\n\nclass TableLayout {\n  constructor(options) {\n    this.observers = [];\n    this.table = null;\n    this.store = null;\n    this.columns = [];\n    this.fit = true;\n    this.showHeader = true;\n    this.height = ref(null);\n    this.scrollX = ref(false);\n    this.scrollY = ref(false);\n    this.bodyWidth = ref(null);\n    this.fixedWidth = ref(null);\n    this.rightFixedWidth = ref(null);\n    this.tableHeight = ref(null);\n    this.headerHeight = ref(44);\n    this.appendHeight = ref(0);\n    this.footerHeight = ref(44);\n    this.viewportHeight = ref(null);\n    this.bodyHeight = ref(null);\n    this.fixedBodyHeight = ref(null);\n    this.gutterWidth = scrollbarWidth();\n    for (const name in options) {\n      if (hasOwn(options, name)) {\n        if (isRef(this[name])) {\n          this[name].value = options[name];\n        } else {\n          this[name] = options[name];\n        }\n      }\n    }\n    if (!this.table) {\n      throw new Error(\"Table is required for Table Layout\");\n    }\n    if (!this.store) {\n      throw new Error(\"Store is required for Table Layout\");\n    }\n  }\n  updateScrollY() {\n    const height = this.height.value;\n    if (height === null)\n      return false;\n    const bodyWrapper = this.table.refs.bodyWrapper;\n    if (this.table.vnode.el && bodyWrapper) {\n      let scrollY = true;\n      const prevScrollY = this.scrollY.value;\n      if (this.bodyHeight.value === null) {\n        scrollY = false;\n      } else {\n        const body = bodyWrapper.querySelector(\".el-table__body\");\n        scrollY = body.offsetHeight > this.bodyHeight.value;\n      }\n      this.scrollY.value = scrollY;\n      return prevScrollY !== scrollY;\n    }\n    return false;\n  }\n  setHeight(value, prop = \"height\") {\n    if (isServer)\n      return;\n    const el = this.table.vnode.el;\n    value = parseHeight(value);\n    this.height.value = Number(value);\n    if (!el && (value || value === 0))\n      return nextTick(() => this.setHeight(value, prop));\n    if (typeof value === \"number\") {\n      el.style[prop] = `${value}px`;\n      this.updateElsHeight();\n    } else if (typeof value === \"string\") {\n      el.style[prop] = value;\n      this.updateElsHeight();\n    }\n  }\n  setMaxHeight(value) {\n    this.setHeight(value, \"max-height\");\n  }\n  getFlattenColumns() {\n    const flattenColumns = [];\n    const columns = this.table.store.states.columns.value;\n    columns.forEach((column) => {\n      if (column.isColumnGroup) {\n        flattenColumns.push.apply(flattenColumns, column.columns);\n      } else {\n        flattenColumns.push(column);\n      }\n    });\n    return flattenColumns;\n  }\n  updateElsHeight() {\n    if (!this.table.$ready)\n      return nextTick(() => this.updateElsHeight());\n    const { headerWrapper, appendWrapper, footerWrapper } = this.table.refs;\n    this.appendHeight.value = appendWrapper ? appendWrapper.offsetHeight : 0;\n    if (this.showHeader && !headerWrapper)\n      return;\n    const headerTrElm = headerWrapper ? headerWrapper.querySelector(\".el-table__header tr\") : null;\n    const noneHeader = this.headerDisplayNone(headerTrElm);\n    const headerHeight = this.headerHeight.value = !this.showHeader ? 0 : headerWrapper.offsetHeight;\n    if (this.showHeader && !noneHeader && headerWrapper.offsetWidth > 0 && (this.table.store.states.columns.value || []).length > 0 && headerHeight < 2) {\n      return nextTick(() => this.updateElsHeight());\n    }\n    const tableHeight = this.tableHeight.value = this.table.vnode.el.clientHeight;\n    const footerHeight = this.footerHeight.value = footerWrapper ? footerWrapper.offsetHeight : 0;\n    if (this.height.value !== null) {\n      this.bodyHeight.value = tableHeight - headerHeight - footerHeight + (footerWrapper ? 1 : 0);\n    }\n    this.fixedBodyHeight.value = this.scrollX.value ? this.bodyHeight.value - this.gutterWidth : this.bodyHeight.value;\n    this.viewportHeight.value = this.scrollX.value ? tableHeight - this.gutterWidth : tableHeight;\n    this.updateScrollY();\n    this.notifyObservers(\"scrollable\");\n  }\n  headerDisplayNone(elm) {\n    if (!elm)\n      return true;\n    let headerChild = elm;\n    while (headerChild.tagName !== \"DIV\") {\n      if (getComputedStyle(headerChild).display === \"none\") {\n        return true;\n      }\n      headerChild = headerChild.parentElement;\n    }\n    return false;\n  }\n  updateColumnsWidth() {\n    if (isServer)\n      return;\n    const fit = this.fit;\n    const bodyWidth = this.table.vnode.el.clientWidth;\n    let bodyMinWidth = 0;\n    const flattenColumns = this.getFlattenColumns();\n    const flexColumns = flattenColumns.filter((column) => typeof column.width !== \"number\");\n    flattenColumns.forEach((column) => {\n      if (typeof column.width === \"number\" && column.realWidth)\n        column.realWidth = null;\n    });\n    if (flexColumns.length > 0 && fit) {\n      flattenColumns.forEach((column) => {\n        bodyMinWidth += Number(column.width || column.minWidth || 80);\n      });\n      const scrollYWidth = this.scrollY.value ? this.gutterWidth : 0;\n      if (bodyMinWidth <= bodyWidth - scrollYWidth) {\n        this.scrollX.value = false;\n        const totalFlexWidth = bodyWidth - scrollYWidth - bodyMinWidth;\n        if (flexColumns.length === 1) {\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth;\n        } else {\n          const allColumnsWidth = flexColumns.reduce((prev, column) => prev + Number(column.minWidth || 80), 0);\n          const flexWidthPerPixel = totalFlexWidth / allColumnsWidth;\n          let noneFirstWidth = 0;\n          flexColumns.forEach((column, index) => {\n            if (index === 0)\n              return;\n            const flexWidth = Math.floor(Number(column.minWidth || 80) * flexWidthPerPixel);\n            noneFirstWidth += flexWidth;\n            column.realWidth = Number(column.minWidth || 80) + flexWidth;\n          });\n          flexColumns[0].realWidth = Number(flexColumns[0].minWidth || 80) + totalFlexWidth - noneFirstWidth;\n        }\n      } else {\n        this.scrollX.value = true;\n        flexColumns.forEach(function(column) {\n          column.realWidth = Number(column.minWidth);\n        });\n      }\n      this.bodyWidth.value = Math.max(bodyMinWidth, bodyWidth);\n      this.table.state.resizeState.value.width = this.bodyWidth.value;\n    } else {\n      flattenColumns.forEach((column) => {\n        if (!column.width && !column.minWidth) {\n          column.realWidth = 80;\n        } else {\n          column.realWidth = Number(column.width || column.minWidth);\n        }\n        bodyMinWidth += column.realWidth;\n      });\n      this.scrollX.value = bodyMinWidth > bodyWidth;\n      this.bodyWidth.value = bodyMinWidth;\n    }\n    const fixedColumns = this.store.states.fixedColumns.value;\n    if (fixedColumns.length > 0) {\n      let fixedWidth = 0;\n      fixedColumns.forEach(function(column) {\n        fixedWidth += Number(column.realWidth || column.width);\n      });\n      this.fixedWidth.value = fixedWidth;\n    }\n    const rightFixedColumns = this.store.states.rightFixedColumns.value;\n    if (rightFixedColumns.length > 0) {\n      let rightFixedWidth = 0;\n      rightFixedColumns.forEach(function(column) {\n        rightFixedWidth += Number(column.realWidth || column.width);\n      });\n      this.rightFixedWidth.value = rightFixedWidth;\n    }\n    this.notifyObservers(\"columns\");\n  }\n  addObserver(observer) {\n    this.observers.push(observer);\n  }\n  removeObserver(observer) {\n    const index = this.observers.indexOf(observer);\n    if (index !== -1) {\n      this.observers.splice(index, 1);\n    }\n  }\n  notifyObservers(event) {\n    const observers = this.observers;\n    observers.forEach((observer) => {\n      var _a, _b;\n      switch (event) {\n        case \"columns\":\n          (_a = observer.state) == null ? void 0 : _a.onColumnsChange(this);\n          break;\n        case \"scrollable\":\n          (_b = observer.state) == null ? void 0 : _b.onScrollableChange(this);\n          break;\n        default:\n          throw new Error(`Table Layout don't have event ${event}.`);\n      }\n    });\n  }\n}\nvar TableLayout$1 = TableLayout;\n\nconst { CheckboxGroup: ElCheckboxGroup } = ElCheckbox;\nvar script$1 = defineComponent({\n  name: \"ElTableFilterPanel\",\n  components: {\n    ElCheckbox,\n    ElCheckboxGroup,\n    ElScrollbar,\n    ElPopper\n  },\n  directives: { ClickOutside },\n  props: {\n    placement: {\n      type: String,\n      default: \"bottom-start\"\n    },\n    store: {\n      type: Object\n    },\n    column: {\n      type: Object\n    },\n    upDataColumn: {\n      type: Function\n    }\n  },\n  setup(props) {\n    const instance = getCurrentInstance();\n    const { t } = useLocaleInject();\n    const parent = instance.parent;\n    if (!parent.filterPanels.value[props.column.id]) {\n      parent.filterPanels.value[props.column.id] = instance;\n    }\n    const tooltipVisible = ref(false);\n    const tooltip = ref(null);\n    const filters = computed(() => {\n      return props.column && props.column.filters;\n    });\n    const filterValue = computed({\n      get: () => (props.column.filteredValue || [])[0],\n      set: (value) => {\n        if (filteredValue.value) {\n          if (typeof value !== \"undefined\" && value !== null) {\n            filteredValue.value.splice(0, 1, value);\n          } else {\n            filteredValue.value.splice(0, 1);\n          }\n        }\n      }\n    });\n    const filteredValue = computed({\n      get() {\n        if (props.column) {\n          return props.column.filteredValue || [];\n        }\n        return [];\n      },\n      set(value) {\n        if (props.column) {\n          props.upDataColumn(\"filteredValue\", value);\n        }\n      }\n    });\n    const multiple = computed(() => {\n      if (props.column) {\n        return props.column.filterMultiple;\n      }\n      return true;\n    });\n    const isActive = (filter) => {\n      return filter.value === filterValue.value;\n    };\n    const hidden = () => {\n      tooltipVisible.value = false;\n    };\n    const showFilterPanel = (e) => {\n      e.stopPropagation();\n      tooltipVisible.value = !tooltipVisible.value;\n    };\n    const hideFilterPanel = () => {\n      tooltipVisible.value = false;\n    };\n    const handleConfirm = () => {\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleReset = () => {\n      filteredValue.value = [];\n      confirmFilter(filteredValue.value);\n      hidden();\n    };\n    const handleSelect = (_filterValue) => {\n      filterValue.value = _filterValue;\n      if (typeof _filterValue !== \"undefined\" && _filterValue !== null) {\n        confirmFilter(filteredValue.value);\n      } else {\n        confirmFilter([]);\n      }\n      hidden();\n    };\n    const confirmFilter = (filteredValue2) => {\n      props.store.commit(\"filterChange\", {\n        column: props.column,\n        values: filteredValue2\n      });\n      props.store.updateAllSelected();\n    };\n    watch(tooltipVisible, (value) => {\n      if (props.column) {\n        props.upDataColumn(\"filterOpened\", value);\n      }\n    }, {\n      immediate: true\n    });\n    const popperPaneRef = computed(() => {\n      var _a;\n      return (_a = tooltip.value) == null ? void 0 : _a.popperRef;\n    });\n    return {\n      tooltipVisible,\n      multiple,\n      filteredValue,\n      filterValue,\n      filters,\n      handleConfirm,\n      handleReset,\n      handleSelect,\n      isActive,\n      t,\n      showFilterPanel,\n      hideFilterPanel,\n      popperPaneRef,\n      tooltip,\n      Effect\n    };\n  }\n});\n\nconst _hoisted_1$1 = { key: 0 };\nconst _hoisted_2$1 = { class: \"el-table-filter__content\" };\nconst _hoisted_3$1 = { class: \"el-table-filter__bottom\" };\nconst _hoisted_4$1 = [\"disabled\"];\nconst _hoisted_5$1 = {\n  key: 1,\n  class: \"el-table-filter__list\"\n};\nconst _hoisted_6$1 = [\"label\", \"onClick\"];\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_checkbox = resolveComponent(\"el-checkbox\");\n  const _component_el_checkbox_group = resolveComponent(\"el-checkbox-group\");\n  const _component_el_scrollbar = resolveComponent(\"el-scrollbar\");\n  const _component_el_popper = resolveComponent(\"el-popper\");\n  const _directive_click_outside = resolveDirective(\"click-outside\");\n  return openBlock(), createBlock(_component_el_popper, {\n    ref: \"tooltip\",\n    visible: _ctx.tooltipVisible,\n    \"onUpdate:visible\": _cache[5] || (_cache[5] = ($event) => _ctx.tooltipVisible = $event),\n    offset: 0,\n    placement: _ctx.placement,\n    \"show-arrow\": false,\n    \"stop-popper-mouse-event\": false,\n    effect: _ctx.Effect.LIGHT,\n    pure: \"\",\n    \"manual-mode\": \"\",\n    \"popper-class\": \"el-table-filter\",\n    \"append-to-body\": \"\"\n  }, {\n    default: withCtx(() => [\n      _ctx.multiple ? (openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n        createElementVNode(\"div\", _hoisted_2$1, [\n          createVNode(_component_el_scrollbar, { \"wrap-class\": \"el-table-filter__wrap\" }, {\n            default: withCtx(() => [\n              createVNode(_component_el_checkbox_group, {\n                modelValue: _ctx.filteredValue,\n                \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event) => _ctx.filteredValue = $event),\n                class: \"el-table-filter__checkbox-group\"\n              }, {\n                default: withCtx(() => [\n                  (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n                    return openBlock(), createBlock(_component_el_checkbox, {\n                      key: filter.value,\n                      label: filter.value\n                    }, {\n                      default: withCtx(() => [\n                        createTextVNode(toDisplayString(filter.text), 1)\n                      ]),\n                      _: 2\n                    }, 1032, [\"label\"]);\n                  }), 128))\n                ]),\n                _: 1\n              }, 8, [\"modelValue\"])\n            ]),\n            _: 1\n          })\n        ]),\n        createElementVNode(\"div\", _hoisted_3$1, [\n          createElementVNode(\"button\", {\n            class: normalizeClass({ \"is-disabled\": _ctx.filteredValue.length === 0 }),\n            disabled: _ctx.filteredValue.length === 0,\n            type: \"button\",\n            onClick: _cache[1] || (_cache[1] = (...args) => _ctx.handleConfirm && _ctx.handleConfirm(...args))\n          }, toDisplayString(_ctx.t(\"el.table.confirmFilter\")), 11, _hoisted_4$1),\n          createElementVNode(\"button\", {\n            type: \"button\",\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.handleReset && _ctx.handleReset(...args))\n          }, toDisplayString(_ctx.t(\"el.table.resetFilter\")), 1)\n        ])\n      ])) : (openBlock(), createElementBlock(\"ul\", _hoisted_5$1, [\n        createElementVNode(\"li\", {\n          class: normalizeClass([{\n            \"is-active\": _ctx.filterValue === void 0 || _ctx.filterValue === null\n          }, \"el-table-filter__list-item\"]),\n          onClick: _cache[3] || (_cache[3] = ($event) => _ctx.handleSelect(null))\n        }, toDisplayString(_ctx.t(\"el.table.clearFilter\")), 3),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.filters, (filter) => {\n          return openBlock(), createElementBlock(\"li\", {\n            key: filter.value,\n            class: normalizeClass([{ \"is-active\": _ctx.isActive(filter) }, \"el-table-filter__list-item\"]),\n            label: filter.value,\n            onClick: ($event) => _ctx.handleSelect(filter.value)\n          }, toDisplayString(filter.text), 11, _hoisted_6$1);\n        }), 128))\n      ]))\n    ]),\n    trigger: withCtx(() => [\n      withDirectives(createElementVNode(\"span\", {\n        class: \"el-table__column-filter-trigger el-none-outline\",\n        onClick: _cache[4] || (_cache[4] = (...args) => _ctx.showFilterPanel && _ctx.showFilterPanel(...args))\n      }, [\n        createElementVNode(\"i\", {\n          class: normalizeClass([\n            \"el-icon-arrow-down\",\n            _ctx.column.filterOpened ? \"el-icon-arrow-up\" : \"\"\n          ])\n        }, null, 2)\n      ], 512), [\n        [_directive_click_outside, _ctx.hideFilterPanel, _ctx.popperPaneRef]\n      ])\n    ]),\n    _: 1\n  }, 8, [\"visible\", \"placement\", \"effect\"]);\n}\n\nscript$1.render = render$1;\nscript$1.__file = \"packages/components/table/src/filter-panel.vue\";\n\nfunction useLayoutObserver(root) {\n  const instance = getCurrentInstance();\n  onBeforeMount(() => {\n    tableLayout.value.addObserver(instance);\n  });\n  onMounted(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUpdated(() => {\n    onColumnsChange(tableLayout.value);\n    onScrollableChange(tableLayout.value);\n  });\n  onUnmounted(() => {\n    tableLayout.value.removeObserver(instance);\n  });\n  const tableLayout = computed(() => {\n    const layout = root.layout;\n    if (!layout) {\n      throw new Error(\"Can not find table layout.\");\n    }\n    return layout;\n  });\n  const onColumnsChange = (layout) => {\n    var _a;\n    const cols = ((_a = root.vnode.el) == null ? void 0 : _a.querySelectorAll(\"colgroup > col\")) || [];\n    if (!cols.length)\n      return;\n    const flattenColumns = layout.getFlattenColumns();\n    const columnsMap = {};\n    flattenColumns.forEach((column) => {\n      columnsMap[column.id] = column;\n    });\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      const name = col.getAttribute(\"name\");\n      const column = columnsMap[name];\n      if (column) {\n        col.setAttribute(\"width\", column.realWidth || column.width);\n      }\n    }\n  };\n  const onScrollableChange = (layout) => {\n    const cols = root.vnode.el.querySelectorAll(\"colgroup > col[name=gutter]\");\n    for (let i = 0, j = cols.length; i < j; i++) {\n      const col = cols[i];\n      col.setAttribute(\"width\", layout.scrollY.value ? layout.gutterWidth : \"0\");\n    }\n    const ths = root.vnode.el.querySelectorAll(\"th.gutter\");\n    for (let i = 0, j = ths.length; i < j; i++) {\n      const th = ths[i];\n      th.style.width = layout.scrollY.value ? `${layout.gutterWidth}px` : \"0\";\n      th.style.display = layout.scrollY.value ? \"\" : \"none\";\n    }\n  };\n  return {\n    tableLayout: tableLayout.value,\n    onColumnsChange,\n    onScrollableChange\n  };\n}\n\nfunction hGutter() {\n  return h(\"col\", {\n    name: \"gutter\"\n  });\n}\nfunction hColgroup(columns, hasGutter = false) {\n  return h(\"colgroup\", {}, [\n    ...columns.map((column) => h(\"col\", {\n      name: column.id,\n      key: column.id\n    })),\n    hasGutter && hGutter()\n  ]);\n}\n\nfunction useEvent(props, emit) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const handleFilterClick = (event) => {\n    event.stopPropagation();\n    return;\n  };\n  const handleHeaderClick = (event, column) => {\n    if (!column.filters && column.sortable) {\n      handleSortClick(event, column, false);\n    } else if (column.filterable && !column.sortable) {\n      handleFilterClick(event);\n    }\n    parent.emit(\"header-click\", column, event);\n  };\n  const handleHeaderContextMenu = (event, column) => {\n    parent.emit(\"header-contextmenu\", column, event);\n  };\n  const draggingColumn = ref(null);\n  const dragging = ref(false);\n  const dragState = ref({});\n  const handleMouseDown = (event, column) => {\n    if (isServer)\n      return;\n    if (column.children && column.children.length > 0)\n      return;\n    if (draggingColumn.value && props.border) {\n      dragging.value = true;\n      const table = parent;\n      emit(\"set-drag-visible\", true);\n      const tableEl = table.vnode.el;\n      const tableLeft = tableEl.getBoundingClientRect().left;\n      const columnEl = instance.vnode.el.querySelector(`th.${column.id}`);\n      const columnRect = columnEl.getBoundingClientRect();\n      const minLeft = columnRect.left - tableLeft + 30;\n      addClass(columnEl, \"noclick\");\n      dragState.value = {\n        startMouseLeft: event.clientX,\n        startLeft: columnRect.right - tableLeft,\n        startColumnLeft: columnRect.left - tableLeft,\n        tableLeft\n      };\n      const resizeProxy = table.refs.resizeProxy;\n      resizeProxy.style.left = `${dragState.value.startLeft}px`;\n      document.onselectstart = function() {\n        return false;\n      };\n      document.ondragstart = function() {\n        return false;\n      };\n      const handleMouseMove2 = (event2) => {\n        const deltaLeft = event2.clientX - dragState.value.startMouseLeft;\n        const proxyLeft = dragState.value.startLeft + deltaLeft;\n        resizeProxy.style.left = `${Math.max(minLeft, proxyLeft)}px`;\n      };\n      const handleMouseUp = () => {\n        if (dragging.value) {\n          const { startColumnLeft, startLeft } = dragState.value;\n          const finalLeft = parseInt(resizeProxy.style.left, 10);\n          const columnWidth = finalLeft - startColumnLeft;\n          column.width = column.realWidth = columnWidth;\n          table.emit(\"header-dragend\", column.width, startLeft - startColumnLeft, column, event);\n          props.store.scheduleLayout(false, true);\n          document.body.style.cursor = \"\";\n          dragging.value = false;\n          draggingColumn.value = null;\n          dragState.value = {};\n          emit(\"set-drag-visible\", false);\n        }\n        document.removeEventListener(\"mousemove\", handleMouseMove2);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.onselectstart = null;\n        document.ondragstart = null;\n        setTimeout(function() {\n          removeClass(columnEl, \"noclick\");\n        }, 0);\n      };\n      document.addEventListener(\"mousemove\", handleMouseMove2);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    }\n  };\n  const handleMouseMove = (event, column) => {\n    if (column.children && column.children.length > 0)\n      return;\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (!column || !column.resizable)\n      return;\n    if (!dragging.value && props.border) {\n      const rect = target.getBoundingClientRect();\n      const bodyStyle = document.body.style;\n      if (rect.width > 12 && rect.right - event.pageX < 8) {\n        bodyStyle.cursor = \"col-resize\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"col-resize\";\n        }\n        draggingColumn.value = column;\n      } else if (!dragging.value) {\n        bodyStyle.cursor = \"\";\n        if (hasClass(target, \"is-sortable\")) {\n          target.style.cursor = \"pointer\";\n        }\n        draggingColumn.value = null;\n      }\n    }\n  };\n  const handleMouseOut = () => {\n    if (isServer)\n      return;\n    document.body.style.cursor = \"\";\n  };\n  const toggleOrder = ({ order, sortOrders }) => {\n    if (order === \"\")\n      return sortOrders[0];\n    const index = sortOrders.indexOf(order || null);\n    return sortOrders[index > sortOrders.length - 2 ? 0 : index + 1];\n  };\n  const handleSortClick = (event, column, givenOrder) => {\n    event.stopPropagation();\n    const order = column.order === givenOrder ? null : givenOrder || toggleOrder(column);\n    let target = event.target;\n    while (target && target.tagName !== \"TH\") {\n      target = target.parentNode;\n    }\n    if (target && target.tagName === \"TH\") {\n      if (hasClass(target, \"noclick\")) {\n        removeClass(target, \"noclick\");\n        return;\n      }\n    }\n    if (!column.sortable)\n      return;\n    const states = props.store.states;\n    let sortProp = states.sortProp.value;\n    let sortOrder;\n    const sortingColumn = states.sortingColumn.value;\n    if (sortingColumn !== column || sortingColumn === column && sortingColumn.order === null) {\n      if (sortingColumn) {\n        sortingColumn.order = null;\n      }\n      states.sortingColumn.value = column;\n      sortProp = column.property;\n    }\n    if (!order) {\n      sortOrder = column.order = null;\n    } else {\n      sortOrder = column.order = order;\n    }\n    states.sortProp.value = sortProp;\n    states.sortOrder.value = sortOrder;\n    parent.store.commit(\"changeSortCondition\");\n  };\n  return {\n    handleHeaderClick,\n    handleHeaderContextMenu,\n    handleMouseDown,\n    handleMouseMove,\n    handleMouseOut,\n    handleSortClick,\n    handleFilterClick\n  };\n}\n\nfunction useStyle$2(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const storeData = parent.store.states;\n  const isCellHidden = (index, columns) => {\n    let start = 0;\n    for (let i = 0; i < index; i++) {\n      start += columns[i].colSpan;\n    }\n    const after = start + columns[index].colSpan - 1;\n    if (props.fixed === \"left\") {\n      return after >= storeData.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return start < storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    } else {\n      return after < storeData.fixedLeafColumnsLength.value || start >= storeData.columns.value.length - storeData.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getHeaderRowStyle = (rowIndex) => {\n    const headerRowStyle = parent.props.headerRowStyle;\n    if (typeof headerRowStyle === \"function\") {\n      return headerRowStyle.call(null, { rowIndex });\n    }\n    return headerRowStyle;\n  };\n  const getHeaderRowClass = (rowIndex) => {\n    const classes = [];\n    const headerRowClassName = parent.props.headerRowClassName;\n    if (typeof headerRowClassName === \"string\") {\n      classes.push(headerRowClassName);\n    } else if (typeof headerRowClassName === \"function\") {\n      classes.push(headerRowClassName.call(null, { rowIndex }));\n    }\n    return classes.join(\" \");\n  };\n  const getHeaderCellStyle = (rowIndex, columnIndex, row, column) => {\n    const headerCellStyle = parent.props.headerCellStyle;\n    if (typeof headerCellStyle === \"function\") {\n      return headerCellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return headerCellStyle;\n  };\n  const getHeaderCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [\n      column.id,\n      column.order,\n      column.headerAlign,\n      column.className,\n      column.labelClassName\n    ];\n    if (rowIndex === 0 && isCellHidden(columnIndex, row)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    if (column.sortable) {\n      classes.push(\"is-sortable\");\n    }\n    const headerCellClassName = parent.props.headerCellClassName;\n    if (typeof headerCellClassName === \"string\") {\n      classes.push(headerCellClassName);\n    } else if (typeof headerCellClassName === \"function\") {\n      classes.push(headerCellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    classes.push(\"el-table__cell\");\n    return classes.join(\" \");\n  };\n  return {\n    getHeaderRowStyle,\n    getHeaderRowClass,\n    getHeaderCellStyle,\n    getHeaderCellClass\n  };\n}\n\nconst getAllColumns = (columns) => {\n  const result = [];\n  columns.forEach((column) => {\n    if (column.children) {\n      result.push(column);\n      result.push.apply(result, getAllColumns(column.children));\n    } else {\n      result.push(column);\n    }\n  });\n  return result;\n};\nconst convertToRows = (originColumns) => {\n  let maxLevel = 1;\n  const traverse = (column, parent) => {\n    if (parent) {\n      column.level = parent.level + 1;\n      if (maxLevel < column.level) {\n        maxLevel = column.level;\n      }\n    }\n    if (column.children) {\n      let colSpan = 0;\n      column.children.forEach((subColumn) => {\n        traverse(subColumn, column);\n        colSpan += subColumn.colSpan;\n      });\n      column.colSpan = colSpan;\n    } else {\n      column.colSpan = 1;\n    }\n  };\n  originColumns.forEach((column) => {\n    column.level = 1;\n    traverse(column, void 0);\n  });\n  const rows = [];\n  for (let i = 0; i < maxLevel; i++) {\n    rows.push([]);\n  }\n  const allColumns = getAllColumns(originColumns);\n  allColumns.forEach((column) => {\n    if (!column.children) {\n      column.rowSpan = maxLevel - column.level + 1;\n    } else {\n      column.rowSpan = 1;\n    }\n    rows[column.level - 1].push(column);\n  });\n  return rows;\n};\nfunction useUtils$1(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const columnRows = computed(() => {\n    return convertToRows(props.store.states.originColumns.value);\n  });\n  const isGroup = computed(() => {\n    const result = columnRows.value.length > 1;\n    if (result)\n      parent.state.isGroup.value = true;\n    return result;\n  });\n  const toggleAllSelection = (event) => {\n    event.stopPropagation();\n    parent.store.commit(\"toggleAllSelection\");\n  };\n  return {\n    isGroup,\n    toggleAllSelection,\n    columnRows\n  };\n}\n\nvar TableHeader = defineComponent({\n  name: \"ElTableHeader\",\n  components: {\n    ElCheckbox\n  },\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props, { emit }) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const storeData = parent.store.states;\n    const filterPanels = ref({});\n    const { tableLayout, onColumnsChange, onScrollableChange } = useLayoutObserver(parent);\n    const hasGutter = computed(() => {\n      return !props.fixed && tableLayout.gutterWidth;\n    });\n    onMounted(() => {\n      nextTick(() => {\n        const { prop, order } = props.defaultSort;\n        const init = true;\n        parent.store.commit(\"sort\", { prop, order, init });\n      });\n    });\n    const {\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick\n    } = useEvent(props, emit);\n    const {\n      getHeaderRowStyle,\n      getHeaderRowClass,\n      getHeaderCellStyle,\n      getHeaderCellClass\n    } = useStyle$2(props);\n    const { isGroup, toggleAllSelection, columnRows } = useUtils$1(props);\n    instance.state = {\n      onColumnsChange,\n      onScrollableChange\n    };\n    instance.filterPanels = filterPanels;\n    return {\n      columns: storeData.columns,\n      filterPanels,\n      hasGutter,\n      onColumnsChange,\n      onScrollableChange,\n      columnRows,\n      getHeaderRowClass,\n      getHeaderRowStyle,\n      getHeaderCellClass,\n      getHeaderCellStyle,\n      handleHeaderClick,\n      handleHeaderContextMenu,\n      handleMouseDown,\n      handleMouseMove,\n      handleMouseOut,\n      handleSortClick,\n      handleFilterClick,\n      isGroup,\n      toggleAllSelection\n    };\n  },\n  render() {\n    return h(\"table\", {\n      border: \"0\",\n      cellpadding: \"0\",\n      cellspacing: \"0\",\n      class: \"el-table__header\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"thead\", {\n        class: { \"is-group\": this.isGroup, \"has-gutter\": this.hasGutter }\n      }, this.columnRows.map((subColumns, rowIndex) => h(\"tr\", {\n        class: this.getHeaderRowClass(rowIndex),\n        key: rowIndex,\n        style: this.getHeaderRowStyle(rowIndex)\n      }, subColumns.map((column, cellIndex) => h(\"th\", {\n        class: this.getHeaderCellClass(rowIndex, cellIndex, subColumns, column),\n        colspan: column.colSpan,\n        key: `${column.id}-thead`,\n        rowSpan: column.rowSpan,\n        style: this.getHeaderCellStyle(rowIndex, cellIndex, subColumns, column),\n        onClick: ($event) => this.handleHeaderClick($event, column),\n        onContextmenu: ($event) => this.handleHeaderContextMenu($event, column),\n        onMousedown: ($event) => this.handleMouseDown($event, column),\n        onMousemove: ($event) => this.handleMouseMove($event, column),\n        onMouseout: this.handleMouseOut\n      }, [\n        h(\"div\", {\n          class: [\n            \"cell\",\n            column.filteredValue && column.filteredValue.length > 0 ? \"highlight\" : \"\",\n            column.labelClassName\n          ]\n        }, [\n          column.renderHeader ? column.renderHeader({\n            column,\n            $index: cellIndex,\n            store: this.store,\n            _self: this.$parent\n          }) : column.label,\n          column.sortable && h(\"span\", {\n            onClick: ($event) => this.handleSortClick($event, column),\n            class: \"caret-wrapper\"\n          }, [\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"ascending\"),\n              class: \"sort-caret ascending\"\n            }),\n            h(\"i\", {\n              onClick: ($event) => this.handleSortClick($event, column, \"descending\"),\n              class: \"sort-caret descending\"\n            })\n          ]),\n          column.filterable && h(script$1, {\n            store: this.$parent.store,\n            placement: column.filterPlacement || \"bottom-start\",\n            column,\n            upDataColumn: (key, value) => {\n              column[key] = value;\n            }\n          })\n        ])\n      ])))))\n    ]);\n  }\n});\n\nfunction useEvents(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const tooltipContent = ref(\"\");\n  const tooltipTrigger = ref(h(\"div\"));\n  const handleEvent = (event, row, name) => {\n    const table = parent;\n    const cell = getCell(event);\n    let column;\n    if (cell) {\n      column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      if (column) {\n        table.emit(`cell-${name}`, row, column, cell, event);\n      }\n    }\n    table.emit(`row-${name}`, row, column, event);\n  };\n  const handleDoubleClick = (event, row) => {\n    handleEvent(event, row, \"dblclick\");\n  };\n  const handleClick = (event, row) => {\n    props.store.commit(\"setCurrentRow\", row);\n    handleEvent(event, row, \"click\");\n  };\n  const handleContextMenu = (event, row) => {\n    handleEvent(event, row, \"contextmenu\");\n  };\n  const handleMouseEnter = debounce(function(index) {\n    props.store.commit(\"setHoverRow\", index);\n  }, 30);\n  const handleMouseLeave = debounce(function() {\n    props.store.commit(\"setHoverRow\", null);\n  }, 30);\n  const handleCellMouseEnter = (event, row) => {\n    const table = parent;\n    const cell = getCell(event);\n    if (cell) {\n      const column = getColumnByCell({\n        columns: props.store.states.columns.value\n      }, cell);\n      const hoverState = table.hoverState = { cell, column, row };\n      table.emit(\"cell-mouse-enter\", hoverState.row, hoverState.column, hoverState.cell, event);\n    }\n    const cellChild = event.target.querySelector(\".cell\");\n    if (!(hasClass(cellChild, \"el-tooltip\") && cellChild.childNodes.length)) {\n      return;\n    }\n    const range = document.createRange();\n    range.setStart(cellChild, 0);\n    range.setEnd(cellChild, cellChild.childNodes.length);\n    const rangeWidth = range.getBoundingClientRect().width;\n    const padding = (parseInt(getStyle(cellChild, \"paddingLeft\"), 10) || 0) + (parseInt(getStyle(cellChild, \"paddingRight\"), 10) || 0);\n    if (rangeWidth + padding > cellChild.offsetWidth || cellChild.scrollWidth > cellChild.offsetWidth) {\n      createTablePopper(cell, cell.innerText || cell.textContent, {\n        placement: \"top\",\n        strategy: \"fixed\"\n      }, row.tooltipEffect);\n    }\n  };\n  const handleCellMouseLeave = (event) => {\n    const cell = getCell(event);\n    if (!cell)\n      return;\n    const oldHoverState = parent.hoverState;\n    parent.emit(\"cell-mouse-leave\", oldHoverState == null ? void 0 : oldHoverState.row, oldHoverState == null ? void 0 : oldHoverState.column, oldHoverState == null ? void 0 : oldHoverState.cell, event);\n  };\n  return {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nfunction useStyles(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const isColumnHidden = (index) => {\n    if (props.fixed === \"left\") {\n      return index >= props.store.states.fixedLeafColumnsLength.value;\n    } else if (props.fixed === \"right\") {\n      return index < props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    } else {\n      return index < props.store.states.fixedLeafColumnsLength.value || index >= props.store.states.columns.value.length - props.store.states.rightFixedLeafColumnsLength.value;\n    }\n  };\n  const getRowStyle = (row, rowIndex) => {\n    const rowStyle = parent.props.rowStyle;\n    if (typeof rowStyle === \"function\") {\n      return rowStyle.call(null, {\n        row,\n        rowIndex\n      });\n    }\n    return rowStyle || null;\n  };\n  const getRowClass = (row, rowIndex) => {\n    const classes = [\"el-table__row\"];\n    if (parent.props.highlightCurrentRow && row === props.store.states.currentRow.value) {\n      classes.push(\"current-row\");\n    }\n    if (props.stripe && rowIndex % 2 === 1) {\n      classes.push(\"el-table__row--striped\");\n    }\n    const rowClassName = parent.props.rowClassName;\n    if (typeof rowClassName === \"string\") {\n      classes.push(rowClassName);\n    } else if (typeof rowClassName === \"function\") {\n      classes.push(rowClassName.call(null, {\n        row,\n        rowIndex\n      }));\n    }\n    if (props.store.states.expandRows.value.indexOf(row) > -1) {\n      classes.push(\"expanded\");\n    }\n    return classes;\n  };\n  const getCellStyle = (rowIndex, columnIndex, row, column) => {\n    const cellStyle = parent.props.cellStyle;\n    if (typeof cellStyle === \"function\") {\n      return cellStyle.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      });\n    }\n    return cellStyle;\n  };\n  const getCellClass = (rowIndex, columnIndex, row, column) => {\n    const classes = [column.id, column.align, column.className];\n    if (isColumnHidden(columnIndex)) {\n      classes.push(\"is-hidden\");\n    }\n    const cellClassName = parent.props.cellClassName;\n    if (typeof cellClassName === \"string\") {\n      classes.push(cellClassName);\n    } else if (typeof cellClassName === \"function\") {\n      classes.push(cellClassName.call(null, {\n        rowIndex,\n        columnIndex,\n        row,\n        column\n      }));\n    }\n    classes.push(\"el-table__cell\");\n    return classes.join(\" \");\n  };\n  const getSpan = (row, column, rowIndex, columnIndex) => {\n    let rowspan = 1;\n    let colspan = 1;\n    const fn = parent.props.spanMethod;\n    if (typeof fn === \"function\") {\n      const result = fn({\n        row,\n        column,\n        rowIndex,\n        columnIndex\n      });\n      if (Array.isArray(result)) {\n        rowspan = result[0];\n        colspan = result[1];\n      } else if (typeof result === \"object\") {\n        rowspan = result.rowspan;\n        colspan = result.colspan;\n      }\n    }\n    return { rowspan, colspan };\n  };\n  const getColspanRealWidth = (columns, colspan, index) => {\n    if (colspan < 1) {\n      return columns[index].realWidth;\n    }\n    const widthArr = columns.map(({ realWidth, width }) => realWidth || width).slice(index, index + colspan);\n    return Number(widthArr.reduce((acc, width) => Number(acc) + Number(width), -1));\n  };\n  return {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth,\n    isColumnHidden\n  };\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defProps$1 = Object.defineProperties;\nvar __getOwnPropDescs$1 = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols$1 = Object.getOwnPropertySymbols;\nvar __hasOwnProp$1 = Object.prototype.hasOwnProperty;\nvar __propIsEnum$1 = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues$1 = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp$1.call(b, prop))\n      __defNormalProp$1(a, prop, b[prop]);\n  if (__getOwnPropSymbols$1)\n    for (var prop of __getOwnPropSymbols$1(b)) {\n      if (__propIsEnum$1.call(b, prop))\n        __defNormalProp$1(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps$1 = (a, b) => __defProps$1(a, __getOwnPropDescs$1(b));\nfunction useRender$1(props) {\n  const instance = getCurrentInstance();\n  const parent = instance.parent;\n  const {\n    handleDoubleClick,\n    handleClick,\n    handleContextMenu,\n    handleMouseEnter,\n    handleMouseLeave,\n    handleCellMouseEnter,\n    handleCellMouseLeave,\n    tooltipContent,\n    tooltipTrigger\n  } = useEvents(props);\n  const {\n    getRowStyle,\n    getRowClass,\n    getCellStyle,\n    getCellClass,\n    getSpan,\n    getColspanRealWidth\n  } = useStyles(props);\n  const firstDefaultColumnIndex = computed(() => {\n    return props.store.states.columns.value.findIndex(({ type }) => type === \"default\");\n  });\n  const getKeyOfRow = (row, index) => {\n    const rowKey = parent.props.rowKey;\n    if (rowKey) {\n      return getRowIdentity(row, rowKey);\n    }\n    return index;\n  };\n  const rowRender = (row, $index, treeRowData) => {\n    const { tooltipEffect, store } = props;\n    const { indent, columns } = store.states;\n    const rowClasses = getRowClass(row, $index);\n    let display = true;\n    if (treeRowData) {\n      rowClasses.push(`el-table__row--level-${treeRowData.level}`);\n      display = treeRowData.display;\n    }\n    const displayStyle = display ? null : {\n      display: \"none\"\n    };\n    return h(\"tr\", {\n      style: [displayStyle, getRowStyle(row, $index)],\n      class: rowClasses,\n      key: getKeyOfRow(row, $index),\n      onDblclick: ($event) => handleDoubleClick($event, row),\n      onClick: ($event) => handleClick($event, row),\n      onContextmenu: ($event) => handleContextMenu($event, row),\n      onMouseenter: () => handleMouseEnter($index),\n      onMouseleave: handleMouseLeave\n    }, columns.value.map((column, cellIndex) => {\n      const { rowspan, colspan } = getSpan(row, column, $index, cellIndex);\n      if (!rowspan || !colspan) {\n        return null;\n      }\n      const columnData = __spreadValues$1({}, column);\n      columnData.realWidth = getColspanRealWidth(columns.value, colspan, cellIndex);\n      const data = {\n        store: props.store,\n        _self: props.context || parent,\n        column: columnData,\n        row,\n        $index\n      };\n      if (cellIndex === firstDefaultColumnIndex.value && treeRowData) {\n        data.treeNode = {\n          indent: treeRowData.level * indent.value,\n          level: treeRowData.level\n        };\n        if (typeof treeRowData.expanded === \"boolean\") {\n          data.treeNode.expanded = treeRowData.expanded;\n          if (\"loading\" in treeRowData) {\n            data.treeNode.loading = treeRowData.loading;\n          }\n          if (\"noLazyChildren\" in treeRowData) {\n            data.treeNode.noLazyChildren = treeRowData.noLazyChildren;\n          }\n        }\n      }\n      const baseKey = `${$index},${cellIndex}`;\n      const patchKey = columnData.columnKey || columnData.rawColumnKey || \"\";\n      return h(\"td\", {\n        style: getCellStyle($index, cellIndex, row, column),\n        class: getCellClass($index, cellIndex, row, column),\n        key: `${patchKey}${baseKey}`,\n        rowspan,\n        colspan,\n        onMouseenter: ($event) => handleCellMouseEnter($event, __spreadProps$1(__spreadValues$1({}, row), { tooltipEffect })),\n        onMouseleave: handleCellMouseLeave\n      }, [column.renderCell(data)]);\n    }));\n  };\n  const wrappedRowRender = (row, $index) => {\n    const store = props.store;\n    const { isRowExpanded, assertRowKey } = store;\n    const { treeData, lazyTreeNodeMap, childrenColumnName, rowKey } = store.states;\n    const hasExpandColumn = store.states.columns.value.some(({ type }) => type === \"expand\");\n    if (hasExpandColumn && isRowExpanded(row)) {\n      const renderExpanded = parent.renderExpanded;\n      const tr = rowRender(row, $index, void 0);\n      if (!renderExpanded) {\n        console.error(\"[Element Error]renderExpanded is required.\");\n        return tr;\n      }\n      return [\n        [\n          tr,\n          h(\"tr\", {\n            key: `expanded-row__${tr.key}`\n          }, [\n            h(\"td\", {\n              colspan: store.states.columns.value.length,\n              class: \"el-table__cell el-table__expanded-cell\"\n            }, [renderExpanded({ row, $index, store })])\n          ])\n        ]\n      ];\n    } else if (Object.keys(treeData.value).length) {\n      assertRowKey();\n      const key = getRowIdentity(row, rowKey.value);\n      let cur = treeData.value[key];\n      let treeRowData = null;\n      if (cur) {\n        treeRowData = {\n          expanded: cur.expanded,\n          level: cur.level,\n          display: true\n        };\n        if (typeof cur.lazy === \"boolean\") {\n          if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n            treeRowData.noLazyChildren = !(cur.children && cur.children.length);\n          }\n          treeRowData.loading = cur.loading;\n        }\n      }\n      const tmp = [rowRender(row, $index, treeRowData)];\n      if (cur) {\n        let i = 0;\n        const traverse = (children, parent2) => {\n          if (!(children && children.length && parent2))\n            return;\n          children.forEach((node) => {\n            const innerTreeRowData = {\n              display: parent2.display && parent2.expanded,\n              level: parent2.level + 1,\n              expanded: false,\n              noLazyChildren: false,\n              loading: false\n            };\n            const childKey = getRowIdentity(node, rowKey.value);\n            if (childKey === void 0 || childKey === null) {\n              throw new Error(\"For nested data item, row-key is required.\");\n            }\n            cur = __spreadValues$1({}, treeData.value[childKey]);\n            if (cur) {\n              innerTreeRowData.expanded = cur.expanded;\n              cur.level = cur.level || innerTreeRowData.level;\n              cur.display = !!(cur.expanded && innerTreeRowData.display);\n              if (typeof cur.lazy === \"boolean\") {\n                if (typeof cur.loaded === \"boolean\" && cur.loaded) {\n                  innerTreeRowData.noLazyChildren = !(cur.children && cur.children.length);\n                }\n                innerTreeRowData.loading = cur.loading;\n              }\n            }\n            i++;\n            tmp.push(rowRender(node, $index + i, innerTreeRowData));\n            if (cur) {\n              const nodes2 = lazyTreeNodeMap.value[childKey] || node[childrenColumnName.value];\n              traverse(nodes2, cur);\n            }\n          });\n        };\n        cur.display = true;\n        const nodes = lazyTreeNodeMap.value[key] || row[childrenColumnName.value];\n        traverse(nodes, cur);\n      }\n      return tmp;\n    } else {\n      return rowRender(row, $index, void 0);\n    }\n  };\n  return {\n    wrappedRowRender,\n    tooltipContent,\n    tooltipTrigger\n  };\n}\n\nconst defaultProps$2 = {\n  store: {\n    required: true,\n    type: Object\n  },\n  stripe: Boolean,\n  tooltipEffect: String,\n  context: {\n    default: () => ({}),\n    type: Object\n  },\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  fixed: {\n    type: String,\n    default: \"\"\n  },\n  highlight: Boolean\n};\nvar defaultProps$3 = defaultProps$2;\n\nvar TableBody = defineComponent({\n  name: \"ElTableBody\",\n  props: defaultProps$3,\n  setup(props) {\n    const instance = getCurrentInstance();\n    const parent = instance.parent;\n    const { wrappedRowRender, tooltipContent, tooltipTrigger } = useRender$1(props);\n    const { onColumnsChange, onScrollableChange } = useLayoutObserver(parent);\n    watch(props.store.states.hoverRow, (newVal, oldVal) => {\n      if (!props.store.states.isComplex.value || isServer)\n        return;\n      let raf = window.requestAnimationFrame;\n      if (!raf) {\n        raf = (fn) => window.setTimeout(fn, 16);\n      }\n      raf(() => {\n        const rows = instance.vnode.el.querySelectorAll(\".el-table__row\");\n        const oldRow = rows[oldVal];\n        const newRow = rows[newVal];\n        if (oldRow) {\n          removeClass(oldRow, \"hover-row\");\n        }\n        if (newRow) {\n          addClass(newRow, \"hover-row\");\n        }\n      });\n    });\n    onUnmounted(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    onUpdated(() => {\n      var _a;\n      (_a = removePopper) == null ? void 0 : _a();\n    });\n    return {\n      onColumnsChange,\n      onScrollableChange,\n      wrappedRowRender,\n      tooltipContent,\n      tooltipTrigger\n    };\n  },\n  render() {\n    const data = this.store.states.data.value || [];\n    return h(\"table\", {\n      class: \"el-table__body\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.store.states.columns.value),\n      h(\"tbody\", {}, [\n        data.reduce((acc, row) => {\n          return acc.concat(this.wrappedRowRender(row, acc.length));\n        }, [])\n      ])\n    ]);\n  }\n});\n\nfunction useMapState() {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const leftFixedLeafCount = computed(() => {\n    return store.states.fixedLeafColumnsLength.value;\n  });\n  const rightFixedLeafCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  const columnsCount = computed(() => {\n    return store.states.columns.value.length;\n  });\n  const leftFixedCount = computed(() => {\n    return store.states.fixedColumns.value.length;\n  });\n  const rightFixedCount = computed(() => {\n    return store.states.rightFixedColumns.value.length;\n  });\n  return {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns: store.states.columns\n  };\n}\n\nfunction useStyle$1(props) {\n  const instance = getCurrentInstance();\n  const table = instance.parent;\n  const store = table.store;\n  const {\n    leftFixedLeafCount,\n    rightFixedLeafCount,\n    columnsCount,\n    leftFixedCount,\n    rightFixedCount,\n    columns\n  } = useMapState();\n  const hasGutter = computed(() => {\n    return !props.fixed && !table.layout.gutterWidth;\n  });\n  const isCellHidden = (index, columns2, column) => {\n    if (props.fixed || props.fixed === \"left\") {\n      return index >= leftFixedLeafCount.value;\n    } else if (props.fixed === \"right\") {\n      let before = 0;\n      for (let i = 0; i < index; i++) {\n        before += columns2[i].colSpan;\n      }\n      return before < columnsCount.value - rightFixedLeafCount.value;\n    } else if (!props.fixed && column.fixed) {\n      return true;\n    } else {\n      return index < leftFixedCount.value || index >= columnsCount.value - rightFixedCount.value;\n    }\n  };\n  const getRowClasses = (column, cellIndex) => {\n    const classes = [column.id, column.align, column.labelClassName];\n    if (column.className) {\n      classes.push(column.className);\n    }\n    if (isCellHidden(cellIndex, store.states.columns.value, column)) {\n      classes.push(\"is-hidden\");\n    }\n    if (!column.children) {\n      classes.push(\"is-leaf\");\n    }\n    return classes;\n  };\n  return {\n    hasGutter,\n    getRowClasses,\n    columns\n  };\n}\n\nvar TableFooter = defineComponent({\n  name: \"ElTableFooter\",\n  props: {\n    fixed: {\n      type: String,\n      default: \"\"\n    },\n    store: {\n      required: true,\n      type: Object\n    },\n    summaryMethod: Function,\n    sumText: String,\n    border: Boolean,\n    defaultSort: {\n      type: Object,\n      default: () => {\n        return {\n          prop: \"\",\n          order: \"\"\n        };\n      }\n    }\n  },\n  setup(props) {\n    const { hasGutter, getRowClasses, columns } = useStyle$1(props);\n    return {\n      getRowClasses,\n      hasGutter,\n      columns\n    };\n  },\n  render() {\n    let sums = [];\n    if (this.summaryMethod) {\n      sums = this.summaryMethod({\n        columns: this.columns,\n        data: this.store.states.data.value\n      });\n    } else {\n      this.columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = this.sumText;\n          return;\n        }\n        const values = this.store.states.data.value.map((item) => Number(item[column.property]));\n        const precisions = [];\n        let notNumber = true;\n        values.forEach((value) => {\n          if (!isNaN(value)) {\n            notNumber = false;\n            const decimal = `${value}`.split(\".\")[1];\n            precisions.push(decimal ? decimal.length : 0);\n          }\n        });\n        const precision = Math.max.apply(null, precisions);\n        if (!notNumber) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return parseFloat((prev + curr).toFixed(Math.min(precision, 20)));\n            } else {\n              return prev;\n            }\n          }, 0);\n        } else {\n          sums[index] = \"\";\n        }\n      });\n    }\n    return h(\"table\", {\n      class: \"el-table__footer\",\n      cellspacing: \"0\",\n      cellpadding: \"0\",\n      border: \"0\"\n    }, [\n      hColgroup(this.columns, this.hasGutter),\n      h(\"tbody\", {\n        class: [{ \"has-gutter\": this.hasGutter }]\n      }, [\n        h(\"tr\", {}, [\n          ...this.columns.map((column, cellIndex) => h(\"td\", {\n            key: cellIndex,\n            colspan: column.colSpan,\n            rowspan: column.rowSpan,\n            class: [\n              ...this.getRowClasses(column, cellIndex),\n              \"el-table__cell\"\n            ]\n          }, [\n            h(\"div\", {\n              class: [\"cell\", column.labelClassName]\n            }, [sums[cellIndex]])\n          ])),\n          this.hasGutter && hGutter()\n        ])\n      ])\n    ]);\n  }\n});\n\nfunction useUtils(store) {\n  const setCurrentRow = (row) => {\n    store.commit(\"setCurrentRow\", row);\n  };\n  const toggleRowSelection = (row, selected) => {\n    store.toggleRowSelection(row, selected, false);\n    store.updateAllSelected();\n  };\n  const clearSelection = () => {\n    store.clearSelection();\n  };\n  const clearFilter = (columnKeys) => {\n    store.clearFilter(columnKeys);\n  };\n  const toggleAllSelection = () => {\n    store.commit(\"toggleAllSelection\");\n  };\n  const toggleRowExpansion = (row, expanded) => {\n    store.toggleRowExpansionAdapter(row, expanded);\n  };\n  const clearSort = () => {\n    store.clearSort();\n  };\n  const sort = (prop, order) => {\n    store.commit(\"sort\", { prop, order });\n  };\n  return {\n    setCurrentRow,\n    toggleRowSelection,\n    clearSelection,\n    clearFilter,\n    toggleAllSelection,\n    toggleRowExpansion,\n    clearSort,\n    sort\n  };\n}\n\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\nfunction useStyle(props, layout, store, table) {\n  const $ELEMENT = useGlobalConfig();\n  const isHidden = ref(false);\n  const renderExpanded = ref(null);\n  const resizeProxyVisible = ref(false);\n  const setDragVisible = (visible) => {\n    resizeProxyVisible.value = visible;\n  };\n  const resizeState = ref({\n    width: null,\n    height: null\n  });\n  const isGroup = ref(false);\n  watchEffect(() => {\n    layout.setHeight(props.height);\n  });\n  watchEffect(() => {\n    layout.setMaxHeight(props.maxHeight);\n  });\n  watch(() => [props.currentRowKey, store.states.rowKey], ([currentRowKey, rowKey]) => {\n    if (!unref(rowKey))\n      return;\n    store.setCurrentRowKey(`${currentRowKey}`);\n  }, {\n    immediate: true\n  });\n  watch(() => props.data, (data) => {\n    table.store.commit(\"setData\", data);\n  }, {\n    immediate: true,\n    deep: true\n  });\n  watchEffect(() => {\n    if (props.expandRowKeys) {\n      store.setExpandRowKeysAdapter(props.expandRowKeys);\n    }\n  });\n  const handleMouseLeave = () => {\n    table.store.commit(\"setHoverRow\", null);\n    if (table.hoverState)\n      table.hoverState = null;\n  };\n  const handleHeaderFooterMousewheel = (event, data) => {\n    const { pixelX, pixelY } = data;\n    if (Math.abs(pixelX) >= Math.abs(pixelY)) {\n      table.refs.bodyWrapper.scrollLeft += data.pixelX / 5;\n    }\n  };\n  const shouldUpdateHeight = computed(() => {\n    return props.height || props.maxHeight || store.states.fixedColumns.value.length > 0 || store.states.rightFixedColumns.value.length > 0;\n  });\n  const doLayout = () => {\n    if (shouldUpdateHeight.value) {\n      layout.updateElsHeight();\n    }\n    layout.updateColumnsWidth();\n    syncPostion();\n  };\n  onMounted(() => __async(this, null, function* () {\n    setScrollClass(\"is-scrolling-left\");\n    store.updateColumns();\n    yield nextTick();\n    bindEvents();\n    doLayout();\n    resizeState.value = {\n      width: table.vnode.el.offsetWidth,\n      height: table.vnode.el.offsetHeight\n    };\n    store.states.columns.value.forEach((column) => {\n      if (column.filteredValue && column.filteredValue.length) {\n        table.store.commit(\"filterChange\", {\n          column,\n          values: column.filteredValue,\n          silent: true\n        });\n      }\n    });\n    table.$ready = true;\n  }));\n  const setScrollClassByEl = (el, className) => {\n    if (!el)\n      return;\n    const classList = Array.from(el.classList).filter((item) => !item.startsWith(\"is-scrolling-\"));\n    classList.push(layout.scrollX.value ? className : \"is-scrolling-none\");\n    el.className = classList.join(\" \");\n  };\n  const setScrollClass = (className) => {\n    const { bodyWrapper } = table.refs;\n    setScrollClassByEl(bodyWrapper, className);\n  };\n  const syncPostion = throttle(function() {\n    if (!table.refs.bodyWrapper)\n      return;\n    const { scrollLeft, scrollTop, offsetWidth, scrollWidth } = table.refs.bodyWrapper;\n    const {\n      headerWrapper,\n      footerWrapper,\n      fixedBodyWrapper,\n      rightFixedBodyWrapper\n    } = table.refs;\n    if (headerWrapper)\n      headerWrapper.scrollLeft = scrollLeft;\n    if (footerWrapper)\n      footerWrapper.scrollLeft = scrollLeft;\n    if (fixedBodyWrapper)\n      fixedBodyWrapper.scrollTop = scrollTop;\n    if (rightFixedBodyWrapper)\n      rightFixedBodyWrapper.scrollTop = scrollTop;\n    const maxScrollLeftPosition = scrollWidth - offsetWidth - 1;\n    if (scrollLeft >= maxScrollLeftPosition) {\n      setScrollClass(\"is-scrolling-right\");\n    } else if (scrollLeft === 0) {\n      setScrollClass(\"is-scrolling-left\");\n    } else {\n      setScrollClass(\"is-scrolling-middle\");\n    }\n  }, 10);\n  const bindEvents = () => {\n    table.refs.bodyWrapper.addEventListener(\"scroll\", syncPostion, {\n      passive: true\n    });\n    if (props.fit) {\n      addResizeListener(table.vnode.el, resizeListener);\n    } else {\n      on(window, \"resize\", doLayout);\n    }\n  };\n  onUnmounted(() => {\n    unbindEvents();\n  });\n  const unbindEvents = () => {\n    var _a;\n    (_a = table.refs.bodyWrapper) == null ? void 0 : _a.removeEventListener(\"scroll\", syncPostion, true);\n    if (props.fit) {\n      removeResizeListener(table.vnode.el, resizeListener);\n    } else {\n      off(window, \"resize\", doLayout);\n    }\n  };\n  const resizeListener = () => {\n    if (!table.$ready)\n      return;\n    let shouldUpdateLayout = false;\n    const el = table.vnode.el;\n    const { width: oldWidth, height: oldHeight } = resizeState.value;\n    const width = el.offsetWidth;\n    if (oldWidth !== width) {\n      shouldUpdateLayout = true;\n    }\n    const height = el.offsetHeight;\n    if ((props.height || shouldUpdateHeight.value) && oldHeight !== height) {\n      shouldUpdateLayout = true;\n    }\n    if (shouldUpdateLayout) {\n      resizeState.value = {\n        width,\n        height\n      };\n      doLayout();\n    }\n  };\n  const tableSize = computed(() => {\n    return props.size || $ELEMENT.size;\n  });\n  const bodyWidth = computed(() => {\n    const { bodyWidth: bodyWidth_, scrollY, gutterWidth } = layout;\n    return bodyWidth_.value ? `${bodyWidth_.value - (scrollY.value ? gutterWidth : 0)}px` : \"\";\n  });\n  const bodyHeight = computed(() => {\n    const headerHeight = layout.headerHeight.value || 0;\n    const bodyHeight2 = layout.bodyHeight.value;\n    const footerHeight = layout.footerHeight.value || 0;\n    if (props.height) {\n      return {\n        height: bodyHeight2 ? `${bodyHeight2}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      const maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        return {\n          \"max-height\": `${maxHeight - footerHeight - (props.showHeader ? headerHeight : 0)}px`\n        };\n      }\n    }\n    return {};\n  });\n  const emptyBlockStyle = computed(() => {\n    if (props.data && props.data.length)\n      return null;\n    let height = \"100%\";\n    if (layout.appendHeight.value) {\n      height = `calc(100% - ${layout.appendHeight.value}px)`;\n    }\n    return {\n      width: bodyWidth.value,\n      height\n    };\n  });\n  const handleFixedMousewheel = (event, data) => {\n    const bodyWrapper = table.refs.bodyWrapper;\n    if (Math.abs(data.spinY) > 0) {\n      const currentScrollTop = bodyWrapper.scrollTop;\n      if (data.pixelY < 0 && currentScrollTop !== 0) {\n        event.preventDefault();\n      }\n      if (data.pixelY > 0 && bodyWrapper.scrollHeight - bodyWrapper.clientHeight > currentScrollTop) {\n        event.preventDefault();\n      }\n      bodyWrapper.scrollTop += Math.ceil(data.pixelY / 5);\n    } else {\n      bodyWrapper.scrollLeft += Math.ceil(data.pixelX / 5);\n    }\n  };\n  const fixedHeight = computed(() => {\n    if (props.maxHeight) {\n      if (props.showSummary) {\n        return {\n          bottom: 0\n        };\n      }\n      return {\n        bottom: layout.scrollX.value && props.data.length ? `${layout.gutterWidth}px` : \"\"\n      };\n    } else {\n      if (props.showSummary) {\n        return {\n          height: layout.tableHeight.value ? `${layout.tableHeight.value}px` : \"\"\n        };\n      }\n      return {\n        height: layout.viewportHeight.value ? `${layout.viewportHeight.value}px` : \"\"\n      };\n    }\n  });\n  const fixedBodyHeight = computed(() => {\n    if (props.height) {\n      return {\n        height: layout.fixedBodyHeight.value ? `${layout.fixedBodyHeight.value}px` : \"\"\n      };\n    } else if (props.maxHeight) {\n      let maxHeight = parseHeight(props.maxHeight);\n      if (typeof maxHeight === \"number\") {\n        maxHeight = layout.scrollX.value ? maxHeight - layout.gutterWidth : maxHeight;\n        if (props.showHeader) {\n          maxHeight -= layout.headerHeight.value;\n        }\n        maxHeight -= layout.footerHeight.value;\n        return {\n          \"max-height\": `${maxHeight}px`\n        };\n      }\n    }\n    return {};\n  });\n  return {\n    isHidden,\n    renderExpanded,\n    setDragVisible,\n    isGroup,\n    handleMouseLeave,\n    handleHeaderFooterMousewheel,\n    tableSize,\n    bodyHeight,\n    emptyBlockStyle,\n    handleFixedMousewheel,\n    fixedHeight,\n    fixedBodyHeight,\n    resizeProxyVisible,\n    bodyWidth,\n    resizeState,\n    doLayout\n  };\n}\n\nvar defaultProps$1 = {\n  data: {\n    type: Array,\n    default: () => {\n      return [];\n    }\n  },\n  size: String,\n  width: [String, Number],\n  height: [String, Number],\n  maxHeight: [String, Number],\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  stripe: Boolean,\n  border: Boolean,\n  rowKey: [String, Function],\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  showSummary: Boolean,\n  sumText: String,\n  summaryMethod: Function,\n  rowClassName: [String, Function],\n  rowStyle: [Object, Function],\n  cellClassName: [String, Function],\n  cellStyle: [Object, Function],\n  headerRowClassName: [String, Function],\n  headerRowStyle: [Object, Function],\n  headerCellClassName: [String, Function],\n  headerCellStyle: [Object, Function],\n  highlightCurrentRow: Boolean,\n  currentRowKey: [String, Number],\n  emptyText: String,\n  expandRowKeys: Array,\n  defaultExpandAll: Boolean,\n  defaultSort: Object,\n  tooltipEffect: String,\n  spanMethod: Function,\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  indent: {\n    type: Number,\n    default: 16\n  },\n  treeProps: {\n    type: Object,\n    default: () => {\n      return {\n        hasChildren: \"hasChildren\",\n        children: \"children\"\n      };\n    }\n  },\n  lazy: Boolean,\n  load: Function,\n  style: {\n    type: Object,\n    default: () => ({})\n  },\n  className: {\n    type: String,\n    default: \"\"\n  }\n};\n\nlet tableIdSeed = 1;\nvar script = defineComponent({\n  name: \"ElTable\",\n  directives: {\n    Mousewheel\n  },\n  components: {\n    TableHeader,\n    TableBody,\n    TableFooter\n  },\n  props: defaultProps$1,\n  emits: [\n    \"select\",\n    \"select-all\",\n    \"selection-change\",\n    \"cell-mouse-enter\",\n    \"cell-mouse-leave\",\n    \"cell-contextmenu\",\n    \"cell-click\",\n    \"cell-dblclick\",\n    \"row-click\",\n    \"row-contextmenu\",\n    \"row-dblclick\",\n    \"header-click\",\n    \"header-contextmenu\",\n    \"sort-change\",\n    \"filter-change\",\n    \"current-change\",\n    \"header-dragend\",\n    \"expand-change\"\n  ],\n  setup(props) {\n    const { t } = useLocaleInject();\n    const table = getCurrentInstance();\n    const store = createStore(table, props);\n    table.store = store;\n    const layout = new TableLayout$1({\n      store: table.store,\n      table,\n      fit: props.fit,\n      showHeader: props.showHeader\n    });\n    table.layout = layout;\n    const isEmpty = computed(() => (store.states.data.value || []).length === 0);\n    const {\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      sort\n    } = useUtils(store);\n    const {\n      isHidden,\n      renderExpanded,\n      setDragVisible,\n      isGroup,\n      handleMouseLeave,\n      handleHeaderFooterMousewheel,\n      tableSize,\n      bodyHeight,\n      emptyBlockStyle,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      resizeProxyVisible,\n      bodyWidth,\n      resizeState,\n      doLayout\n    } = useStyle(props, layout, store, table);\n    const debouncedUpdateLayout = debounce(doLayout, 50);\n    const tableId = `el-table_${tableIdSeed++}`;\n    table.tableId = tableId;\n    table.state = {\n      isGroup,\n      resizeState,\n      doLayout,\n      debouncedUpdateLayout\n    };\n    return {\n      layout,\n      store,\n      handleHeaderFooterMousewheel,\n      handleMouseLeave,\n      tableId,\n      tableSize,\n      isHidden,\n      isEmpty,\n      renderExpanded,\n      resizeProxyVisible,\n      resizeState,\n      isGroup,\n      bodyWidth,\n      bodyHeight,\n      emptyBlockStyle,\n      debouncedUpdateLayout,\n      handleFixedMousewheel,\n      fixedHeight,\n      fixedBodyHeight,\n      setCurrentRow,\n      toggleRowSelection,\n      clearSelection,\n      clearFilter,\n      toggleAllSelection,\n      toggleRowExpansion,\n      clearSort,\n      doLayout,\n      sort,\n      t,\n      setDragVisible,\n      context: table\n    };\n  }\n});\n\nconst _hoisted_1 = {\n  ref: \"hiddenColumns\",\n  class: \"hidden-columns\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  ref: \"headerWrapper\",\n  class: \"el-table__header-wrapper\"\n};\nconst _hoisted_3 = { class: \"el-table__empty-text\" };\nconst _hoisted_4 = {\n  key: 1,\n  ref: \"appendWrapper\",\n  class: \"el-table__append-wrapper\"\n};\nconst _hoisted_5 = {\n  key: 1,\n  ref: \"footerWrapper\",\n  class: \"el-table__footer-wrapper\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  ref: \"fixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  ref: \"fixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  ref: \"rightFixedHeaderWrapper\",\n  class: \"el-table__fixed-header-wrapper\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  ref: \"rightFixedFooterWrapper\",\n  class: \"el-table__fixed-footer-wrapper\"\n};\nconst _hoisted_10 = {\n  ref: \"resizeProxy\",\n  class: \"el-table__column-resize-proxy\"\n};\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_table_header = resolveComponent(\"table-header\");\n  const _component_table_body = resolveComponent(\"table-body\");\n  const _component_table_footer = resolveComponent(\"table-footer\");\n  const _directive_mousewheel = resolveDirective(\"mousewheel\");\n  return openBlock(), createElementBlock(\"div\", {\n    class: normalizeClass([\n      {\n        \"el-table--fit\": _ctx.fit,\n        \"el-table--striped\": _ctx.stripe,\n        \"el-table--border\": _ctx.border || _ctx.isGroup,\n        \"el-table--hidden\": _ctx.isHidden,\n        \"el-table--group\": _ctx.isGroup,\n        \"el-table--fluid-height\": _ctx.maxHeight,\n        \"el-table--scrollable-x\": _ctx.layout.scrollX.value,\n        \"el-table--scrollable-y\": _ctx.layout.scrollY.value,\n        \"el-table--enable-row-hover\": !_ctx.store.states.isComplex.value,\n        \"el-table--enable-row-transition\": (_ctx.store.states.data.value || []).length !== 0 && (_ctx.store.states.data.value || []).length < 100\n      },\n      _ctx.tableSize ? `el-table--${_ctx.tableSize}` : \"\",\n      _ctx.className,\n      \"el-table\"\n    ]),\n    style: normalizeStyle(_ctx.style),\n    onMouseleave: _cache[0] || (_cache[0] = ($event) => _ctx.handleMouseLeave())\n  }, [\n    createElementVNode(\"div\", _hoisted_1, [\n      renderSlot(_ctx.$slots, \"default\")\n    ], 512),\n    _ctx.showHeader ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_2, [\n      createVNode(_component_table_header, {\n        ref: \"tableHeader\",\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: normalizeStyle({\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        }),\n        onSetDragVisible: _ctx.setDragVisible\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"onSetDragVisible\"])\n    ], 512)), [\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    createElementVNode(\"div\", {\n      ref: \"bodyWrapper\",\n      style: normalizeStyle([_ctx.bodyHeight]),\n      class: \"el-table__body-wrapper\"\n    }, [\n      createVNode(_component_table_body, {\n        context: _ctx.context,\n        highlight: _ctx.highlightCurrentRow,\n        \"row-class-name\": _ctx.rowClassName,\n        \"tooltip-effect\": _ctx.tooltipEffect,\n        \"row-style\": _ctx.rowStyle,\n        store: _ctx.store,\n        stripe: _ctx.stripe,\n        style: normalizeStyle({\n          width: _ctx.bodyWidth\n        })\n      }, null, 8, [\"context\", \"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n      _ctx.isEmpty ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        ref: \"emptyBlock\",\n        style: normalizeStyle(_ctx.emptyBlockStyle),\n        class: \"el-table__empty-block\"\n      }, [\n        createElementVNode(\"span\", _hoisted_3, [\n          renderSlot(_ctx.$slots, \"empty\", {}, () => [\n            createTextVNode(toDisplayString(_ctx.emptyText || _ctx.t(\"el.table.emptyText\")), 1)\n          ])\n        ])\n      ], 4)) : createCommentVNode(\"v-if\", true),\n      _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", _hoisted_4, [\n        renderSlot(_ctx.$slots, \"append\")\n      ], 512)) : createCommentVNode(\"v-if\", true)\n    ], 4),\n    _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_5, [\n      createVNode(_component_table_footer, {\n        border: _ctx.border,\n        \"default-sort\": _ctx.defaultSort,\n        store: _ctx.store,\n        style: normalizeStyle({\n          width: _ctx.layout.bodyWidth.value ? _ctx.layout.bodyWidth.value + \"px\" : \"\"\n        }),\n        \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n        \"summary-method\": _ctx.summaryMethod\n      }, null, 8, [\"border\", \"default-sort\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n    ], 512)), [\n      [vShow, !_ctx.isEmpty],\n      [_directive_mousewheel, _ctx.handleHeaderFooterMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.fixedColumns.value.length > 0 ? withDirectives((openBlock(), createElementBlock(\"div\", {\n      key: 2,\n      ref: \"fixedWrapper\",\n      style: normalizeStyle([\n        {\n          width: _ctx.layout.fixedWidth.value ? _ctx.layout.fixedWidth.value + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ]),\n      class: \"el-table__fixed\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createElementBlock(\"div\", _hoisted_6, [\n        createVNode(_component_table_header, {\n          ref: \"fixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          fixed: \"left\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createElementVNode(\"div\", {\n        ref: \"fixedBodyWrapper\",\n        style: normalizeStyle([\n          {\n            top: _ctx.layout.headerHeight.value + \"px\"\n          },\n          _ctx.fixedBodyHeight\n        ]),\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          fixed: \"left\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          style: normalizeStyle({ height: _ctx.layout.appendHeight.value + \"px\" }),\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_7, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"left\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? withDirectives((openBlock(), createElementBlock(\"div\", {\n      key: 3,\n      ref: \"rightFixedWrapper\",\n      style: normalizeStyle([\n        {\n          width: _ctx.layout.rightFixedWidth.value ? _ctx.layout.rightFixedWidth.value + \"px\" : \"\",\n          right: _ctx.layout.scrollY.value ? (_ctx.border ? _ctx.layout.gutterWidth : _ctx.layout.gutterWidth || 0) + \"px\" : \"\"\n        },\n        _ctx.fixedHeight\n      ]),\n      class: \"el-table__fixed-right\"\n    }, [\n      _ctx.showHeader ? (openBlock(), createElementBlock(\"div\", _hoisted_8, [\n        createVNode(_component_table_header, {\n          ref: \"rightFixedTableHeader\",\n          border: _ctx.border,\n          store: _ctx.store,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          fixed: \"right\",\n          onSetDragVisible: _ctx.setDragVisible\n        }, null, 8, [\"border\", \"store\", \"style\", \"onSetDragVisible\"])\n      ], 512)) : createCommentVNode(\"v-if\", true),\n      createElementVNode(\"div\", {\n        ref: \"rightFixedBodyWrapper\",\n        style: normalizeStyle([{ top: _ctx.layout.headerHeight.value + \"px\" }, _ctx.fixedBodyHeight]),\n        class: \"el-table__fixed-body-wrapper\"\n      }, [\n        createVNode(_component_table_body, {\n          highlight: _ctx.highlightCurrentRow,\n          \"row-class-name\": _ctx.rowClassName,\n          \"tooltip-effect\": _ctx.tooltipEffect,\n          \"row-style\": _ctx.rowStyle,\n          store: _ctx.store,\n          stripe: _ctx.stripe,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          fixed: \"right\"\n        }, null, 8, [\"highlight\", \"row-class-name\", \"tooltip-effect\", \"row-style\", \"store\", \"stripe\", \"style\"]),\n        _ctx.$slots.append ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          style: normalizeStyle({ height: _ctx.layout.appendHeight.value + \"px\" }),\n          class: \"el-table__append-gutter\"\n        }, null, 4)) : createCommentVNode(\"v-if\", true)\n      ], 4),\n      _ctx.showSummary ? withDirectives((openBlock(), createElementBlock(\"div\", _hoisted_9, [\n        createVNode(_component_table_footer, {\n          border: _ctx.border,\n          store: _ctx.store,\n          style: normalizeStyle({\n            width: _ctx.bodyWidth\n          }),\n          \"sum-text\": _ctx.sumText || _ctx.t(\"el.table.sumText\"),\n          \"summary-method\": _ctx.summaryMethod,\n          fixed: \"right\"\n        }, null, 8, [\"border\", \"store\", \"style\", \"sum-text\", \"summary-method\"])\n      ], 512)), [\n        [vShow, !_ctx.isEmpty]\n      ]) : createCommentVNode(\"v-if\", true)\n    ], 4)), [\n      [_directive_mousewheel, _ctx.handleFixedMousewheel]\n    ]) : createCommentVNode(\"v-if\", true),\n    _ctx.store.states.rightFixedColumns.value.length > 0 ? (openBlock(), createElementBlock(\"div\", {\n      key: 4,\n      ref: \"rightFixedPatch\",\n      style: normalizeStyle({\n        width: _ctx.layout.scrollY.value ? _ctx.layout.gutterWidth + \"px\" : \"0\",\n        height: _ctx.layout.headerHeight.value + \"px\"\n      }),\n      class: \"el-table__fixed-right-patch\"\n    }, null, 4)) : createCommentVNode(\"v-if\", true),\n    withDirectives(createElementVNode(\"div\", _hoisted_10, null, 512), [\n      [vShow, _ctx.resizeProxyVisible]\n    ])\n  ], 38);\n}\n\nscript.render = render;\nscript.__file = \"packages/components/table/src/table.vue\";\n\nconst cellStarts = {\n  default: {\n    order: \"\"\n  },\n  selection: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\",\n    className: \"el-table-column--selection\"\n  },\n  expand: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  },\n  index: {\n    width: 48,\n    minWidth: 48,\n    realWidth: 48,\n    order: \"\"\n  }\n};\nconst cellForced = {\n  selection: {\n    renderHeader({ store }) {\n      function isDisabled() {\n        return store.states.data.value && store.states.data.value.length === 0;\n      }\n      return h(ElCheckbox, {\n        disabled: isDisabled(),\n        indeterminate: store.states.selection.value.length > 0 && !store.states.isAllSelected.value,\n        \"onUpdate:modelValue\": store.toggleAllSelection,\n        modelValue: store.states.isAllSelected.value\n      });\n    },\n    renderCell({\n      row,\n      column,\n      store,\n      $index\n    }) {\n      return h(ElCheckbox, {\n        disabled: column.selectable ? !column.selectable.call(null, row, $index) : false,\n        onChange: () => {\n          store.commit(\"rowSelectedChanged\", row);\n        },\n        onClick: (event) => event.stopPropagation(),\n        modelValue: store.isSelected(row)\n      });\n    },\n    sortable: false,\n    resizable: false\n  },\n  index: {\n    renderHeader({ column }) {\n      return column.label || \"#\";\n    },\n    renderCell({\n      column,\n      $index\n    }) {\n      let i = $index + 1;\n      const index = column.index;\n      if (typeof index === \"number\") {\n        i = $index + index;\n      } else if (typeof index === \"function\") {\n        i = index($index);\n      }\n      return h(\"div\", {}, [i]);\n    },\n    sortable: false\n  },\n  expand: {\n    renderHeader({ column }) {\n      return column.label || \"\";\n    },\n    renderCell({ row, store }) {\n      const classes = [\"el-table__expand-icon\"];\n      if (store.states.expandRows.value.indexOf(row) > -1) {\n        classes.push(\"el-table__expand-icon--expanded\");\n      }\n      const callback = function(e) {\n        e.stopPropagation();\n        store.toggleRowExpansion(row);\n      };\n      return h(\"div\", {\n        class: classes,\n        onClick: callback\n      }, [\n        h(\"i\", {\n          class: \"el-icon el-icon-arrow-right\"\n        })\n      ]);\n    },\n    sortable: false,\n    resizable: false,\n    className: \"el-table__expand-column\"\n  }\n};\nfunction defaultRenderCell({\n  row,\n  column,\n  $index\n}) {\n  var _a;\n  const property = column.property;\n  const value = property && getPropByPath(row, property, false).v;\n  if (column && column.formatter) {\n    return column.formatter(row, column, value, $index);\n  }\n  return ((_a = value == null ? void 0 : value.toString) == null ? void 0 : _a.call(value)) || \"\";\n}\nfunction treeCellPrefix({\n  row,\n  treeNode,\n  store\n}) {\n  if (!treeNode)\n    return null;\n  const ele = [];\n  const callback = function(e) {\n    e.stopPropagation();\n    store.loadOrToggle(row);\n  };\n  if (treeNode.indent) {\n    ele.push(h(\"span\", {\n      class: \"el-table__indent\",\n      style: { \"padding-left\": `${treeNode.indent}px` }\n    }));\n  }\n  if (typeof treeNode.expanded === \"boolean\" && !treeNode.noLazyChildren) {\n    const expandClasses = [\n      \"el-table__expand-icon\",\n      treeNode.expanded ? \"el-table__expand-icon--expanded\" : \"\"\n    ];\n    let iconClasses = [\"el-icon-arrow-right\"];\n    if (treeNode.loading) {\n      iconClasses = [\"el-icon-loading\"];\n    }\n    ele.push(h(\"div\", {\n      class: expandClasses,\n      onClick: callback\n    }, [\n      h(\"i\", {\n        class: iconClasses\n      })\n    ]));\n  } else {\n    ele.push(h(\"span\", {\n      class: \"el-table__placeholder\"\n    }));\n  }\n  return ele;\n}\n\nfunction useWatcher(owner, props_) {\n  const instance = getCurrentInstance();\n  const registerComplexWatchers = () => {\n    const props = [\"fixed\"];\n    const aliases = {\n      realWidth: \"width\",\n      realMinWidth: \"minWidth\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key];\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], (newVal) => {\n          let value = newVal;\n          if (columnKey === \"width\" && key === \"realWidth\") {\n            value = parseWidth(newVal);\n          }\n          if (columnKey === \"minWidth\" && key === \"realMinWidth\") {\n            value = parseMinWidth(newVal);\n          }\n          instance.columnConfig.value[columnKey] = value;\n          instance.columnConfig.value[key] = value;\n          const updateColumns = columnKey === \"fixed\";\n          owner.value.store.scheduleLayout(updateColumns);\n        });\n      }\n    });\n  };\n  const registerNormalWatchers = () => {\n    const props = [\n      \"label\",\n      \"filters\",\n      \"filterMultiple\",\n      \"sortable\",\n      \"index\",\n      \"formatter\",\n      \"className\",\n      \"labelClassName\",\n      \"showOverflowTooltip\"\n    ];\n    const aliases = {\n      property: \"prop\",\n      align: \"realAlign\",\n      headerAlign: \"realHeaderAlign\"\n    };\n    const allAliases = props.reduce((prev, cur) => {\n      prev[cur] = cur;\n      return prev;\n    }, aliases);\n    Object.keys(allAliases).forEach((key) => {\n      const columnKey = aliases[key];\n      if (hasOwn(props_, columnKey)) {\n        watch(() => props_[columnKey], (newVal) => {\n          instance.columnConfig.value[key] = newVal;\n        });\n      }\n    });\n  };\n  return {\n    registerComplexWatchers,\n    registerNormalWatchers\n  };\n}\n\nfunction useRender(props, slots, owner) {\n  const instance = getCurrentInstance();\n  const columnId = ref(\"\");\n  const isSubColumn = ref(false);\n  const realAlign = ref();\n  const realHeaderAlign = ref();\n  watchEffect(() => {\n    realAlign.value = props.align ? `is-${props.align}` : null;\n    realAlign.value;\n  });\n  watchEffect(() => {\n    realHeaderAlign.value = props.headerAlign ? `is-${props.headerAlign}` : realAlign.value;\n    realHeaderAlign.value;\n  });\n  const columnOrTableParent = computed(() => {\n    let parent = instance.vnode.vParent || instance.parent;\n    while (parent && !parent.tableId && !parent.columnId) {\n      parent = parent.vnode.vParent || parent.parent;\n    }\n    return parent;\n  });\n  const realWidth = ref(parseWidth(props.width));\n  const realMinWidth = ref(parseMinWidth(props.minWidth));\n  const setColumnWidth = (column) => {\n    if (realWidth.value)\n      column.width = realWidth.value;\n    if (realMinWidth.value) {\n      column.minWidth = realMinWidth.value;\n    }\n    if (!column.minWidth) {\n      column.minWidth = 80;\n    }\n    column.realWidth = Number(column.width === void 0 ? column.minWidth : column.width);\n    return column;\n  };\n  const setColumnForcedProps = (column) => {\n    const type = column.type;\n    const source = cellForced[type] || {};\n    Object.keys(source).forEach((prop) => {\n      const value = source[prop];\n      if (value !== void 0) {\n        column[prop] = prop === \"className\" ? `${column[prop]} ${value}` : value;\n      }\n    });\n    return column;\n  };\n  const checkSubColumn = (children) => {\n    if (children instanceof Array) {\n      children.forEach((child) => check(child));\n    } else {\n      check(children);\n    }\n    function check(item) {\n      var _a;\n      if (((_a = item == null ? void 0 : item.type) == null ? void 0 : _a.name) === \"ElTableColumn\") {\n        item.vParent = instance;\n      }\n    }\n  };\n  const setColumnRenders = (column) => {\n    if (props.renderHeader) {\n      debugWarn(\"TableColumn\", \"Comparing to render-header, scoped-slot header is easier to use. We recommend users to use scoped-slot header.\");\n    } else if (column.type !== \"selection\") {\n      column.renderHeader = (scope) => {\n        instance.columnConfig.value[\"label\"];\n        const renderHeader = slots.header;\n        return renderHeader ? renderHeader(scope) : column.label;\n      };\n    }\n    let originRenderCell = column.renderCell;\n    if (column.type === \"expand\") {\n      column.renderCell = (data) => h(\"div\", {\n        class: \"cell\"\n      }, [originRenderCell(data)]);\n      owner.value.renderExpanded = (data) => {\n        return slots.default ? slots.default(data) : slots.default;\n      };\n    } else {\n      originRenderCell = originRenderCell || defaultRenderCell;\n      column.renderCell = (data) => {\n        let children = null;\n        if (slots.default) {\n          children = slots.default(data);\n        } else {\n          children = originRenderCell(data);\n        }\n        const prefix = treeCellPrefix(data);\n        const props2 = {\n          class: \"cell\",\n          style: {}\n        };\n        if (column.showOverflowTooltip) {\n          props2.class += \" el-tooltip\";\n          props2.style = {\n            width: `${(data.column.realWidth || Number(data.column.width)) - 1}px`\n          };\n        }\n        checkSubColumn(children);\n        return h(\"div\", props2, [prefix, children]);\n      };\n    }\n    return column;\n  };\n  const getPropsData = (...propsKey) => {\n    return propsKey.reduce((prev, cur) => {\n      if (Array.isArray(cur)) {\n        cur.forEach((key) => {\n          prev[key] = props[key];\n        });\n      }\n      return prev;\n    }, {});\n  };\n  const getColumnElIndex = (children, child) => {\n    return [].indexOf.call(children, child);\n  };\n  return {\n    columnId,\n    realAlign,\n    isSubColumn,\n    realHeaderAlign,\n    columnOrTableParent,\n    setColumnWidth,\n    setColumnForcedProps,\n    setColumnRenders,\n    getPropsData,\n    getColumnElIndex\n  };\n}\n\nvar defaultProps = {\n  type: {\n    type: String,\n    default: \"default\"\n  },\n  label: String,\n  className: String,\n  labelClassName: String,\n  property: String,\n  prop: String,\n  width: {\n    type: [String, Number],\n    default: \"\"\n  },\n  minWidth: {\n    type: [String, Number],\n    default: \"\"\n  },\n  renderHeader: Function,\n  sortable: {\n    type: [Boolean, String],\n    default: false\n  },\n  sortMethod: Function,\n  sortBy: [String, Function, Array],\n  resizable: {\n    type: Boolean,\n    default: true\n  },\n  columnKey: String,\n  align: String,\n  headerAlign: String,\n  showTooltipWhenOverflow: Boolean,\n  showOverflowTooltip: Boolean,\n  fixed: [Boolean, String],\n  formatter: Function,\n  selectable: Function,\n  reserveSelection: Boolean,\n  filterMethod: Function,\n  filteredValue: Array,\n  filters: Array,\n  filterPlacement: String,\n  filterMultiple: {\n    type: Boolean,\n    default: true\n  },\n  index: [Number, Function],\n  sortOrders: {\n    type: Array,\n    default: () => {\n      return [\"ascending\", \"descending\", null];\n    },\n    validator: (val) => {\n      return val.every((order) => [\"ascending\", \"descending\", null].indexOf(order) > -1);\n    }\n  }\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nlet columnIdSeed = 1;\nvar ElTableColumn$1 = defineComponent({\n  name: \"ElTableColumn\",\n  components: {\n    ElCheckbox\n  },\n  props: defaultProps,\n  setup(props, { slots }) {\n    const instance = getCurrentInstance();\n    const columnConfig = ref({});\n    const owner = computed(() => {\n      let parent2 = instance.parent;\n      while (parent2 && !parent2.tableId) {\n        parent2 = parent2.parent;\n      }\n      return parent2;\n    });\n    const { registerNormalWatchers, registerComplexWatchers } = useWatcher(owner, props);\n    const {\n      columnId,\n      isSubColumn,\n      realHeaderAlign,\n      columnOrTableParent,\n      setColumnWidth,\n      setColumnForcedProps,\n      setColumnRenders,\n      getPropsData,\n      getColumnElIndex,\n      realAlign\n    } = useRender(props, slots, owner);\n    const parent = columnOrTableParent.value;\n    columnId.value = `${parent.tableId || parent.columnId}_column_${columnIdSeed++}`;\n    onBeforeMount(() => {\n      isSubColumn.value = owner.value !== parent;\n      const type = props.type || \"default\";\n      const sortable = props.sortable === \"\" ? true : props.sortable;\n      const defaults = __spreadProps(__spreadValues({}, cellStarts[type]), {\n        id: columnId.value,\n        type,\n        property: props.prop || props.property,\n        align: realAlign,\n        headerAlign: realHeaderAlign,\n        showOverflowTooltip: props.showOverflowTooltip || props.showTooltipWhenOverflow,\n        filterable: props.filters || props.filterMethod,\n        filteredValue: [],\n        filterPlacement: \"\",\n        isColumnGroup: false,\n        filterOpened: false,\n        sortable,\n        index: props.index,\n        rawColumnKey: instance.vnode.key\n      });\n      const basicProps = [\n        \"columnKey\",\n        \"label\",\n        \"className\",\n        \"labelClassName\",\n        \"type\",\n        \"renderHeader\",\n        \"formatter\",\n        \"fixed\",\n        \"resizable\"\n      ];\n      const sortProps = [\"sortMethod\", \"sortBy\", \"sortOrders\"];\n      const selectProps = [\"selectable\", \"reserveSelection\"];\n      const filterProps = [\n        \"filterMethod\",\n        \"filters\",\n        \"filterMultiple\",\n        \"filterOpened\",\n        \"filteredValue\",\n        \"filterPlacement\"\n      ];\n      let column = getPropsData(basicProps, sortProps, selectProps, filterProps);\n      column = mergeOptions(defaults, column);\n      const chains = compose(setColumnRenders, setColumnWidth, setColumnForcedProps);\n      column = chains(column);\n      columnConfig.value = column;\n      registerNormalWatchers();\n      registerComplexWatchers();\n    });\n    onMounted(() => {\n      var _a;\n      const parent2 = columnOrTableParent.value;\n      const children = isSubColumn.value ? parent2.vnode.el.children : (_a = parent2.refs.hiddenColumns) == null ? void 0 : _a.children;\n      const getColumnIndex = () => getColumnElIndex(children || [], instance.vnode.el);\n      columnConfig.value.getColumnIndex = getColumnIndex;\n      const columnIndex = getColumnIndex();\n      columnIndex > -1 && owner.value.store.commit(\"insertColumn\", columnConfig.value, isSubColumn.value ? parent2.columnConfig.value : null);\n    });\n    onBeforeUnmount(() => {\n      owner.value.store.commit(\"removeColumn\", columnConfig.value, isSubColumn.value ? parent.columnConfig.value : null);\n    });\n    instance.columnId = columnId.value;\n    instance.columnConfig = columnConfig;\n    return;\n  },\n  render() {\n    var _a, _b, _c;\n    let children = [];\n    try {\n      const renderDefault = (_b = (_a = this.$slots).default) == null ? void 0 : _b.call(_a, {\n        row: {},\n        column: {},\n        $index: -1\n      });\n      if (renderDefault instanceof Array) {\n        for (const childNode of renderDefault) {\n          if (((_c = childNode.type) == null ? void 0 : _c.name) === \"ElTableColumn\" || childNode.shapeFlag & 2) {\n            children.push(childNode);\n          } else if (childNode.type === Fragment && childNode.children instanceof Array) {\n            children.push(...childNode.children);\n          }\n        }\n      }\n    } catch (e) {\n      children = [];\n    }\n    return h(\"div\", children);\n  }\n});\n\nconst ElTable = withInstall(script, {\n  TableColumn: ElTableColumn$1\n});\nconst ElTableColumn = withNoopInstall(ElTableColumn$1);\n\nexport { ElTable, ElTableColumn, ElTable as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}