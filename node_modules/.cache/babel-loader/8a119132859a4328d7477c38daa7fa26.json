{"ast":null,"code":"import { computed, getCurrentInstance } from 'vue';\nimport { isArray } from 'element-plus/es/utils/util';\nexport const DEFAULT_TRIGGER = 'hover';\nexport const useTargetEvents = (onShow, onHide, onToggle) => {\n  const {\n    props\n  } = getCurrentInstance();\n  let triggerFocused = false;\n\n  const popperEventsHandler = e => {\n    e.stopPropagation();\n\n    switch (e.type) {\n      case 'click':\n        {\n          if (triggerFocused) {\n            triggerFocused = false;\n          } else {\n            onToggle();\n          }\n\n          break;\n        }\n\n      case 'mouseenter':\n        {\n          onShow();\n          break;\n        }\n\n      case 'mouseleave':\n        {\n          onHide();\n          break;\n        }\n\n      case 'focus':\n        {\n          triggerFocused = true;\n          onShow();\n          break;\n        }\n\n      case 'blur':\n        {\n          triggerFocused = false;\n          onHide();\n          break;\n        }\n    }\n  };\n\n  const triggerEventsMap = {\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    focus: ['onFocus', 'onBlur']\n  };\n\n  const mapEvents = t => {\n    const events = {};\n    triggerEventsMap[t].forEach(event => {\n      events[event] = popperEventsHandler;\n    });\n    return events;\n  };\n\n  return computed(() => {\n    if (isArray(props.trigger)) {\n      return Object.values(props.trigger).reduce((pre, t) => {\n        return Object.assign(Object.assign({}, pre), mapEvents(t));\n      }, {});\n    } else {\n      return mapEvents(props.trigger);\n    }\n  });\n};","map":{"version":3,"names":["computed","getCurrentInstance","isArray","DEFAULT_TRIGGER","useTargetEvents","onShow","onHide","onToggle","props","triggerFocused","popperEventsHandler","e","stopPropagation","type","triggerEventsMap","click","hover","focus","mapEvents","t","events","forEach","event","trigger","Object","values","reduce","pre","assign"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/hooks/use-popper/use-target-events.js"],"sourcesContent":["import { computed, getCurrentInstance } from 'vue';\nimport { isArray } from 'element-plus/es/utils/util';\nexport const DEFAULT_TRIGGER = 'hover';\nexport const useTargetEvents = (onShow, onHide, onToggle) => {\n    const { props } = getCurrentInstance();\n    let triggerFocused = false;\n    const popperEventsHandler = (e) => {\n        e.stopPropagation();\n        switch (e.type) {\n            case 'click': {\n                if (triggerFocused) {\n                    triggerFocused = false;\n                }\n                else {\n                    onToggle();\n                }\n                break;\n            }\n            case 'mouseenter': {\n                onShow();\n                break;\n            }\n            case 'mouseleave': {\n                onHide();\n                break;\n            }\n            case 'focus': {\n                triggerFocused = true;\n                onShow();\n                break;\n            }\n            case 'blur': {\n                triggerFocused = false;\n                onHide();\n                break;\n            }\n        }\n    };\n    const triggerEventsMap = {\n        click: ['onClick'],\n        hover: ['onMouseenter', 'onMouseleave'],\n        focus: ['onFocus', 'onBlur'],\n    };\n    const mapEvents = (t) => {\n        const events = {};\n        triggerEventsMap[t].forEach((event) => {\n            events[event] = popperEventsHandler;\n        });\n        return events;\n    };\n    return computed(() => {\n        if (isArray(props.trigger)) {\n            return Object.values(props.trigger).reduce((pre, t) => {\n                return Object.assign(Object.assign({}, pre), mapEvents(t));\n            }, {});\n        }\n        else {\n            return mapEvents(props.trigger);\n        }\n    });\n};\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,kBAAnB,QAA6C,KAA7C;AACA,SAASC,OAAT,QAAwB,4BAAxB;AACA,OAAO,MAAMC,eAAe,GAAG,OAAxB;AACP,OAAO,MAAMC,eAAe,GAAG,CAACC,MAAD,EAASC,MAAT,EAAiBC,QAAjB,KAA8B;EACzD,MAAM;IAAEC;EAAF,IAAYP,kBAAkB,EAApC;EACA,IAAIQ,cAAc,GAAG,KAArB;;EACA,MAAMC,mBAAmB,GAAIC,CAAD,IAAO;IAC/BA,CAAC,CAACC,eAAF;;IACA,QAAQD,CAAC,CAACE,IAAV;MACI,KAAK,OAAL;QAAc;UACV,IAAIJ,cAAJ,EAAoB;YAChBA,cAAc,GAAG,KAAjB;UACH,CAFD,MAGK;YACDF,QAAQ;UACX;;UACD;QACH;;MACD,KAAK,YAAL;QAAmB;UACfF,MAAM;UACN;QACH;;MACD,KAAK,YAAL;QAAmB;UACfC,MAAM;UACN;QACH;;MACD,KAAK,OAAL;QAAc;UACVG,cAAc,GAAG,IAAjB;UACAJ,MAAM;UACN;QACH;;MACD,KAAK,MAAL;QAAa;UACTI,cAAc,GAAG,KAAjB;UACAH,MAAM;UACN;QACH;IA3BL;EA6BH,CA/BD;;EAgCA,MAAMQ,gBAAgB,GAAG;IACrBC,KAAK,EAAE,CAAC,SAAD,CADc;IAErBC,KAAK,EAAE,CAAC,cAAD,EAAiB,cAAjB,CAFc;IAGrBC,KAAK,EAAE,CAAC,SAAD,EAAY,QAAZ;EAHc,CAAzB;;EAKA,MAAMC,SAAS,GAAIC,CAAD,IAAO;IACrB,MAAMC,MAAM,GAAG,EAAf;IACAN,gBAAgB,CAACK,CAAD,CAAhB,CAAoBE,OAApB,CAA6BC,KAAD,IAAW;MACnCF,MAAM,CAACE,KAAD,CAAN,GAAgBZ,mBAAhB;IACH,CAFD;IAGA,OAAOU,MAAP;EACH,CAND;;EAOA,OAAOpB,QAAQ,CAAC,MAAM;IAClB,IAAIE,OAAO,CAACM,KAAK,CAACe,OAAP,CAAX,EAA4B;MACxB,OAAOC,MAAM,CAACC,MAAP,CAAcjB,KAAK,CAACe,OAApB,EAA6BG,MAA7B,CAAoC,CAACC,GAAD,EAAMR,CAAN,KAAY;QACnD,OAAOK,MAAM,CAACI,MAAP,CAAcJ,MAAM,CAACI,MAAP,CAAc,EAAd,EAAkBD,GAAlB,CAAd,EAAsCT,SAAS,CAACC,CAAD,CAA/C,CAAP;MACH,CAFM,EAEJ,EAFI,CAAP;IAGH,CAJD,MAKK;MACD,OAAOD,SAAS,CAACV,KAAK,CAACe,OAAP,CAAhB;IACH;EACJ,CATc,CAAf;AAUH,CAzDM"},"metadata":{},"sourceType":"module"}