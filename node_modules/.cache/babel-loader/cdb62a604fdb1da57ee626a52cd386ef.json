{"ast":null,"code":"import { withInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, ref, effectScope, computed, watch, nextTick, onMounted, openBlock, createBlock, Transition, withCtx, createElementVNode, normalizeStyle, withModifiers, createCommentVNode, createElementBlock, Fragment, normalizeClass, renderList, withDirectives, vShow, renderSlot } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { useLocaleInject } from 'element-plus/es/hooks';\nimport { EVENT_CODE } from 'element-plus/es/utils/aria';\nimport { isFirefox, rafThrottle } from 'element-plus/es/utils/util';\nimport { buildProps, definePropType, mutable } from 'element-plus/es/utils/props';\nconst imageViewerProps = buildProps({\n  urlList: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  zIndex: {\n    type: Number,\n    default: 2e3\n  },\n  initialIndex: {\n    type: Number,\n    default: 0\n  },\n  infinite: {\n    type: Boolean,\n    default: true\n  },\n  hideOnClickModal: {\n    type: Boolean,\n    default: false\n  }\n});\nconst imageViewerEmits = {\n  close: () => true,\n  switch: index => typeof index === \"number\"\n};\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\n\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, {\n  enumerable: true,\n  configurable: true,\n  writable: true,\n  value\n}) : obj[key] = value;\n\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {})) if (__hasOwnProp.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n\n  if (__getOwnPropSymbols) for (var prop of __getOwnPropSymbols(b)) {\n    if (__propIsEnum.call(b, prop)) __defNormalProp(a, prop, b[prop]);\n  }\n  return a;\n};\n\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\nconst Mode = {\n  CONTAIN: {\n    name: \"contain\",\n    icon: \"el-icon-full-screen\"\n  },\n  ORIGINAL: {\n    name: \"original\",\n    icon: \"el-icon-c-scale-to-original\"\n  }\n};\nconst mousewheelEventName = isFirefox() ? \"DOMMouseScroll\" : \"mousewheel\";\nvar script = defineComponent({\n  name: \"ElImageViewer\",\n  props: imageViewerProps,\n  emits: imageViewerEmits,\n\n  setup(props, {\n    emit\n  }) {\n    const {\n      t\n    } = useLocaleInject();\n    const wrapper = ref();\n    const img = ref();\n    const scopeEventListener = effectScope();\n    const loading = ref(true);\n    const index = ref(props.initialIndex);\n    const mode = ref(Mode.CONTAIN);\n    const transform = ref({\n      scale: 1,\n      deg: 0,\n      offsetX: 0,\n      offsetY: 0,\n      enableTransition: false\n    });\n    const isSingle = computed(() => {\n      const {\n        urlList\n      } = props;\n      return urlList.length <= 1;\n    });\n    const isFirst = computed(() => {\n      return index.value === 0;\n    });\n    const isLast = computed(() => {\n      return index.value === props.urlList.length - 1;\n    });\n    const currentImg = computed(() => {\n      return props.urlList[index.value];\n    });\n    const imgStyle = computed(() => {\n      const {\n        scale,\n        deg,\n        offsetX,\n        offsetY,\n        enableTransition\n      } = transform.value;\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? \"transform .3s\" : \"\",\n        marginLeft: `${offsetX}px`,\n        marginTop: `${offsetY}px`\n      };\n\n      if (mode.value.name === Mode.CONTAIN.name) {\n        style.maxWidth = style.maxHeight = \"100%\";\n      }\n\n      return style;\n    });\n\n    function hide() {\n      unregisterEventListener();\n      emit(\"close\");\n    }\n\n    function registerEventListener() {\n      const keydownHandler = rafThrottle(e => {\n        switch (e.code) {\n          case EVENT_CODE.esc:\n            hide();\n            break;\n\n          case EVENT_CODE.space:\n            toggleMode();\n            break;\n\n          case EVENT_CODE.left:\n            prev();\n            break;\n\n          case EVENT_CODE.up:\n            handleActions(\"zoomIn\");\n            break;\n\n          case EVENT_CODE.right:\n            next();\n            break;\n\n          case EVENT_CODE.down:\n            handleActions(\"zoomOut\");\n            break;\n        }\n      });\n      const mousewheelHandler = rafThrottle(e => {\n        const delta = e.wheelDelta ? e.wheelDelta : -e.detail;\n\n        if (delta > 0) {\n          handleActions(\"zoomIn\", {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        } else {\n          handleActions(\"zoomOut\", {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        }\n      });\n      scopeEventListener.run(() => {\n        useEventListener(document, \"keydown\", keydownHandler);\n        useEventListener(document, mousewheelEventName, mousewheelHandler);\n      });\n    }\n\n    function unregisterEventListener() {\n      scopeEventListener.stop();\n    }\n\n    function handleImgLoad() {\n      loading.value = false;\n    }\n\n    function handleImgError(e) {\n      loading.value = false;\n      e.target.alt = t(\"el.image.error\");\n    }\n\n    function handleMouseDown(e) {\n      if (loading.value || e.button !== 0 || !wrapper.value) return;\n      const {\n        offsetX,\n        offsetY\n      } = transform.value;\n      const startX = e.pageX;\n      const startY = e.pageY;\n      const divLeft = wrapper.value.clientLeft;\n      const divRight = wrapper.value.clientLeft + wrapper.value.clientWidth;\n      const divTop = wrapper.value.clientTop;\n      const divBottom = wrapper.value.clientTop + wrapper.value.clientHeight;\n      const dragHandler = rafThrottle(ev => {\n        transform.value = __spreadProps(__spreadValues({}, transform.value), {\n          offsetX: offsetX + ev.pageX - startX,\n          offsetY: offsetY + ev.pageY - startY\n        });\n      });\n      const removeMousemove = useEventListener(document, \"mousemove\", dragHandler);\n      useEventListener(document, \"mouseup\", evt => {\n        const mouseX = evt.pageX;\n        const mouseY = evt.pageY;\n\n        if (mouseX < divLeft || mouseX > divRight || mouseY < divTop || mouseY > divBottom) {\n          reset();\n        }\n\n        removeMousemove();\n      });\n      e.preventDefault();\n    }\n\n    function reset() {\n      transform.value = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      };\n    }\n\n    function toggleMode() {\n      if (loading.value) return;\n      const modeNames = Object.keys(Mode);\n      const modeValues = Object.values(Mode);\n      const currentMode = mode.value.name;\n      const index2 = modeValues.findIndex(i => i.name === currentMode);\n      const nextIndex = (index2 + 1) % modeNames.length;\n      mode.value = Mode[modeNames[nextIndex]];\n      reset();\n    }\n\n    function prev() {\n      if (isFirst.value && !props.infinite) return;\n      const len = props.urlList.length;\n      index.value = (index.value - 1 + len) % len;\n    }\n\n    function next() {\n      if (isLast.value && !props.infinite) return;\n      const len = props.urlList.length;\n      index.value = (index.value + 1) % len;\n    }\n\n    function handleActions(action, options = {}) {\n      if (loading.value) return;\n\n      const {\n        zoomRate,\n        rotateDeg,\n        enableTransition\n      } = __spreadValues({\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true\n      }, options);\n\n      switch (action) {\n        case \"zoomOut\":\n          if (transform.value.scale > 0.2) {\n            transform.value.scale = parseFloat((transform.value.scale - zoomRate).toFixed(3));\n          }\n\n          break;\n\n        case \"zoomIn\":\n          transform.value.scale = parseFloat((transform.value.scale + zoomRate).toFixed(3));\n          break;\n\n        case \"clocelise\":\n          transform.value.deg += rotateDeg;\n          break;\n\n        case \"anticlocelise\":\n          transform.value.deg -= rotateDeg;\n          break;\n      }\n\n      transform.value.enableTransition = enableTransition;\n    }\n\n    watch(currentImg, () => {\n      nextTick(() => {\n        const $img = img.value;\n\n        if (!($img == null ? void 0 : $img.complete)) {\n          loading.value = true;\n        }\n      });\n    });\n    watch(index, val => {\n      reset();\n      emit(\"switch\", val);\n    });\n    onMounted(() => {\n      var _a, _b;\n\n      registerEventListener();\n      (_b = (_a = wrapper.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    });\n    return {\n      index,\n      wrapper,\n      img,\n      isSingle,\n      isFirst,\n      isLast,\n      currentImg,\n      imgStyle,\n      mode,\n      handleActions,\n      prev,\n      next,\n      hide,\n      toggleMode,\n      handleImgLoad,\n      handleImgError,\n      handleMouseDown\n    };\n  }\n\n});\n\nconst _hoisted_1 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-icon-close\"\n}, null, -1);\n\nconst _hoisted_2 = [_hoisted_1];\n\nconst _hoisted_3 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-icon-arrow-left\"\n}, null, -1);\n\nconst _hoisted_4 = [_hoisted_3];\n\nconst _hoisted_5 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-icon-arrow-right\"\n}, null, -1);\n\nconst _hoisted_6 = [_hoisted_5];\nconst _hoisted_7 = {\n  class: \"el-image-viewer__btn el-image-viewer__actions\"\n};\nconst _hoisted_8 = {\n  class: \"el-image-viewer__actions__inner\"\n};\n\nconst _hoisted_9 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-image-viewer__actions__divider\"\n}, null, -1);\n\nconst _hoisted_10 = /* @__PURE__ */createElementVNode(\"i\", {\n  class: \"el-image-viewer__actions__divider\"\n}, null, -1);\n\nconst _hoisted_11 = {\n  class: \"el-image-viewer__canvas\"\n};\nconst _hoisted_12 = [\"src\"];\n\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, {\n    name: \"viewer-fade\"\n  }, {\n    default: withCtx(() => [createElementVNode(\"div\", {\n      ref: \"wrapper\",\n      tabindex: -1,\n      class: \"el-image-viewer__wrapper\",\n      style: normalizeStyle({\n        zIndex: _ctx.zIndex\n      })\n    }, [createElementVNode(\"div\", {\n      class: \"el-image-viewer__mask\",\n      onClick: _cache[0] || (_cache[0] = withModifiers($event => _ctx.hideOnClickModal && _ctx.hide(), [\"self\"]))\n    }), createCommentVNode(\" CLOSE \"), createElementVNode(\"span\", {\n      class: \"el-image-viewer__btn el-image-viewer__close\",\n      onClick: _cache[1] || (_cache[1] = (...args) => _ctx.hide && _ctx.hide(...args))\n    }, _hoisted_2), createCommentVNode(\" ARROW \"), !_ctx.isSingle ? (openBlock(), createElementBlock(Fragment, {\n      key: 0\n    }, [createElementVNode(\"span\", {\n      class: normalizeClass([\"el-image-viewer__btn el-image-viewer__prev\", {\n        \"is-disabled\": !_ctx.infinite && _ctx.isFirst\n      }]),\n      onClick: _cache[2] || (_cache[2] = (...args) => _ctx.prev && _ctx.prev(...args))\n    }, _hoisted_4, 2), createElementVNode(\"span\", {\n      class: normalizeClass([\"el-image-viewer__btn el-image-viewer__next\", {\n        \"is-disabled\": !_ctx.infinite && _ctx.isLast\n      }]),\n      onClick: _cache[3] || (_cache[3] = (...args) => _ctx.next && _ctx.next(...args))\n    }, _hoisted_6, 2)], 64)) : createCommentVNode(\"v-if\", true), createCommentVNode(\" ACTIONS \"), createElementVNode(\"div\", _hoisted_7, [createElementVNode(\"div\", _hoisted_8, [createElementVNode(\"i\", {\n      class: \"el-icon-zoom-out\",\n      onClick: _cache[4] || (_cache[4] = $event => _ctx.handleActions(\"zoomOut\"))\n    }), createElementVNode(\"i\", {\n      class: \"el-icon-zoom-in\",\n      onClick: _cache[5] || (_cache[5] = $event => _ctx.handleActions(\"zoomIn\"))\n    }), _hoisted_9, createElementVNode(\"i\", {\n      class: normalizeClass(_ctx.mode.icon),\n      onClick: _cache[6] || (_cache[6] = (...args) => _ctx.toggleMode && _ctx.toggleMode(...args))\n    }, null, 2), _hoisted_10, createElementVNode(\"i\", {\n      class: \"el-icon-refresh-left\",\n      onClick: _cache[7] || (_cache[7] = $event => _ctx.handleActions(\"anticlocelise\"))\n    }), createElementVNode(\"i\", {\n      class: \"el-icon-refresh-right\",\n      onClick: _cache[8] || (_cache[8] = $event => _ctx.handleActions(\"clocelise\"))\n    })])]), createCommentVNode(\" CANVAS \"), createElementVNode(\"div\", _hoisted_11, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.urlList, (url, i) => {\n      return withDirectives((openBlock(), createElementBlock(\"img\", {\n        ref: \"img\",\n        key: url,\n        src: url,\n        style: normalizeStyle(_ctx.imgStyle),\n        class: \"el-image-viewer__img\",\n        onLoad: _cache[9] || (_cache[9] = (...args) => _ctx.handleImgLoad && _ctx.handleImgLoad(...args)),\n        onError: _cache[10] || (_cache[10] = (...args) => _ctx.handleImgError && _ctx.handleImgError(...args)),\n        onMousedown: _cache[11] || (_cache[11] = (...args) => _ctx.handleMouseDown && _ctx.handleMouseDown(...args))\n      }, null, 44, _hoisted_12)), [[vShow, i === _ctx.index]]);\n    }), 128))]), renderSlot(_ctx.$slots, \"default\")], 4)]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/components/image-viewer/src/image-viewer.vue\";\nconst ElImageViewer = withInstall(script);\nexport { ElImageViewer, ElImageViewer as default, imageViewerEmits, imageViewerProps };","map":{"version":3,"names":["withInstall","defineComponent","ref","effectScope","computed","watch","nextTick","onMounted","openBlock","createBlock","Transition","withCtx","createElementVNode","normalizeStyle","withModifiers","createCommentVNode","createElementBlock","Fragment","normalizeClass","renderList","withDirectives","vShow","renderSlot","useEventListener","useLocaleInject","EVENT_CODE","isFirefox","rafThrottle","buildProps","definePropType","mutable","imageViewerProps","urlList","type","Array","default","zIndex","Number","initialIndex","infinite","Boolean","hideOnClickModal","imageViewerEmits","close","switch","index","__defProp","Object","defineProperty","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","prototype","hasOwnProperty","__propIsEnum","propertyIsEnumerable","__defNormalProp","obj","key","value","enumerable","configurable","writable","__spreadValues","a","b","prop","call","__spreadProps","Mode","CONTAIN","name","icon","ORIGINAL","mousewheelEventName","script","props","emits","setup","emit","t","wrapper","img","scopeEventListener","loading","mode","transform","scale","deg","offsetX","offsetY","enableTransition","isSingle","length","isFirst","isLast","currentImg","imgStyle","style","transition","marginLeft","marginTop","maxWidth","maxHeight","hide","unregisterEventListener","registerEventListener","keydownHandler","e","code","esc","space","toggleMode","left","prev","up","handleActions","right","next","down","mousewheelHandler","delta","wheelDelta","detail","zoomRate","run","document","stop","handleImgLoad","handleImgError","target","alt","handleMouseDown","button","startX","pageX","startY","pageY","divLeft","clientLeft","divRight","clientWidth","divTop","clientTop","divBottom","clientHeight","dragHandler","ev","removeMousemove","evt","mouseX","mouseY","reset","preventDefault","modeNames","keys","modeValues","values","currentMode","index2","findIndex","i","nextIndex","len","action","options","rotateDeg","parseFloat","toFixed","$img","complete","val","_a","_b","focus","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","render","_ctx","_cache","$props","$setup","$data","$options","tabindex","onClick","$event","args","url","src","onLoad","onError","onMousedown","$slots","_","__file","ElImageViewer"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/components/image-viewer/index.js"],"sourcesContent":["import { withInstall } from 'element-plus/es/utils/with-install';\nimport { defineComponent, ref, effectScope, computed, watch, nextTick, onMounted, openBlock, createBlock, Transition, withCtx, createElementVNode, normalizeStyle, withModifiers, createCommentVNode, createElementBlock, Fragment, normalizeClass, renderList, withDirectives, vShow, renderSlot } from 'vue';\nimport { useEventListener } from '@vueuse/core';\nimport { useLocaleInject } from 'element-plus/es/hooks';\nimport { EVENT_CODE } from 'element-plus/es/utils/aria';\nimport { isFirefox, rafThrottle } from 'element-plus/es/utils/util';\nimport { buildProps, definePropType, mutable } from 'element-plus/es/utils/props';\n\nconst imageViewerProps = buildProps({\n  urlList: {\n    type: definePropType(Array),\n    default: () => mutable([])\n  },\n  zIndex: {\n    type: Number,\n    default: 2e3\n  },\n  initialIndex: {\n    type: Number,\n    default: 0\n  },\n  infinite: {\n    type: Boolean,\n    default: true\n  },\n  hideOnClickModal: {\n    type: Boolean,\n    default: false\n  }\n});\nconst imageViewerEmits = {\n  close: () => true,\n  switch: (index) => typeof index === \"number\"\n};\n\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nconst Mode = {\n  CONTAIN: {\n    name: \"contain\",\n    icon: \"el-icon-full-screen\"\n  },\n  ORIGINAL: {\n    name: \"original\",\n    icon: \"el-icon-c-scale-to-original\"\n  }\n};\nconst mousewheelEventName = isFirefox() ? \"DOMMouseScroll\" : \"mousewheel\";\nvar script = defineComponent({\n  name: \"ElImageViewer\",\n  props: imageViewerProps,\n  emits: imageViewerEmits,\n  setup(props, { emit }) {\n    const { t } = useLocaleInject();\n    const wrapper = ref();\n    const img = ref();\n    const scopeEventListener = effectScope();\n    const loading = ref(true);\n    const index = ref(props.initialIndex);\n    const mode = ref(Mode.CONTAIN);\n    const transform = ref({\n      scale: 1,\n      deg: 0,\n      offsetX: 0,\n      offsetY: 0,\n      enableTransition: false\n    });\n    const isSingle = computed(() => {\n      const { urlList } = props;\n      return urlList.length <= 1;\n    });\n    const isFirst = computed(() => {\n      return index.value === 0;\n    });\n    const isLast = computed(() => {\n      return index.value === props.urlList.length - 1;\n    });\n    const currentImg = computed(() => {\n      return props.urlList[index.value];\n    });\n    const imgStyle = computed(() => {\n      const { scale, deg, offsetX, offsetY, enableTransition } = transform.value;\n      const style = {\n        transform: `scale(${scale}) rotate(${deg}deg)`,\n        transition: enableTransition ? \"transform .3s\" : \"\",\n        marginLeft: `${offsetX}px`,\n        marginTop: `${offsetY}px`\n      };\n      if (mode.value.name === Mode.CONTAIN.name) {\n        style.maxWidth = style.maxHeight = \"100%\";\n      }\n      return style;\n    });\n    function hide() {\n      unregisterEventListener();\n      emit(\"close\");\n    }\n    function registerEventListener() {\n      const keydownHandler = rafThrottle((e) => {\n        switch (e.code) {\n          case EVENT_CODE.esc:\n            hide();\n            break;\n          case EVENT_CODE.space:\n            toggleMode();\n            break;\n          case EVENT_CODE.left:\n            prev();\n            break;\n          case EVENT_CODE.up:\n            handleActions(\"zoomIn\");\n            break;\n          case EVENT_CODE.right:\n            next();\n            break;\n          case EVENT_CODE.down:\n            handleActions(\"zoomOut\");\n            break;\n        }\n      });\n      const mousewheelHandler = rafThrottle((e) => {\n        const delta = e.wheelDelta ? e.wheelDelta : -e.detail;\n        if (delta > 0) {\n          handleActions(\"zoomIn\", {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        } else {\n          handleActions(\"zoomOut\", {\n            zoomRate: 0.015,\n            enableTransition: false\n          });\n        }\n      });\n      scopeEventListener.run(() => {\n        useEventListener(document, \"keydown\", keydownHandler);\n        useEventListener(document, mousewheelEventName, mousewheelHandler);\n      });\n    }\n    function unregisterEventListener() {\n      scopeEventListener.stop();\n    }\n    function handleImgLoad() {\n      loading.value = false;\n    }\n    function handleImgError(e) {\n      loading.value = false;\n      e.target.alt = t(\"el.image.error\");\n    }\n    function handleMouseDown(e) {\n      if (loading.value || e.button !== 0 || !wrapper.value)\n        return;\n      const { offsetX, offsetY } = transform.value;\n      const startX = e.pageX;\n      const startY = e.pageY;\n      const divLeft = wrapper.value.clientLeft;\n      const divRight = wrapper.value.clientLeft + wrapper.value.clientWidth;\n      const divTop = wrapper.value.clientTop;\n      const divBottom = wrapper.value.clientTop + wrapper.value.clientHeight;\n      const dragHandler = rafThrottle((ev) => {\n        transform.value = __spreadProps(__spreadValues({}, transform.value), {\n          offsetX: offsetX + ev.pageX - startX,\n          offsetY: offsetY + ev.pageY - startY\n        });\n      });\n      const removeMousemove = useEventListener(document, \"mousemove\", dragHandler);\n      useEventListener(document, \"mouseup\", (evt) => {\n        const mouseX = evt.pageX;\n        const mouseY = evt.pageY;\n        if (mouseX < divLeft || mouseX > divRight || mouseY < divTop || mouseY > divBottom) {\n          reset();\n        }\n        removeMousemove();\n      });\n      e.preventDefault();\n    }\n    function reset() {\n      transform.value = {\n        scale: 1,\n        deg: 0,\n        offsetX: 0,\n        offsetY: 0,\n        enableTransition: false\n      };\n    }\n    function toggleMode() {\n      if (loading.value)\n        return;\n      const modeNames = Object.keys(Mode);\n      const modeValues = Object.values(Mode);\n      const currentMode = mode.value.name;\n      const index2 = modeValues.findIndex((i) => i.name === currentMode);\n      const nextIndex = (index2 + 1) % modeNames.length;\n      mode.value = Mode[modeNames[nextIndex]];\n      reset();\n    }\n    function prev() {\n      if (isFirst.value && !props.infinite)\n        return;\n      const len = props.urlList.length;\n      index.value = (index.value - 1 + len) % len;\n    }\n    function next() {\n      if (isLast.value && !props.infinite)\n        return;\n      const len = props.urlList.length;\n      index.value = (index.value + 1) % len;\n    }\n    function handleActions(action, options = {}) {\n      if (loading.value)\n        return;\n      const { zoomRate, rotateDeg, enableTransition } = __spreadValues({\n        zoomRate: 0.2,\n        rotateDeg: 90,\n        enableTransition: true\n      }, options);\n      switch (action) {\n        case \"zoomOut\":\n          if (transform.value.scale > 0.2) {\n            transform.value.scale = parseFloat((transform.value.scale - zoomRate).toFixed(3));\n          }\n          break;\n        case \"zoomIn\":\n          transform.value.scale = parseFloat((transform.value.scale + zoomRate).toFixed(3));\n          break;\n        case \"clocelise\":\n          transform.value.deg += rotateDeg;\n          break;\n        case \"anticlocelise\":\n          transform.value.deg -= rotateDeg;\n          break;\n      }\n      transform.value.enableTransition = enableTransition;\n    }\n    watch(currentImg, () => {\n      nextTick(() => {\n        const $img = img.value;\n        if (!($img == null ? void 0 : $img.complete)) {\n          loading.value = true;\n        }\n      });\n    });\n    watch(index, (val) => {\n      reset();\n      emit(\"switch\", val);\n    });\n    onMounted(() => {\n      var _a, _b;\n      registerEventListener();\n      (_b = (_a = wrapper.value) == null ? void 0 : _a.focus) == null ? void 0 : _b.call(_a);\n    });\n    return {\n      index,\n      wrapper,\n      img,\n      isSingle,\n      isFirst,\n      isLast,\n      currentImg,\n      imgStyle,\n      mode,\n      handleActions,\n      prev,\n      next,\n      hide,\n      toggleMode,\n      handleImgLoad,\n      handleImgError,\n      handleMouseDown\n    };\n  }\n});\n\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-icon-close\" }, null, -1);\nconst _hoisted_2 = [\n  _hoisted_1\n];\nconst _hoisted_3 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-icon-arrow-left\" }, null, -1);\nconst _hoisted_4 = [\n  _hoisted_3\n];\nconst _hoisted_5 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-icon-arrow-right\" }, null, -1);\nconst _hoisted_6 = [\n  _hoisted_5\n];\nconst _hoisted_7 = { class: \"el-image-viewer__btn el-image-viewer__actions\" };\nconst _hoisted_8 = { class: \"el-image-viewer__actions__inner\" };\nconst _hoisted_9 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-image-viewer__actions__divider\" }, null, -1);\nconst _hoisted_10 = /* @__PURE__ */ createElementVNode(\"i\", { class: \"el-image-viewer__actions__divider\" }, null, -1);\nconst _hoisted_11 = { class: \"el-image-viewer__canvas\" };\nconst _hoisted_12 = [\"src\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createBlock(Transition, { name: \"viewer-fade\" }, {\n    default: withCtx(() => [\n      createElementVNode(\"div\", {\n        ref: \"wrapper\",\n        tabindex: -1,\n        class: \"el-image-viewer__wrapper\",\n        style: normalizeStyle({ zIndex: _ctx.zIndex })\n      }, [\n        createElementVNode(\"div\", {\n          class: \"el-image-viewer__mask\",\n          onClick: _cache[0] || (_cache[0] = withModifiers(($event) => _ctx.hideOnClickModal && _ctx.hide(), [\"self\"]))\n        }),\n        createCommentVNode(\" CLOSE \"),\n        createElementVNode(\"span\", {\n          class: \"el-image-viewer__btn el-image-viewer__close\",\n          onClick: _cache[1] || (_cache[1] = (...args) => _ctx.hide && _ctx.hide(...args))\n        }, _hoisted_2),\n        createCommentVNode(\" ARROW \"),\n        !_ctx.isSingle ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n          createElementVNode(\"span\", {\n            class: normalizeClass([\"el-image-viewer__btn el-image-viewer__prev\", { \"is-disabled\": !_ctx.infinite && _ctx.isFirst }]),\n            onClick: _cache[2] || (_cache[2] = (...args) => _ctx.prev && _ctx.prev(...args))\n          }, _hoisted_4, 2),\n          createElementVNode(\"span\", {\n            class: normalizeClass([\"el-image-viewer__btn el-image-viewer__next\", { \"is-disabled\": !_ctx.infinite && _ctx.isLast }]),\n            onClick: _cache[3] || (_cache[3] = (...args) => _ctx.next && _ctx.next(...args))\n          }, _hoisted_6, 2)\n        ], 64)) : createCommentVNode(\"v-if\", true),\n        createCommentVNode(\" ACTIONS \"),\n        createElementVNode(\"div\", _hoisted_7, [\n          createElementVNode(\"div\", _hoisted_8, [\n            createElementVNode(\"i\", {\n              class: \"el-icon-zoom-out\",\n              onClick: _cache[4] || (_cache[4] = ($event) => _ctx.handleActions(\"zoomOut\"))\n            }),\n            createElementVNode(\"i\", {\n              class: \"el-icon-zoom-in\",\n              onClick: _cache[5] || (_cache[5] = ($event) => _ctx.handleActions(\"zoomIn\"))\n            }),\n            _hoisted_9,\n            createElementVNode(\"i\", {\n              class: normalizeClass(_ctx.mode.icon),\n              onClick: _cache[6] || (_cache[6] = (...args) => _ctx.toggleMode && _ctx.toggleMode(...args))\n            }, null, 2),\n            _hoisted_10,\n            createElementVNode(\"i\", {\n              class: \"el-icon-refresh-left\",\n              onClick: _cache[7] || (_cache[7] = ($event) => _ctx.handleActions(\"anticlocelise\"))\n            }),\n            createElementVNode(\"i\", {\n              class: \"el-icon-refresh-right\",\n              onClick: _cache[8] || (_cache[8] = ($event) => _ctx.handleActions(\"clocelise\"))\n            })\n          ])\n        ]),\n        createCommentVNode(\" CANVAS \"),\n        createElementVNode(\"div\", _hoisted_11, [\n          (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.urlList, (url, i) => {\n            return withDirectives((openBlock(), createElementBlock(\"img\", {\n              ref: \"img\",\n              key: url,\n              src: url,\n              style: normalizeStyle(_ctx.imgStyle),\n              class: \"el-image-viewer__img\",\n              onLoad: _cache[9] || (_cache[9] = (...args) => _ctx.handleImgLoad && _ctx.handleImgLoad(...args)),\n              onError: _cache[10] || (_cache[10] = (...args) => _ctx.handleImgError && _ctx.handleImgError(...args)),\n              onMousedown: _cache[11] || (_cache[11] = (...args) => _ctx.handleMouseDown && _ctx.handleMouseDown(...args))\n            }, null, 44, _hoisted_12)), [\n              [vShow, i === _ctx.index]\n            ]);\n          }), 128))\n        ]),\n        renderSlot(_ctx.$slots, \"default\")\n      ], 4)\n    ]),\n    _: 3\n  });\n}\n\nscript.render = render;\nscript.__file = \"packages/components/image-viewer/src/image-viewer.vue\";\n\nconst ElImageViewer = withInstall(script);\n\nexport { ElImageViewer, ElImageViewer as default, imageViewerEmits, imageViewerProps };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}