{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nexport const EVENT_CODE = {\n  tab: 'Tab',\n  enter: 'Enter',\n  space: 'Space',\n  left: 'ArrowLeft',\n  up: 'ArrowUp',\n  right: 'ArrowRight',\n  down: 'ArrowDown',\n  esc: 'Escape',\n  delete: 'Delete',\n  backspace: 'Backspace'\n};\nconst FOCUSABLE_ELEMENT_SELECTORS = `a[href],button:not([disabled]),button:not([hidden]),:not([tabindex=\"-1\"]),input:not([disabled]),input:not([type=\"hidden\"]),select:not([disabled]),textarea:not([disabled])`;\nexport const isVisible = element => {\n  if (process.env.NODE_ENV === 'test') return true;\n  const computed = getComputedStyle(element);\n  return computed.position === 'fixed' ? false : element.offsetParent !== null;\n};\nexport const obtainAllFocusableElements = element => {\n  return Array.from(element.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(item => isFocusable(item) && isVisible(item));\n};\nexport const isFocusable = element => {\n  if (element.tabIndex > 0 || element.tabIndex === 0 && element.getAttribute('tabIndex') !== null) {\n    return true;\n  }\n\n  if (element.disabled) {\n    return false;\n  }\n\n  switch (element.nodeName) {\n    case 'A':\n      {\n        return !!element.href && element.rel !== 'ignore';\n      }\n\n    case 'INPUT':\n      {\n        return !(element.type === 'hidden' || element.type === 'file');\n      }\n\n    case 'BUTTON':\n    case 'SELECT':\n    case 'TEXTAREA':\n      {\n        return true;\n      }\n\n    default:\n      {\n        return false;\n      }\n  }\n};\nexport const attemptFocus = element => {\n  var _a;\n\n  if (!isFocusable(element)) {\n    return false;\n  }\n\n  Utils.IgnoreUtilFocusChanges = true;\n  (_a = element.focus) === null || _a === void 0 ? void 0 : _a.call(element);\n  Utils.IgnoreUtilFocusChanges = false;\n  return document.activeElement === element;\n};\nexport const triggerEvent = function (elm, name, ...opts) {\n  let eventName;\n\n  if (name.includes('mouse') || name.includes('click')) {\n    eventName = 'MouseEvents';\n  } else if (name.includes('key')) {\n    eventName = 'KeyboardEvent';\n  } else {\n    eventName = 'HTMLEvents';\n  }\n\n  const evt = document.createEvent(eventName);\n  evt.initEvent(name, ...opts);\n  elm.dispatchEvent(evt);\n  return elm;\n};\nconst Utils = {\n  IgnoreUtilFocusChanges: false,\n\n  focusFirstDescendant(element) {\n    for (let i = 0; i < element.childNodes.length; i++) {\n      const child = element.childNodes[i];\n\n      if (attemptFocus(child) || this.focusFirstDescendant(child)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  focusLastDescendant(element) {\n    for (let i = element.childNodes.length - 1; i >= 0; i--) {\n      const child = element.childNodes[i];\n\n      if (attemptFocus(child) || this.focusLastDescendant(child)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n};\nexport default Utils;","map":{"version":3,"names":["EVENT_CODE","tab","enter","space","left","up","right","down","esc","delete","backspace","FOCUSABLE_ELEMENT_SELECTORS","isVisible","element","process","env","NODE_ENV","computed","getComputedStyle","position","offsetParent","obtainAllFocusableElements","Array","from","querySelectorAll","filter","item","isFocusable","tabIndex","getAttribute","disabled","nodeName","href","rel","type","attemptFocus","_a","Utils","IgnoreUtilFocusChanges","focus","call","document","activeElement","triggerEvent","elm","name","opts","eventName","includes","evt","createEvent","initEvent","dispatchEvent","focusFirstDescendant","i","childNodes","length","child","focusLastDescendant"],"sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/node_modules/element-plus/es/utils/aria.js"],"sourcesContent":["export const EVENT_CODE = {\n    tab: 'Tab',\n    enter: 'Enter',\n    space: 'Space',\n    left: 'ArrowLeft',\n    up: 'ArrowUp',\n    right: 'ArrowRight',\n    down: 'ArrowDown',\n    esc: 'Escape',\n    delete: 'Delete',\n    backspace: 'Backspace',\n};\nconst FOCUSABLE_ELEMENT_SELECTORS = `a[href],button:not([disabled]),button:not([hidden]),:not([tabindex=\"-1\"]),input:not([disabled]),input:not([type=\"hidden\"]),select:not([disabled]),textarea:not([disabled])`;\nexport const isVisible = (element) => {\n    if (process.env.NODE_ENV === 'test')\n        return true;\n    const computed = getComputedStyle(element);\n    return computed.position === 'fixed' ? false : element.offsetParent !== null;\n};\nexport const obtainAllFocusableElements = (element) => {\n    return Array.from(element.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter((item) => isFocusable(item) && isVisible(item));\n};\nexport const isFocusable = (element) => {\n    if (element.tabIndex > 0 ||\n        (element.tabIndex === 0 && element.getAttribute('tabIndex') !== null)) {\n        return true;\n    }\n    if (element.disabled) {\n        return false;\n    }\n    switch (element.nodeName) {\n        case 'A': {\n            return (!!element.href &&\n                element.rel !== 'ignore');\n        }\n        case 'INPUT': {\n            return !(element.type === 'hidden' ||\n                element.type === 'file');\n        }\n        case 'BUTTON':\n        case 'SELECT':\n        case 'TEXTAREA': {\n            return true;\n        }\n        default: {\n            return false;\n        }\n    }\n};\nexport const attemptFocus = (element) => {\n    var _a;\n    if (!isFocusable(element)) {\n        return false;\n    }\n    Utils.IgnoreUtilFocusChanges = true;\n    (_a = element.focus) === null || _a === void 0 ? void 0 : _a.call(element);\n    Utils.IgnoreUtilFocusChanges = false;\n    return document.activeElement === element;\n};\nexport const triggerEvent = function (elm, name, ...opts) {\n    let eventName;\n    if (name.includes('mouse') || name.includes('click')) {\n        eventName = 'MouseEvents';\n    }\n    else if (name.includes('key')) {\n        eventName = 'KeyboardEvent';\n    }\n    else {\n        eventName = 'HTMLEvents';\n    }\n    const evt = document.createEvent(eventName);\n    evt.initEvent(name, ...opts);\n    elm.dispatchEvent(evt);\n    return elm;\n};\nconst Utils = {\n    IgnoreUtilFocusChanges: false,\n    focusFirstDescendant(element) {\n        for (let i = 0; i < element.childNodes.length; i++) {\n            const child = element.childNodes[i];\n            if (attemptFocus(child) || this.focusFirstDescendant(child)) {\n                return true;\n            }\n        }\n        return false;\n    },\n    focusLastDescendant(element) {\n        for (let i = element.childNodes.length - 1; i >= 0; i--) {\n            const child = element.childNodes[i];\n            if (attemptFocus(child) || this.focusLastDescendant(child)) {\n                return true;\n            }\n        }\n        return false;\n    },\n};\nexport default Utils;\n"],"mappings":";AAAA,OAAO,MAAMA,UAAU,GAAG;EACtBC,GAAG,EAAE,KADiB;EAEtBC,KAAK,EAAE,OAFe;EAGtBC,KAAK,EAAE,OAHe;EAItBC,IAAI,EAAE,WAJgB;EAKtBC,EAAE,EAAE,SALkB;EAMtBC,KAAK,EAAE,YANe;EAOtBC,IAAI,EAAE,WAPgB;EAQtBC,GAAG,EAAE,QARiB;EAStBC,MAAM,EAAE,QATc;EAUtBC,SAAS,EAAE;AAVW,CAAnB;AAYP,MAAMC,2BAA2B,GAAI,4KAArC;AACA,OAAO,MAAMC,SAAS,GAAIC,OAAD,IAAa;EAClC,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAA7B,EACI,OAAO,IAAP;EACJ,MAAMC,QAAQ,GAAGC,gBAAgB,CAACL,OAAD,CAAjC;EACA,OAAOI,QAAQ,CAACE,QAAT,KAAsB,OAAtB,GAAgC,KAAhC,GAAwCN,OAAO,CAACO,YAAR,KAAyB,IAAxE;AACH,CALM;AAMP,OAAO,MAAMC,0BAA0B,GAAIR,OAAD,IAAa;EACnD,OAAOS,KAAK,CAACC,IAAN,CAAWV,OAAO,CAACW,gBAAR,CAAyBb,2BAAzB,CAAX,EAAkEc,MAAlE,CAA0EC,IAAD,IAAUC,WAAW,CAACD,IAAD,CAAX,IAAqBd,SAAS,CAACc,IAAD,CAAjH,CAAP;AACH,CAFM;AAGP,OAAO,MAAMC,WAAW,GAAId,OAAD,IAAa;EACpC,IAAIA,OAAO,CAACe,QAAR,GAAmB,CAAnB,IACCf,OAAO,CAACe,QAAR,KAAqB,CAArB,IAA0Bf,OAAO,CAACgB,YAAR,CAAqB,UAArB,MAAqC,IADpE,EAC2E;IACvE,OAAO,IAAP;EACH;;EACD,IAAIhB,OAAO,CAACiB,QAAZ,EAAsB;IAClB,OAAO,KAAP;EACH;;EACD,QAAQjB,OAAO,CAACkB,QAAhB;IACI,KAAK,GAAL;MAAU;QACN,OAAQ,CAAC,CAAClB,OAAO,CAACmB,IAAV,IACJnB,OAAO,CAACoB,GAAR,KAAgB,QADpB;MAEH;;IACD,KAAK,OAAL;MAAc;QACV,OAAO,EAAEpB,OAAO,CAACqB,IAAR,KAAiB,QAAjB,IACLrB,OAAO,CAACqB,IAAR,KAAiB,MADd,CAAP;MAEH;;IACD,KAAK,QAAL;IACA,KAAK,QAAL;IACA,KAAK,UAAL;MAAiB;QACb,OAAO,IAAP;MACH;;IACD;MAAS;QACL,OAAO,KAAP;MACH;EAhBL;AAkBH,CA1BM;AA2BP,OAAO,MAAMC,YAAY,GAAItB,OAAD,IAAa;EACrC,IAAIuB,EAAJ;;EACA,IAAI,CAACT,WAAW,CAACd,OAAD,CAAhB,EAA2B;IACvB,OAAO,KAAP;EACH;;EACDwB,KAAK,CAACC,sBAAN,GAA+B,IAA/B;EACA,CAACF,EAAE,GAAGvB,OAAO,CAAC0B,KAAd,MAAyB,IAAzB,IAAiCH,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACI,IAAH,CAAQ3B,OAAR,CAA1D;EACAwB,KAAK,CAACC,sBAAN,GAA+B,KAA/B;EACA,OAAOG,QAAQ,CAACC,aAAT,KAA2B7B,OAAlC;AACH,CATM;AAUP,OAAO,MAAM8B,YAAY,GAAG,UAAUC,GAAV,EAAeC,IAAf,EAAqB,GAAGC,IAAxB,EAA8B;EACtD,IAAIC,SAAJ;;EACA,IAAIF,IAAI,CAACG,QAAL,CAAc,OAAd,KAA0BH,IAAI,CAACG,QAAL,CAAc,OAAd,CAA9B,EAAsD;IAClDD,SAAS,GAAG,aAAZ;EACH,CAFD,MAGK,IAAIF,IAAI,CAACG,QAAL,CAAc,KAAd,CAAJ,EAA0B;IAC3BD,SAAS,GAAG,eAAZ;EACH,CAFI,MAGA;IACDA,SAAS,GAAG,YAAZ;EACH;;EACD,MAAME,GAAG,GAAGR,QAAQ,CAACS,WAAT,CAAqBH,SAArB,CAAZ;EACAE,GAAG,CAACE,SAAJ,CAAcN,IAAd,EAAoB,GAAGC,IAAvB;EACAF,GAAG,CAACQ,aAAJ,CAAkBH,GAAlB;EACA,OAAOL,GAAP;AACH,CAfM;AAgBP,MAAMP,KAAK,GAAG;EACVC,sBAAsB,EAAE,KADd;;EAEVe,oBAAoB,CAACxC,OAAD,EAAU;IAC1B,KAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGzC,OAAO,CAAC0C,UAAR,CAAmBC,MAAvC,EAA+CF,CAAC,EAAhD,EAAoD;MAChD,MAAMG,KAAK,GAAG5C,OAAO,CAAC0C,UAAR,CAAmBD,CAAnB,CAAd;;MACA,IAAInB,YAAY,CAACsB,KAAD,CAAZ,IAAuB,KAAKJ,oBAAL,CAA0BI,KAA1B,CAA3B,EAA6D;QACzD,OAAO,IAAP;MACH;IACJ;;IACD,OAAO,KAAP;EACH,CAVS;;EAWVC,mBAAmB,CAAC7C,OAAD,EAAU;IACzB,KAAK,IAAIyC,CAAC,GAAGzC,OAAO,CAAC0C,UAAR,CAAmBC,MAAnB,GAA4B,CAAzC,EAA4CF,CAAC,IAAI,CAAjD,EAAoDA,CAAC,EAArD,EAAyD;MACrD,MAAMG,KAAK,GAAG5C,OAAO,CAAC0C,UAAR,CAAmBD,CAAnB,CAAd;;MACA,IAAInB,YAAY,CAACsB,KAAD,CAAZ,IAAuB,KAAKC,mBAAL,CAAyBD,KAAzB,CAA3B,EAA4D;QACxD,OAAO,IAAP;MACH;IACJ;;IACD,OAAO,KAAP;EACH;;AAnBS,CAAd;AAqBA,eAAepB,KAAf"},"metadata":{},"sourceType":"module"}