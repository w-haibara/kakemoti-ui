{"ast":null,"code":"import Drawflow from \"drawflow\";\nimport styleDrawflow from \"drawflow/dist/drawflow.min.css\";\nimport style from \"../assets/style.css\";\nimport { onMounted, shallowRef, h, getCurrentInstance, render, readonly, ref } from \"vue\";\nimport NodeOne from \"./nodes/nodeOne.vue\";\nimport NodeTwo from \"./nodes/node2.vue\";\nimport NodeThree from \"./nodes/node3.vue\";\nexport default {\n  name: \"drawflowComponent\",\n\n  setup() {\n    const listNodes = readonly([{\n      name: \"Get/Post\",\n      color: \"#49494970\",\n      item: \"node-one\",\n      input: 0,\n      output: 1\n    }, {\n      name: \"Script\",\n      color: \"blue\",\n      item: \"NodeTwo\",\n      input: 1,\n      output: 2\n    }, {\n      name: \"console.log\",\n      color: \"#ff9900\",\n      item: \"NodeThree\",\n      input: 1,\n      output: 0\n    }]);\n    const editor = shallowRef({});\n    const dialogVisible = ref(false);\n    const dialogData = ref({});\n    const Vue = {\n      version: 3,\n      h,\n      render\n    };\n    const internalInstance = getCurrentInstance();\n    internalInstance.appContext.app._context.config.globalProperties.$df = editor;\n\n    function exportEditor() {\n      dialogData.value = editor.value.export();\n      dialogVisible.value = true;\n    }\n\n    const drag = ev => {\n      if (ev.type === \"touchstart\") {\n        mobile_item_selec = ev.target.closest(\".drag-drawflow\").getAttribute(\"data-node\");\n      } else {\n        ev.dataTransfer.setData(\"node\", ev.target.getAttribute(\"data-node\"));\n      }\n    };\n\n    const drop = ev => {\n      if (ev.type === \"touchend\") {\n        var parentdrawflow = document.elementFromPoint(mobile_last_move.touches[0].clientX, mobile_last_move.touches[0].clientY).closest(\"#drawflow\");\n\n        if (parentdrawflow != null) {\n          addNodeToDrawFlow(mobile_item_selec, mobile_last_move.touches[0].clientX, mobile_last_move.touches[0].clientY);\n        }\n\n        mobile_item_selec = \"\";\n      } else {\n        ev.preventDefault();\n        var data = ev.dataTransfer.getData(\"node\");\n        addNodeToDrawFlow(data, ev.clientX, ev.clientY);\n      }\n    };\n\n    const allowDrop = ev => {\n      ev.preventDefault();\n    };\n\n    let mobile_item_selec = \"\";\n    let mobile_last_move = null;\n\n    function positionMobile(ev) {\n      mobile_last_move = ev;\n    }\n\n    function addNodeToDrawFlow(name, pos_x, pos_y) {\n      pos_x = pos_x * (editor.value.precanvas.clientWidth / (editor.value.precanvas.clientWidth * editor.value.zoom)) - editor.value.precanvas.getBoundingClientRect().x * (editor.value.precanvas.clientWidth / (editor.value.precanvas.clientWidth * editor.value.zoom));\n      pos_y = pos_y * (editor.value.precanvas.clientHeight / (editor.value.precanvas.clientHeight * editor.value.zoom)) - editor.value.precanvas.getBoundingClientRect().y * (editor.value.precanvas.clientHeight / (editor.value.precanvas.clientHeight * editor.value.zoom));\n      const nodeSelected = listNodes.find(ele => ele.item == name);\n      editor.value.addNode(name, nodeSelected.input, nodeSelected.output, pos_x, pos_y, name, {}, name, \"vue\");\n    }\n\n    onMounted(() => {\n      var elements = document.getElementsByClassName(\"drag-drawflow\");\n\n      for (var i = 0; i < elements.length; i++) {\n        elements[i].addEventListener(\"touchend\", drop, false);\n        elements[i].addEventListener(\"touchmove\", positionMobile, false);\n        elements[i].addEventListener(\"touchstart\", drag, false);\n      }\n\n      const id = document.getElementById(\"drawflow\");\n      editor.value = new Drawflow(id, Vue, internalInstance.appContext.app._context);\n      editor.value.start();\n      editor.value.registerNode(\"nodeOne\", node - one, {}, {});\n      editor.value.registerNode(\"NodeTwo\", NodeTwo, {}, {});\n      editor.value.registerNode(\"NodeThree\", NodeThree, {}, {});\n      editor.value.import({\n        drawflow: {\n          Home: {\n            data: {\n              5: {\n                id: 5,\n                name: \"NodeTwo\",\n                data: {\n                  script: \"(req,res) => {\\n console.log(req);\\n}\"\n                },\n                class: \"NodeTwo\",\n                html: \"NodeTwo\",\n                typenode: \"vue\",\n                inputs: {\n                  input_1: {\n                    connections: [{\n                      node: \"6\",\n                      input: \"output_1\"\n                    }]\n                  }\n                },\n                outputs: {\n                  output_1: {\n                    connections: []\n                  },\n                  output_2: {\n                    connections: []\n                  }\n                },\n                pos_x: 1000,\n                pos_y: 117\n              },\n              6: {\n                id: 6,\n                name: \"node-one\",\n                data: {\n                  url: \"localhost/add\",\n                  method: \"post\"\n                },\n                class: \"node-one\",\n                html: \"node-one\",\n                typenode: \"vue\",\n                inputs: {},\n                outputs: {\n                  output_1: {\n                    connections: [{\n                      node: \"5\",\n                      output: \"input_1\"\n                    }]\n                  }\n                },\n                pos_x: 137,\n                pos_y: 89\n              }\n            }\n          }\n        }\n      });\n    });\n    return {\n      exportEditor,\n      listNodes,\n      drag,\n      drop,\n      allowDrop,\n      dialogVisible,\n      dialogData\n    };\n  }\n\n};","map":{"version":3,"mappings":"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","names":["Drawflow","styleDrawflow","style","onMounted","shallowRef","h","getCurrentInstance","render","readonly","ref","NodeOne","NodeTwo","NodeThree","name","setup","listNodes","color","item","input","output","editor","dialogVisible","dialogData","Vue","version","internalInstance","appContext","app","_context","config","globalProperties","$df","exportEditor","value","export","drag","ev","type","mobile_item_selec","target","closest","getAttribute","dataTransfer","setData","drop","parentdrawflow","document","elementFromPoint","mobile_last_move","touches","clientX","clientY","addNodeToDrawFlow","preventDefault","data","getData","allowDrop","positionMobile","pos_x","pos_y","precanvas","clientWidth","zoom","getBoundingClientRect","x","clientHeight","y","nodeSelected","find","ele","addNode","elements","getElementsByClassName","i","length","addEventListener","id","getElementById","start","registerNode","node","one","import","drawflow","Home","script","class","html","typenode","inputs","input_1","connections","outputs","output_1","output_2","url","method"],"sourceRoot":"","sources":["/home/haibara/ghq/github.com/w-haibara/kakemoti-ui/src/components/drawflowComponent.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-header class=\"header\">\n      <h3>Drawflow Example vue3</h3>\n      <el-button type=\"primary\" @click=\"exportEditor\">Export</el-button>\n    </el-header>\n    <el-container class=\"container\">\n      <el-aside width=\"250px\" class=\"column\">\n        <ul>\n          <li\n            v-for=\"n in listNodes\"\n            :key=\"n\"\n            draggable=\"true\"\n            :data-node=\"n.item\"\n            @dragstart=\"drag($event)\"\n            class=\"drag-drawflow\"\n          >\n            <div class=\"node\" :style=\"`background: ${n.color}`\">\n              {{ n.name }}\n            </div>\n          </li>\n        </ul>\n      </el-aside>\n      <el-main>\n        <div\n          id=\"drawflow\"\n          @drop=\"drop($event)\"\n          @dragover=\"allowDrop($event)\"\n        ></div>\n      </el-main>\n    </el-container>\n  </el-container>\n  <el-dialog v-model=\"dialogVisible\" title=\"Export\" width=\"50%\">\n    <span>Data:</span>\n    <pre><code>{{dialogData}}</code></pre>\n    <template #footer>\n      <span class=\"dialog-footer\">\n        <el-button @click=\"dialogVisible = false\">Cancel</el-button>\n        <el-button type=\"primary\" @click=\"dialogVisible = false\"\n          >Confirm</el-button\n        >\n      </span>\n    </template>\n  </el-dialog>\n</template>\n<script>\nimport Drawflow from \"drawflow\";\nimport styleDrawflow from \"drawflow/dist/drawflow.min.css\";\nimport style from \"../assets/style.css\";\nimport {\n  onMounted,\n  shallowRef,\n  h,\n  getCurrentInstance,\n  render,\n  readonly,\n  ref,\n} from \"vue\";\nimport NodeOne from \"./nodes/nodeOne.vue\";\nimport NodeTwo from \"./nodes/node2.vue\";\nimport NodeThree from \"./nodes/node3.vue\";\n\nexport default {\n  name: \"drawflowComponent\",\n  setup() {\n    const listNodes = readonly([\n      {\n        name: \"Get/Post\",\n        color: \"#49494970\",\n        item: \"node-one\",\n        input: 0,\n        output: 1,\n      },\n      {\n        name: \"Script\",\n        color: \"blue\",\n        item: \"NodeTwo\",\n        input: 1,\n        output: 2,\n      },\n      {\n        name: \"console.log\",\n        color: \"#ff9900\",\n        item: \"NodeThree\",\n        input: 1,\n        output: 0,\n      },\n    ]);\n\n    const editor = shallowRef({});\n    const dialogVisible = ref(false);\n    const dialogData = ref({});\n    const Vue = { version: 3, h, render };\n    const internalInstance = getCurrentInstance();\n    internalInstance.appContext.app._context.config.globalProperties.$df =\n      editor;\n\n    function exportEditor() {\n      dialogData.value = editor.value.export();\n      dialogVisible.value = true;\n    }\n\n    const drag = (ev) => {\n      if (ev.type === \"touchstart\") {\n        mobile_item_selec = ev.target\n          .closest(\".drag-drawflow\")\n          .getAttribute(\"data-node\");\n      } else {\n        ev.dataTransfer.setData(\"node\", ev.target.getAttribute(\"data-node\"));\n      }\n    };\n    const drop = (ev) => {\n      if (ev.type === \"touchend\") {\n        var parentdrawflow = document\n          .elementFromPoint(\n            mobile_last_move.touches[0].clientX,\n            mobile_last_move.touches[0].clientY\n          )\n          .closest(\"#drawflow\");\n        if (parentdrawflow != null) {\n          addNodeToDrawFlow(\n            mobile_item_selec,\n            mobile_last_move.touches[0].clientX,\n            mobile_last_move.touches[0].clientY\n          );\n        }\n        mobile_item_selec = \"\";\n      } else {\n        ev.preventDefault();\n        var data = ev.dataTransfer.getData(\"node\");\n        addNodeToDrawFlow(data, ev.clientX, ev.clientY);\n      }\n    };\n    const allowDrop = (ev) => {\n      ev.preventDefault();\n    };\n\n    let mobile_item_selec = \"\";\n    let mobile_last_move = null;\n    function positionMobile(ev) {\n      mobile_last_move = ev;\n    }\n\n    function addNodeToDrawFlow(name, pos_x, pos_y) {\n      pos_x =\n        pos_x *\n          (editor.value.precanvas.clientWidth /\n            (editor.value.precanvas.clientWidth * editor.value.zoom)) -\n        editor.value.precanvas.getBoundingClientRect().x *\n          (editor.value.precanvas.clientWidth /\n            (editor.value.precanvas.clientWidth * editor.value.zoom));\n      pos_y =\n        pos_y *\n          (editor.value.precanvas.clientHeight /\n            (editor.value.precanvas.clientHeight * editor.value.zoom)) -\n        editor.value.precanvas.getBoundingClientRect().y *\n          (editor.value.precanvas.clientHeight /\n            (editor.value.precanvas.clientHeight * editor.value.zoom));\n\n      const nodeSelected = listNodes.find((ele) => ele.item == name);\n      editor.value.addNode(\n        name,\n        nodeSelected.input,\n        nodeSelected.output,\n        pos_x,\n        pos_y,\n        name,\n        {},\n        name,\n        \"vue\"\n      );\n    }\n\n    onMounted(() => {\n      var elements = document.getElementsByClassName(\"drag-drawflow\");\n      for (var i = 0; i < elements.length; i++) {\n        elements[i].addEventListener(\"touchend\", drop, false);\n        elements[i].addEventListener(\"touchmove\", positionMobile, false);\n        elements[i].addEventListener(\"touchstart\", drag, false);\n      }\n\n      const id = document.getElementById(\"drawflow\");\n      editor.value = new Drawflow(\n        id,\n        Vue,\n        internalInstance.appContext.app._context\n      );\n      editor.value.start();\n\n      editor.value.registerNode(\"nodeOne\", node-one, {}, {});\n      editor.value.registerNode(\"NodeTwo\", NodeTwo, {}, {});\n      editor.value.registerNode(\"NodeThree\", NodeThree, {}, {});\n\n      editor.value.import({\n        drawflow: {\n          Home: {\n            data: {\n              5: {\n                id: 5,\n                name: \"NodeTwo\",\n                data: { script: \"(req,res) => {\\n console.log(req);\\n}\" },\n                class: \"NodeTwo\",\n                html: \"NodeTwo\",\n                typenode: \"vue\",\n                inputs: {\n                  input_1: { connections: [{ node: \"6\", input: \"output_1\" }] },\n                },\n                outputs: {\n                  output_1: { connections: [] },\n                  output_2: { connections: [] },\n                },\n                pos_x: 1000,\n                pos_y: 117,\n              },\n              6: {\n                id: 6,\n                name: \"node-one\",\n                data: { url: \"localhost/add\", method: \"post\" },\n                class: \"node-one\",\n                html: \"node-one\",\n                typenode: \"vue\",\n                inputs: {},\n                outputs: {\n                  output_1: { connections: [{ node: \"5\", output: \"input_1\" }] },\n                },\n                pos_x: 137,\n                pos_y: 89,\n              },\n            },\n          },\n        },\n      });\n    });\n\n    return {\n      exportEditor,\n      listNodes,\n      drag,\n      drop,\n      allowDrop,\n      dialogVisible,\n      dialogData,\n    };\n  },\n};\n</script>\n<style scoped>\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid #494949;\n}\n.container {\n  min-height: calc(100vh - 100px);\n}\n.column {\n  border-right: 1px solid #494949;\n}\n.column ul {\n  padding-inline-start: 0px;\n  padding: 10px 10px;\n}\n.column li {\n  background: transparent;\n}\n\n.node {\n  border-radius: 8px;\n  border: 2px solid #494949;\n  display: block;\n  height: 60px;\n  line-height: 40px;\n  padding: 10px;\n  margin: 10px 0px;\n  cursor: move;\n}\n#drawflow {\n  width: 100%;\n  height: 100%;\n  text-align: initial;\n  background: #2b2c30;\n  background-size: 20px 20px;\n  background-image: radial-gradient(#494949 1px, transparent 1px);\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}